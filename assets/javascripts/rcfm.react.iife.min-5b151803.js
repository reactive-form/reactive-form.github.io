/*!
 * rcfm 1.0.0-beta.0 | React iife | https://reactive-form.github.io/
 * Copyright 2021 - 2022 JLxiangyun | MIT license
 */
(()=>{var $o=Object.create;var Ne=Object.defineProperty,Lo=Object.defineProperties,zo=Object.getOwnPropertyDescriptor,qo=Object.getOwnPropertyDescriptors,Jo=Object.getOwnPropertyNames,Rr=Object.getOwnPropertySymbols,Ko=Object.getPrototypeOf,Er=Object.prototype.hasOwnProperty,Qo=Object.prototype.propertyIsEnumerable;var yr=(e,t,l)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,d=(e,t)=>{for(var l in t||(t={}))Er.call(t,l)&&yr(e,l,t[l]);if(Rr)for(var l of Rr(t))Qo.call(t,l)&&yr(e,l,t[l]);return e},v=(e,t)=>Lo(e,qo(t)),Xo=e=>Ne(e,"__esModule",{value:!0});var i=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var Yo=(e,t,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Jo(t))!Er.call(e,s)&&s!=="default"&&Ne(e,s,{get:()=>t[s],enumerable:!(l=zo(t,s))||l.enumerable});return e},m=e=>Yo(Xo(Ne(e!=null?$o(Ko(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);(()=>{let e=window.require;window.require=t=>e&&e(t)||{react:window.React,"react-dom":window.ReactDOM,"rcfm/react":{UI:window.ReactiveForm.UI}}[t]})();var h=m(i("rcfm/helper"));var Ir=m(i("react"));function Pe(e,t){(0,Ir.useEffect)(()=>{let l=s=>{!e.current||e.current.contains(s.target)||t(s)};return document.addEventListener("click",l),()=>{document.removeEventListener("click",l)}},[e,t])}var Fr=m(i("rcfm")),kr=m(i("react"));function Me(e=""){let t=(0,kr.useState)((0,Fr.guid)())[0];return e||t}var W=m(i("react"));function Zo(){let e=(0,W.useRef)(!1);return(0,W.useEffect)(()=>(e.current=!0,()=>e.current=!1),[e]),e}function en(e,t={}){t||(t={});let{id:l,prop:s}=t,n=Zo(),[o,r]=(0,W.useState)(jr(e,t));return(0,W.useEffect)(()=>{if(!!l)return e.subscribe({id:l},()=>{!n.current||e.family.hasnt({id:l})||r(jr(e,s?{id:l,prop:s}:{id:l}))})},[e,l,s,n]),o}function jr(e,t){return e.get(t,{include:["raw","error"]})}var Yt=en;var Zt=m(i("rcfm/helper")),wr=m(i("react"));function Re(e={}){let{name:t,customProps:l}=Zt.UI.getProps(e,{name:{dataType:"String",required:!0}}),s=Zt.UI.joinClass({root:"rcfm-component-ico",klass:t},e.className);return wr.default.createElement("i",d({},v(d({},l),{className:s})))}var Br=m(i("rcfm")),er=m(i("rcfm/helper")),R=m(i("react"));function Ee(e={}){let t=er.UI.Component.Button,{customProps:l,type:s,disabled:n,onClick:o,icon:r,topIcon:a,leftIcon:c,rightIcon:p}=t.getProps(e),u=t.joinWrapperClass(e),f=(()=>r?Ur:a||c||p?tn:Tr)();return R.default.createElement("button",d({},v(d({},l),{type:s,disabled:n,onClick:o,className:u})),R.default.createElement(f,{icon:r||a||c||p},e.children))}function Tr(e={}){return R.default.createElement(R.default.Fragment,null,e.children)}function Ur(e={}){let t=er.UI.use("React.Component.Icon");return Br.Type.is.boolean(e.icon)?R.default.createElement(R.default.Fragment,null,e.children):R.default.createElement(t,{name:e.icon})}function tn(e={}){return R.default.createElement(R.default.Fragment,null,R.default.createElement(Ur,{icon:e.icon}),R.default.createElement(Tr,null,e.children))}var Ar=m(i("rcfm/helper")),Hr=m(i("react"));function ye(e={}){let t=Ar.UI.Component.Button.Group,{customProps:l}=t.getProps(e),s=t.joinWrapperClass(e);return Hr.default.createElement("div",d({},v(d({},l),{className:s})),e.children)}var tr=m(i("rcfm/helper")),Wr=m(i("react"));function Ie(e={}){let{type:t,customProps:l}=tr.UI.getProps(e,{type:{dataType:"String",default:"info"}}),s=tr.UI.joinClass({root:"rcfm-component-alert",klass:t},e.className);return Wr.default.createElement("div",d({},v(d({},l),{className:s})),e.children)}var Or=m(i("react"));function Fe(e={}){return Or.default.createElement("h6",{className:"rcfm-component-alert-title"},e.children)}var Vr=m(i("react"));function ke(e={}){return Vr.default.createElement("p",{className:"rcfm-component-alert-text"},e.children)}var ie=m(i("rcfm/helper")),je=m(i("react"));function we(e={}){let t=ie.UI.Component.Highlight,l=ie.UI.use("React.Component.Alert"),s=ie.UI.use("React.Component.AlertText"),{customProps:n,type:o,hint:r,hintPosition:a,on:c}=t.getProps(e),p=t.joinWrapperClass(e);return je.default.createElement("div",d({},v(d({},n),{className:p})),a==="bottom"?e.children:null,!c||!r.length?null:je.default.createElement(l,{className:ie.UI.joinClass({root:"rcfm-component-highlight-hint",klass:a}),type:o},r.map((u,f)=>je.default.createElement(s,{key:f},u))),a==="top"?e.children:null)}var q=m(i("rcfm/helper")),O=m(i("react"));function Be(e={}){let t=q.UI.Component.Tabs,{title:l,labels:s,activeIndex:n,onSwitch:o,customProps:r}=t.getProps(e),a=q.UI.joinClass("rcfm-component-tabs",e.className);return O.default.createElement("div",d({},v(d({},r),{className:a})),O.default.createElement("div",{className:"rcfm-component-tabs-header"},l&&O.default.createElement("h6",{className:"rcfm-component-tabs-title"},l),s.map((c,p)=>O.default.createElement("label",{key:c,tabIndex:0,onClick:()=>o&&o(p),onKeyDown:u=>u.keyCode===13&&o&&o(p),className:q.UI.joinClass({root:"rcfm-component-tabs",klass:["label",n===p?"label-active":""]})},c))),s.length?s.map((c,p)=>O.default.createElement("div",{key:c,className:q.UI.joinClass({root:"rcfm-component-tabs",klass:["pane",n===p?"pane-active":""]})},e.children[p])):O.default.createElement("div",{className:q.UI.joinClass({root:"rcfm-component-tabs",klass:["pane","pane-active"]})},e.children))}function Te(e={}){return e.children}var Dr=m(i("rcfm/helper")),me=m(i("react"));function Ue(e={}){let t=Dr.UI.Component.Form.Field,{customProps:l,label:s,hint:n,error:o}=t.getProps(e);return me.default.createElement("div",d({},v(d({},l),{className:t.joinWrapperClass(e)})),s&&me.default.createElement("label",{className:t.joinLabelClass(e)},s),e.children,o.length?me.default.createElement("p",{className:t.joinErrorClass(e)},o.map(r=>r+" ")):null,!o.length&&n&&me.default.createElement("p",{className:t.joinHintClass(e)},n))}var Ae=m(i("rcfm/helper")),rr=m(i("react"));function He(e={}){let t=Ae.UI.Component.Form.NumberInput,l=Ae.UI.React.hooks.useNonblankName,{id:s,name:n,value:o,placeholder:r,disabled:a,readonly:c,onChange:p,customProps:u}=t.getProps(e);n=l(n);let f=Ae.UI.joinClass("rcfm-component-fminput",t.joinModifierClass(e),e.className);return rr.default.createElement("div",{id:s,className:f},rr.default.createElement("input",d({},v(d({},u),{className:"rcfm-fmtag",type:"number",name:n,placeholder:r,value:isNaN(o)?"":o,disabled:c||a,readOnly:c||a,onChange(b){!p||p(b.target.value.length?Number(b.target.value):NaN)}}))))}var We=m(i("rcfm/helper")),Oe=m(i("react"));function Ve(e={}){let t=We.UI.Component.Form.TextInput,l=We.UI.React.hooks.useNonblankName,{id:s,multiline:n,name:o,type:r,value:a,placeholder:c,disabled:p,readonly:u,onChange:f,customProps:b}=t.getProps(e);o=l(o);let C=We.UI.joinClass({root:"rcfm-component",klass:n?"fmtextarea":"fminput"},t.joinModifierClass(e),e.className);return Oe.default.createElement("div",{id:s,className:C},n?Oe.default.createElement("textarea",d({},v(d({},b),{className:"rcfm-fmtag",name:o,value:a,placeholder:c,disabled:u||p,readOnly:u||p,onChange(g){f&&f(g.target.value)}}))):Oe.default.createElement("input",d({},v(d({},b),{className:"rcfm-fmtag",type:r,name:o,value:a,placeholder:c,disabled:u||p,readOnly:u||p,onChange(g){f&&f(g.target.value)}}))))}var De=m(i("rcfm/helper")),J=m(i("react"));function _e(e={}){let t=De.UI.Component.Form.SingleSelect,l=De.UI.React.hooks.useNonblankName,{id:s,name:n,value:o,placeholder:r,includeblank:a,options:c,disabled:p,readonly:u,onChange:f,customProps:b}=t.getProps(e);n=l(n);let C=De.UI.joinClass("rcfm-component-fmselect",t.joinModifierClass(e),e.className),g=t.findLabel({options:c,value:o});return J.default.createElement("div",{id:s,className:C},J.default.createElement("select",d({},v(d({},b),{className:"rcfm-fmtag",name:n,value:o,disabled:p||u,readOnly:p||u,onChange(S){let x=S.target.selectedIndex-1,w=x<0?null:c[x].value;f&&f(w)}})),J.default.createElement("option",{className:"rcfm-fmtag",style:{display:a?"initial":"none"}}),c.map(S=>J.default.createElement("option",{className:"rcfm-fmtag",key:S.value,value:S.value},S.label))),J.default.createElement("input",d({},{className:"rcfm-fmtag",tabIndex:-1,placeholder:r,value:g,onChange(){},disabled:p||u,readOnly:p||u})))}var Ge=m(i("rcfm/helper")),$e=m(i("react"));function Le(e={}){let t=Ge.UI.Component.Form.MultipleSelect,l=Ge.UI.React.hooks.useNonblankName,{id:s,name:n,value:o,options:r,disabled:a,readonly:c,onChange:p,customProps:u}=t.getProps(e);n=l(n);let f=Ge.UI.joinClass("rcfm-component-fmselect",t.joinModifierClass(e),e.className);return $e.default.createElement("div",{id:s,className:f},$e.default.createElement("select",d({},v(d({},u),{className:"rcfm-fmtag",multiple:!0,name:n,value:o,disabled:a||c,readOnly:a||c,onChange(b){let C=[];Array.from(b.target.options).forEach((g,S)=>{g.selected&&C.push(r[S].value)}),p&&p(C)}})),r.map(b=>$e.default.createElement("option",{className:"rcfm-fmtag",key:b.value,value:b.value},b.label))))}var ze=m(i("rcfm/helper")),qe=m(i("react"));function Je(e={}){let t=ze.UI.Component.Form.Checkboxes,l=ze.UI.React.hooks.useNonblankName,{id:s,name:n,value:o,options:r,disabled:a,readonly:c,onChange:p,customProps:u}=t.getProps(e);n=l(n);let f=ze.UI.joinClass("rcfm-component-fmcheck",t.joinModifierClass(e),e.className);return qe.default.createElement("div",{id:s,className:f},r.map(b=>qe.default.createElement("label",{className:"rcfm-fmtag",key:b.value},qe.default.createElement("input",d({},v(d({},u),{className:"rcfm-fmtag",type:"checkbox",name:n,value:b.value,checked:o.includes(b.value),disabled:a||c,readOnly:a||c,onChange(C){p&&p(t.mutateValue({value:o,[C.target.checked?"insert":"remove"]:b.value}))}}))),b.label)))}var Ke=m(i("rcfm/helper")),Qe=m(i("react"));function Xe(e={}){let t=Ke.UI.Component.Form.Radios,l=Ke.UI.React.hooks.useNonblankName,{id:s,name:n,value:o,options:r,disabled:a,readonly:c,onChange:p,customProps:u}=t.getProps(e);n=l(n);let f=Ke.UI.joinClass("rcfm-component-fmradio",t.joinModifierClass(e),e.className);return Qe.default.createElement("div",{id:s,className:f},r.map(b=>Qe.default.createElement("label",{className:"rcfm-fmtag",key:b.value},Qe.default.createElement("input",d({},v(d({},u),{className:"rcfm-fmtag",type:"radio",name:n,value:b.value,checked:o===b.value,disabled:a||c,readOnly:a||c,onChange(){p&&p(b.value)}}))),b.label)))}var Gr=m(i("react"));var Ye=m(i("rcfm/helper")),_r=m(i("react"));function K(e={}){let t=Ye.UI.Component.Form.Object,l=Ye.UI.use("React.Component.Form.TextInput");return _r.default.createElement(l,d({},v(d({},e),{className:Ye.UI.joinClass("rcfm-component-fmobject",e.className),value:t.decorateValue(e.value),onChange:t.decorateOnChange(e.onChange)})))}function Ze(e={}){return Gr.default.createElement(K,d({},e))}var or=m(i("rcfm/helper")),$r=m(i("react"));function et(e={}){let t=or.UI.Component.Form.Boolean,l=or.UI.use("React.Component.Form.Radios");return $r.default.createElement(l,d({},v(d({},e),{options:t.getOptions()})))}var Lr=m(i("rcfm/helper")),zr=m(i("react"));function tt(e={}){let t=Lr.UI.use("React.Component.Form.NumberInput");return zr.default.createElement(t,d({},e))}var qr=m(i("rcfm/helper")),Jr=m(i("react"));function rt(e={}){let t=qr.UI.use("React.Component.Form.TextInput");return Jr.default.createElement(t,d({},e))}var Qr=m(i("rcfm/helper")),Xr=m(i("react"));var Kr=m(i("rcfm")),le=m(i("rcfm/helper")),nr=m(i("react"));function P(e={}){let t=le.UI.Section.Field,l=le.UI.React.hooks.useReactive,s=le.UI.use("React.Component.Form.Field"),{Component:n,props:o}=e,{reactive:r,member:a,onAction:c}=le.UI.Section.Member.getProps(o),{values:p,errors:u}=l(r,{id:a.id});return nr.default.createElement(s,{className:`rcfm-${Kr.Struct.string.dashCase(p.type)}`,label:p.label,hint:p.hint,error:u==null?void 0:u.value,required:t.isRequired({reactive:r,member:a})},nr.default.createElement(n,{name:p.name,value:p.value,invalid:!!u,readonly:t.isReadonly({reactive:r,member:a}),placeholder:"placeholder"in p?p.placeholder:null,options:"options"in p?p.options:null,onChange:f=>c&&c({action:"update",reactive:r,id:a.id,prop:"value",value:f})}))}function ot(e={}){let t=Qr.UI.use("React.Component.Form.Checkboxes");return Xr.default.createElement(P,{Component:t,props:e})}var Yr=m(i("rcfm/helper")),ir=m(i("react"));function rn(e={}){let t=Yr.UI.use("React.Component.Form.TextInput");return ir.default.createElement(t,d({},v(d({},e),{multiline:!0})))}function nt(e={}){return ir.default.createElement(P,{Component:rn,props:e})}var Zr=m(i("rcfm/helper")),eo=m(i("react"));function it(e={}){let t=Zr.UI.use("React.Component.Form.MultipleSelect");return eo.default.createElement(P,{Component:t,props:e})}var to=m(i("rcfm/helper")),ro=m(i("react"));function mt(e={}){let t=to.UI.use("React.Component.Form.NumberInput");return ro.default.createElement(P,{Component:t,props:e})}var oo=m(i("rcfm/helper")),no=m(i("react"));function lt(e={}){let t=oo.UI.use("React.Component.Form.Radios");return no.default.createElement(P,{Component:t,props:e})}var io=m(i("rcfm/helper")),mo=m(i("react"));function at(e={}){let t=io.UI.use("React.Component.Form.SingleSelect");return mo.default.createElement(P,{Component:t,props:e})}var lo=m(i("rcfm/helper")),ao=m(i("react"));function ct(e={}){let t=lo.UI.use("React.Component.Form.TextInput");return ao.default.createElement(P,{Component:t,props:e})}var mr=m(i("rcfm/helper")),st=m(i("react"));function pt(e={}){let t=mr.UI.React.hooks.useReactive,{reactive:l,member:s}=mr.UI.Section.Member.getProps(e),n=t(l,{id:s.id}),{label:o,description:r}=n.values;return!o&&!r?null:st.default.createElement("div",{className:"rcfm-fieldset"},o&&st.default.createElement("h2",{className:"rcfm-fieldset-title"},o),r&&st.default.createElement("p",{className:"rcfm-fieldset-description"},r))}var co=m(i("rcfm")),ae=m(i("rcfm/helper")),so=m(i("react"));function po(e={}){let t=ae.UI.React.hooks.useReactive,{reactive:l,member:s,onAction:n}=ae.UI.Section.Member.getProps(e),o=t(l,{id:s.id,prop:"type"});if(!o)return null;let r=uo(o.value);return so.default.createElement(r,d({},v(d({},e),{onAction:n,key:s.id})))}po.abilities=function(e={}){let{reactive:t,member:l}=ae.UI.Section.Member.getProps(e),s=t.get({id:l.id,prop:"type"});return s?uo(s).abilities||{}:!1};function uo(e=""){let t=co.Struct.string.capitalize(e);return ae.UI.use(`React.Section.${t}`)}var lr=po;var fo=m(i("rcfm")),V=m(i("rcfm/helper")),bo=m(i("react"));function ho(e={}){let t=V.UI.Section.Member,l=V.UI.React.hooks.useReactive,{reactive:s,member:n,onAction:o}=t.getProps(e),r=l(s,{id:n.id,prop:"type"});if(!r)return null;let a=V.UI.try([vo(r.value),"React.Section.Member.Previewer.Fallback"]);return bo.default.createElement(a,d({},v(d({},e),{onAction:o,key:n.id})))}ho.abilities=function(e={}){let t=V.UI.Section.Member,{reactive:l,member:s}=t.getProps(e),n=l.get({id:s.id,prop:"type"});if(!n)return!1;let o=vo(n);return V.UI.has(o)?V.UI.use(o).abilities||{}:{}};function vo(e=""){return`React.Section.${fo.Struct.string.capitalize(e)}.Previewer`}var ar=ho;var Co=m(i("rcfm")),Q=m(i("rcfm/helper")),ce=m(i("react"));function dt(e={}){let t=Q.UI.Section.Member,l=Q.UI.React.hooks.useReactive,s=Q.UI.use("React.Component.Highlight"),n=Q.UI.use("React.Section.Member"),{reactive:o,member:r,onAction:a}=t.getProps(e),c=l(o,{id:r.id}),p=o.get({id:r.id,prop:"type"});return ce.default.createElement("div",{className:Q.UI.joinClass(["rcfm-member-previewer",`rcfm-${Co.Struct.string.dashCase(p)}-previewer`])},ce.default.createElement(s,{type:"error",on:!!(c==null?void 0:c.errors),hint:t.errorMessages({reactive:o,member:r,errors:c.errors})},ce.default.createElement("fieldset",{disabled:!0,className:"rcfm-member-previewer-container"},ce.default.createElement(n,{reactive:o,member:r,onAction:a}))))}var go=m(i("rcfm")),ut=m(i("rcfm/helper")),So=m(i("react"));function ft(e={}){let t=ut.UI.Section.Member,l=ut.UI.React.hooks.useReactive,{reactive:s,member:n,onAction:o}=t.getProps(e),r=l(s,{id:n.id,prop:"type"});if(!r)return null;let a=go.Struct.string.capitalize(r.value),c=ut.UI.try([`React.Section.${a}.Editor`,"React.Section.Member.Editor.Fallback"]);return So.default.createElement(c,d({},v(d({},e),{onAction:o,key:n.id})))}var xo=m(i("rcfm")),bt=m(i("rcfm/helper")),cr=m(i("react"));function ht(e={}){let t=bt.UI.Section.Member,l=bt.UI.use("React.Section.Member.PropEditor"),{reactive:s,member:n,onAction:o}=t.getProps(e),r=s.schema.for({id:n.id}),a=s.get({id:n.id,prop:"type"});return cr.default.createElement("div",{className:bt.UI.joinClass(["rcfm-member-editor",`rcfm-${xo.Struct.string.dashCase(a)}-editor`])},r.map(c=>cr.default.createElement(l,{key:c.prop,reactive:s,onAction:o,member:{id:n.id,prop:c.prop}})))}var No=m(i("rcfm")),vt=m(i("rcfm/helper")),Po=m(i("react"));function Ct(e={}){let t=vt.UI.Section.Member.Prop,l=vt.UI.React.hooks.useReactive,{reactive:s,member:n,onAction:o}=t.getProps(e),r=l(s,{id:n.id,prop:"type"});if(!r)return null;let a=No.Struct.string.capitalize(r.value),c=vt.UI.try([`React.Section.${a}.PropEditor`,"React.Section.Member.PropEditor.Fallback"]);return Po.default.createElement(c,d({},v(d({},e),{onAction:o,key:`${n.id}/${n.prop}`})))}var D=m(i("rcfm")),B=m(i("rcfm/helper")),X=m(i("react"));function gt(e={}){let t=B.UI.Section.Member.Prop,l=B.UI.React.hooks.useReactive,s=B.UI.use("React.Component.Tabs"),n=B.UI.use("React.Component.TabPane"),o=B.UI.use("React.Section.Member.PropEditor.Condition"),{reactive:r,member:a,onAction:c}=t.getProps(e),p=r.get({id:a.id,prop:"type"}),u=D.Struct.string.capitalize(p),f=D.Struct.string.capitalize(a.prop),b=B.UI.try([`React.Section.${u}.PropEditor.${f}`,`React.Section.Member.PropEditor.${f}`,"React.Section.Member.PropEditor.Simple"]),C=l(r,a),[g,S]=[C.raw.value,C.error?C.error[0]:null],x=t.isSchemable({reactive:r,member:a}),w=x&&t.isCondition({reactive:r,value:g}),Qt=r.schema.for(a).label,A=!x||!w?0:1,I=x?[D.I18n.global.t("section.member.prop.always"),D.I18n.global.t("section.member.prop.conditional")]:[],H=z=>c&&c(v(d({},a),{action:"update",reactive:r,value:z})),Xt=z=>c&&c(v(d({},a),{action:"update",reactive:r,value:t.getDefault({reactive:r,member:a,conditional:z&&x})}));return X.default.createElement(s,{className:B.UI.joinClass(["rcfm-member-prop-editor",`rcfm-${D.Struct.string.dashCase(u)}-prop-editor`]),title:Qt,labels:I,activeIndex:A,onSwitch:Xt},X.default.createElement(n,null,A===0&&X.default.createElement(b,{reactive:r,member:a,value:g,exception:S,onChange:H})),X.default.createElement(n,null,A===1&&X.default.createElement(o,{reactive:r,member:a,value:g,exception:S,onChange:H,ResultComponent:b,defaultResult:t.getDefault({reactive:r,member:a})})))}var se=m(i("rcfm/helper")),pe=m(i("react"));function St(e={}){let t=se.UI.Section.Member.Condition,l=se.UI.use("React.Component.Highlight"),s=se.UI.use("React.Section.Member.PropEditor.Condition.WhenBranch"),n=se.UI.use("React.Section.Member.PropEditor.Condition.ElseBranch"),{reactive:o,member:r,exception:a,value:c,ResultComponent:p,defaultResult:u,onChange:f}=t.getProps(e);f=t.decorateOnChange({reactive:o,value:c,defaultResult:u,onChange:f});let[b,C]=[(a==null?void 0:a.message)||"",(a==null?void 0:a.data)||{}];return pe.default.createElement("div",{className:"rcfm-member-prop-editor-condition"},pe.default.createElement(l,{type:"error",hint:b,on:t.isWhensException(a)},c.whens.map((g,S)=>pe.default.createElement(s,{key:S,reactive:o,member:r,value:g,onChange:x=>f(v(d({},x),{branchIndex:S})),ResultComponent:p,exception:C.branchIndex===S?a:null}))),pe.default.createElement(n,{reactive:o,member:r,value:c.else,onChange:f,ResultComponent:p,exception:C.branchIndex===c.whens.length?a:null}))}var Mo=m(i("rcfm")),Ro=m(i("rcfm/helper")),xt=m(i("react"));function Nt(e={}){let t=Ro.UI.Section.Member.Condition,{reactive:l,member:s,value:n,onChange:o,ResultComponent:r,exception:a}=e;return xt.default.createElement("div",{className:"rcfm-member-prop-editor-condition-else-branch"},xt.default.createElement("h6",{className:"rcfm-member-prop-editor-condition-branch-title"},Mo.I18n.global.t("section.member.prop.condition.elseBranch.resultTitle")),xt.default.createElement(r,{reactive:l,member:s,value:n.result,onChange:c=>o({target:"else",action:"update",result:c}),exception:t.isConditionException(a)?null:a}))}var de=m(i("rcfm")),Y=m(i("rcfm/helper")),F=m(i("react"));function Pt(e={}){let t=Y.UI.Section.Member.Condition,[l,s,n,o]=[Y.UI.use("React.Component.Button"),Y.UI.use("React.Component.ButtonGroup"),Y.UI.use("React.Component.Highlight"),Y.UI.use("React.Section.Member.PropEditor.Condition.WhenBranch.Rule")],{reactive:r,member:a,value:c,onChange:p,ResultComponent:u,exception:f}=e,[b,C]=[(f==null?void 0:f.message)||"",(f==null?void 0:f.data)||{}];return F.default.createElement("div",{className:"rcfm-member-prop-editor-condition-when-branch"},F.default.createElement("h6",{className:"rcfm-member-prop-editor-condition-branch-title"},de.I18n.global.t("section.member.prop.condition.whenBranch.title")),F.default.createElement(n,{type:"error",hint:b,on:t.isRulesException(f)},c.rules.map((g,S)=>F.default.createElement(o,{key:S,reactive:r,member:a,value:g,onChange:x=>p(v(d({},x),{ruleIndex:S})),exception:C.ruleIndex===S?f:null}))),F.default.createElement("h6",{className:"rcfm-member-prop-editor-condition-branch-title"},de.I18n.global.t("section.member.prop.condition.whenBranch.resultTitle")),F.default.createElement(u,{reactive:r,member:a,value:c.result,onChange:g=>p({target:"when",action:"update",result:g}),exception:t.isConditionException(f)?null:f}),F.default.createElement(s,{fluid:!0},F.default.createElement(l,{color:"danger",onClick:()=>p({target:"when",action:"delete"})},de.I18n.global.t("section.member.prop.condition.whenBranch.delete")),F.default.createElement(l,{color:"secondary",onClick:()=>p({target:"when",action:"append"})},de.I18n.global.t("section.member.prop.condition.whenBranch.add"))))}var T=m(i("rcfm/helper")),E=m(i("react"));function Mt(e={}){let t=T.UI.Section.Member.Condition,[l,s,n,o,r,a]=[T.UI.use("React.Component.Button"),T.UI.use("React.Component.ButtonGroup"),T.UI.use("React.Component.Highlight"),T.UI.use("React.Section.Member.PropEditor.Validation.Item"),T.UI.use("React.Section.Member.PropEditor.Condition.WhenBranch.RuleLogic"),T.UI.use("React.Section.Member.PropEditor.Condition.WhenBranch.RuleProvider")],{reactive:c,member:p,value:u,onChange:f,exception:b}=e,C=c.schema.reference.parse(u.expression.value,{relier:{id:p.id,prop:p.prop}});return E.default.createElement("div",{className:"rcfm-member-prop-editor-condition-rule"},E.default.createElement(n,{type:"error",hint:(b==null?void 0:b.message)||"",on:t.isLogicException(b)||t.isProviderException(b)},E.default.createElement("div",{className:"rcfm-member-prop-editor-condition-rule-row"},u.logic&&E.default.createElement(r,{reactive:c,member:p,value:u,onChange:f}),E.default.createElement(a,{reactive:c,member:p,value:u,onChange:f}),E.default.createElement(s,null,E.default.createElement(l,{color:"danger",icon:"cross",onClick:()=>f({target:"rule",action:"delete"})}),E.default.createElement(l,{color:"secondary",icon:"plus",onClick:()=>f({target:"rule",action:"append"})})))),u.expression.value&&E.default.createElement(n,{type:"error",hint:(b==null?void 0:b.message)||"",on:t.isValidationException(b)},E.default.createElement("div",{className:"rcfm-member-prop-editor-condition-rule-row"},E.default.createElement(o,{scope:"condition",reactive:c,member:C,value:u.expression,actions:["update"],onChange:g=>f(v(d({},g),{target:"rule",action:"update"}))}))))}var sr=m(i("rcfm/helper")),Eo=m(i("react"));function Rt(e={}){let t=sr.UI.Section.Member.Condition,l=sr.UI.use("React.Component.Form.SingleSelect"),{value:s,onChange:n}=e;return Eo.default.createElement(l,{className:"rcfm-member-prop-editor-condition-rule-logic",options:t.getLogics(),value:s.logic,onChange:o=>n({target:"rule",action:"update",logic:o})})}var yo=m(i("rcfm")),ue=m(i("rcfm/helper")),_=m(i("react"));function Et(e={}){let t=ue.UI.Section.Member.Condition.getProviders,l=ue.UI.Section.Member.Condition.joinProvider,s=ue.UI.Section.Member.Condition.splitProvider,n=ue.UI.use("React.Component.Form.SingleSelect"),{reactive:o,member:r,value:a,onChange:c}=e,p=a.expression.value,{id:u,prop:f}=o.schema.reference.parse(p,{relier:{id:r.id,prop:r.prop}})||{},[b,C]=(0,_.useState)(o.get({id:u,prop:"label"})),[g,S]=(0,_.useState)(t({reactive:o,member:r}));return(0,_.useEffect)(()=>u?o.subscribe({id:u},()=>{let x=o.get({id:u,prop:"label"});x===b&&(C(x),S(t({reactive:o,member:r})))}):null,[o,r,u,b,C,S,t]),_.default.createElement(n,{className:"rcfm-member-prop-editor-condition-rule-provider",options:g,value:l({id:u,prop:f}),placeholder:g.length?null:yo.I18n.global.t("section.member.noProviders"),onChange:x=>c({target:"rule",action:"update",value:o.schema.reference.stringify(s(x),{format:"interpolation",relier:{id:r.id,prop:r.prop}})}),onFocus:()=>S(t({reactive:o,member:r}))})}var Z=m(i("rcfm/helper")),yt=m(i("react"));function It(e={}){let t=Z.UI.Section.Member.Prop,l=Z.UI.use("React.Component.Highlight"),s=Z.UI.use("React.Component.Form.Field"),n=Z.UI.React.hooks.useNonblankName,{reactive:o,member:r,value:a,exception:c,onChange:p}=e,u=t.getType({reactive:o,member:r}),f=Z.UI.use(`React.Component.Form.${u}`),b=n(),{placeholder:C,hint:g}=o.schema.for(r);return yt.default.createElement(l,{type:"error",hint:c==null?void 0:c.message,on:!!c},yt.default.createElement(s,{hint:g},yt.default.createElement(f,{name:b,placeholder:C,value:a,onChange:p})))}var ee=m(i("rcfm/helper")),Ft=m(i("react"));function kt(e={}){let t=ee.UI.Section.Member.Calculation,l=ee.UI.use("React.Component.Highlight"),s=ee.UI.use("React.Component.Form.Field"),n=ee.UI.use("React.Component.Form.Object"),o=ee.UI.React.hooks.useNonblankName,{reactive:r,member:a,value:c,exception:p,onChange:u}=t.getProps(e),f=o(),{placeholder:b,hint:C}=r.schema.for(a);return Ft.default.createElement(l,{type:"error",hint:p==null?void 0:p.message,on:!!p},Ft.default.createElement(s,{hint:C},Ft.default.createElement(n,{multiline:!0,name:f,placeholder:b,value:c,onChange:u})))}var G=m(i("rcfm/helper")),jt=m(i("react"));function wt(e={}){let t=G.UI.Section.Member.Prop,l=G.UI.use("React.Component.Highlight"),s=G.UI.use("React.Component.Form.Field"),n=G.UI.React.hooks.useReactive,o=G.UI.React.hooks.useNonblankName,{reactive:r,member:a,value:c,exception:p,onChange:u}=e,f=t.getType({reactive:r,member:a}),b=G.UI.use(`React.Component.Form.${f}`),C=o(),g=n(r,{id:a.id,prop:"calculation"}),{placeholder:S,hint:x}=r.schema.for(a),w=g&&g.raw.value;return jt.default.createElement(l,{type:"error",hint:p==null?void 0:p.message,on:!!p},jt.default.createElement(s,{hint:x},jt.default.createElement(b,{readonly:!!w,name:C,placeholder:S,value:c,onChange:u})))}var Bt=m(i("rcfm/helper")),Tt=m(i("react"));function Ut(e={}){let t=Bt.UI.Section.Member.Options,l=Bt.UI.use("React.Component.Highlight"),s=Bt.UI.use("React.Section.Member.PropEditor.Options.Item"),{reactive:n,member:o,exception:r,value:a,onChange:c}=t.getProps(e);c=t.decorateOnChange({reactive:n,member:o,value:a,onChange:c});let[p,u]=[(r==null?void 0:r.message)||"",(r==null?void 0:r.data)||{}];return Tt.default.createElement("div",{className:"rcfm-member-prop-editor-options"},Tt.default.createElement(l,{type:"error",hint:p,on:!!(r&&!("optionIndex"in u))},a.map((f,b)=>Tt.default.createElement(s,{key:b,reactive:n,member:o,value:f,onChange:C=>c(v(d({},C),{index:b})),exception:r&&u.optionIndex===b?r:null}))))}var pr=m(i("rcfm")),fe=m(i("rcfm/helper")),y=m(i("react"));function At(e={}){let t=fe.UI.use("React.Component.Button"),l=fe.UI.use("React.Component.ButtonGroup"),s=fe.UI.use("React.Component.Form.TextInput"),n=fe.UI.use("React.Component.Highlight"),{value:o,exception:r,onChange:a}=e;return y.default.createElement("div",{className:"rcfm-member-prop-editor-options-item"},y.default.createElement(n,{type:"error",hint:r==null?void 0:r.message,on:!!r},y.default.createElement("div",{className:"rcfm-member-prop-editor-options-item-row"},y.default.createElement("label",{className:"rcfm-fmlabel rcfm-fmtag"},pr.I18n.global.t("section.member.prop.options.each.labelLabel")),y.default.createElement(s,{value:o.label,onChange:c=>a({action:"update",label:c})}),y.default.createElement("label",{className:"rcfm-fmlabel rcfm-fmtag"},pr.I18n.global.t("section.member.prop.options.each.valueLabel")),y.default.createElement(s,{value:o.value,onChange:c=>a({action:"update",value:c})}),y.default.createElement(l,null,y.default.createElement(t,{color:"danger",icon:"cross",onClick:()=>a({action:"delete"})}),y.default.createElement(t,{color:"secondary",icon:"plus",onClick:()=>a({action:"append"})})))))}var Ht=m(i("rcfm/helper")),Wt=m(i("react"));function Ot(e={}){let{getProps:t,decorateOnChange:l}=Ht.UI.Section.Member.Validation,s=Ht.UI.use("React.Component.Highlight"),n=Ht.UI.use("React.Section.Member.PropEditor.Validation.Item"),{reactive:o,member:r,value:a,exception:c,actions:p,onChange:u}=t(e);return u=l({reactive:o,value:a,onChange:u}),Wt.default.createElement("div",{className:"rcfm-member-prop-editor-validation"},a.map((f,b)=>{var C;return Wt.default.createElement(s,{type:"error",key:b,hint:c==null?void 0:c.message,on:((C=c==null?void 0:c.data)==null?void 0:C.validationIndex)===b},Wt.default.createElement(n,{scope:"validation",reactive:o,member:r,value:f,actions:p,onChange:g=>u(v(d({},g),{index:b}))}))}))}var be=m(i("rcfm/helper")),$=m(i("react"));function Vt(e={}){let t=be.UI.use("React.Component.Button"),l=be.UI.use("React.Component.ButtonGroup"),s=be.UI.use("React.Section.Member.PropEditor.Validation.ItemName"),n=be.UI.use("React.Section.Member.PropEditor.Validation.ItemRule"),{reactive:o,member:r,value:a,onChange:c,actions:p,scope:u}=e;return $.default.createElement("div",{className:"rcfm-member-prop-editor-validation-item"},$.default.createElement(s,{reactive:o,member:r,value:a,onChange:c,scope:u}),a.name&&$.default.createElement(n,{reactive:o,member:r,value:a,onChange:c,scope:u}),(p.includes("delete")||p.includes("append"))&&$.default.createElement(l,null,p.includes("delete")&&$.default.createElement(t,{color:"danger",icon:"cross",onClick:()=>c({action:"delete"})}),p.includes("append")&&$.default.createElement(t,{color:"secondary",icon:"plus",onClick:()=>c({action:"append"})})))}var dr=m(i("rcfm/helper")),Io=m(i("react"));function Dt(e={}){let t=dr.UI.Section.Member.Validation,l=dr.UI.use("React.Component.Form.SingleSelect"),{reactive:s,member:n,value:o,onChange:r,scope:a}=e,c=t.getValidators({reactive:s,member:n,scope:a});return Io.default.createElement(l,{value:o.name,options:c,onChange:p=>r({action:"update",name:p})})}var Fo=m(i("rcfm")),he=m(i("rcfm/helper")),ko=m(i("react"));function _t(e={}){let t=he.UI.Section.Member.Validation,{reactive:l,member:s,value:n,onChange:o}=e,r=t.getRuleType({reactive:l,member:s,value:n});if(!r)return null;let a=Fo.Struct.string.capitalize(n.name),[c,p]=[`React.Component.Form.${r}`,`React.Section.Member.PropEditor.Validation.ItemRule.${a}`],u=he.UI.try([p,c]);return ko.default.createElement(u,{value:n.rule,onChange:f=>o({action:"update",rule:f}),reactive:he.UI.has(p)?l:null,member:he.UI.has(p)?s:null})}var ve=m(i("rcfm/helper")),Gt=m(i("react"));function jo(e={}){let t=ve.UI.Section.Member,l=ve.UI.React.hooks.useReactive,s=ve.UI.use("React.Component.Form.Field"),n=ve.UI.use("React.Component.Highlight"),{reactive:o,member:r}=t.getProps(e),a=l(o,{id:r.id}),{label:c,editable:p}=a.values;return Gt.default.createElement(s,{className:"rcfm-subform",label:c},Gt.default.createElement(n,{type:"error",hintPosition:"top",className:"rcfm-subform-container",on:!!(a==null?void 0:a.errors),hint:t.errorMessages({reactive:o,member:r,errors:a.errors})},Gt.default.createElement("fieldset",{className:"rcfm-subform-descendants",disabled:!p},e.children)))}jo.abilities={WRAP_DESCENDANTS:!0};var ur=jo;var fr=m(i("rcfm")),Ce=m(i("rcfm/helper")),te=m(i("react"));function wo(e={}){let t=Ce.UI.Section.Subform,l=Ce.UI.React.hooks.useReactive,s=Ce.UI.use("React.Component.Button"),{reactive:n,member:o,onAction:r}=Ce.UI.Section.Member.getProps(e),a=n.family.ancestor({id:o.id}).id,c=l(n,{id:o.id,prop:"order"}).value;return te.default.createElement("div",{className:"rcfm-subform-fieldset"},te.default.createElement("div",{className:"rcfm-subform-fieldset-descendants"},e.children),te.default.createElement("div",{className:"rcfm-subform-fieldset-actions"},te.default.createElement(s,{color:"secondary",size:"small",onClick:()=>{if(!r)return;let[p,u]=[n.family,o.id];p.sibling({id:u})?r({action:"delete",id:u}):t.collectFields({reactive:n,collection:p.descendant({id:u})}).forEach(f=>r({action:"update",id:f.id,prop:"value",value:null}))}},fr.I18n.global.t("section.subform.fieldset.remove")),te.default.createElement(s,{color:"secondary",size:"small",onClick:()=>r&&r({action:"add",parentId:a,props:{type:"SubformFieldset",order:c+1}})},fr.I18n.global.t("section.subform.fieldset.insert"))))}wo.abilities={WRAP_DESCENDANTS:!0};var br=wo;var ge=m(i("rcfm/helper")),$t=m(i("react"));function Bo(e={}){let t=ge.UI.Section.Member,l=ge.UI.React.hooks.useReactive,s=ge.UI.use("React.Component.Form.Field"),n=ge.UI.use("React.Component.Highlight"),{reactive:o,member:r}=t.getProps(e),a=l(o,{id:r.id}),c=!a.values.visible||!a.values.editable;return $t.default.createElement("div",{className:"rcfm-subform-previewer"},$t.default.createElement(n,{type:"error",hintPosition:"top",on:!!(a==null?void 0:a.errors),"data-disabled":c?!0:null,className:"rcfm-subform-previewer-container",hint:t.errorMessages({reactive:o,member:r,errors:a.errors})},$t.default.createElement(s,{label:a.values.label},e.children)))}Bo.abilities={WRAP_DESCENDANTS:!0};var hr=Bo;var vr=m(i("rcfm/helper")),To=m(i("react"));function Uo(e={}){let t=vr.UI.Section.Member,l=vr.UI.React.hooks.useReactive,{reactive:s,member:n}=t.getProps(e);return l(s,{id:n.id,prop:"order"}).value!==0?null:To.default.createElement("div",{className:"rcfm-subform-fieldset-previewer"},e.children)}Uo.abilities={WRAP_DESCENDANTS:!0};var Cr=Uo;var Se=m(i("rcfm/helper")),gr=m(i("react"));function Lt(e={}){let t=Se.UI.Section.Member,l=Se.UI.React.hooks.useReactive,s=Se.UI.use("React.View.Form.Tree"),n=Se.UI.getProp(e,"reactive",{required:!0}),o=n.family.root().id,r=l(n,{id:o,prop:"children"}),a=r?r.value:[];return gr.default.createElement("div",{className:"rcfm-form"},a.map(c=>gr.default.createElement(s,{key:c.id,reactive:n,member:c,onAction:(p={})=>t.onAction(v(d({},p),{reactive:n}))})))}var Ao=m(i("rcfm")),re=m(i("rcfm/helper")),k=m(i("react"));function Ho(e={}){let t=re.UI.Section.Member,l=re.UI.React.hooks.useReactive,s=re.UI.use("React.Section.Member"),{reactive:n,member:o,onAction:r}=t.getProps(e),a=l(n,{id:o.id,prop:"visible"}).value,c=l(n,{id:o.id,prop:"children"}).value;if(a===!1)return null;let p=n.get({id:o.id,prop:"type"}),u=Ao.Struct.string.dashCase(p),f=s.abilities({reactive:n,member:o});return k.default.createElement(k.default.Fragment,null,k.default.createElement(on,{typeDashed:u,_withoutWrapper:e._withoutWrapper},k.default.createElement(s,{reactive:n,member:o,onAction:r},c.length>0&&f.WRAP_DESCENDANTS&&k.default.createElement(Wo,{reactive:n,onAction:r,childre:c,_withoutWrapper:!0}))),c.length>0&&!f.RENDER_DESCENDANTS&&!f.WRAP_DESCENDANTS&&k.default.createElement("div",{className:re.UI.joinClass({root:"rcfm-form",klass:["descendants",`${u}-descendants`]})},k.default.createElement(Wo,{reactive:n,onAction:r,childre:c})))}function on(e={}){let{_withoutWrapper:t,typeDashed:l}=e;return t?e.children:k.default.createElement("div",{className:re.UI.joinClass({root:"rcfm-form",klass:["member",l]})},e.children)}function Wo(e={}){let{reactive:t,onAction:l,childre:s,_withoutWrapper:n}=e;return s.map(o=>k.default.createElement(Ho,{key:o.id,reactive:t,member:o,onAction:l,_withoutWrapper:n}))}var Sr=Ho;var j=m(i("rcfm/helper")),N=m(i("react"));function zt(e={}){let t=j.UI.Section.Member,l=j.UI.React.hooks.useReactive,s=j.UI.use("React.Component.Alert"),n=j.UI.use("React.Component.AlertText"),o=j.UI.use("React.Section.Member.Editor"),r=j.UI.use("React.View.Form.Builder.Tree"),a=j.UI.use("React.View.Form.Builder.Inserter"),c=j.UI.getProp(e,"reactive",{required:!0}),p=c.family.root().id,u=l(c,{id:p,prop:"children"}),f=u?u.value:[],b=(0,N.useRef)(),[C,g]=(0,N.useState)(""),[S,x]=(0,N.useState)(null),[w,Qt]=(0,N.useState)(null);(0,N.useEffect)(()=>()=>clearTimeout(w),[w]);let A=(I={})=>{try{let[H,Xt]=[I.action,I.id];if(H==="edit")return g(Xt);let z=t.onAction(v(d({},I),{reactive:c}));return H!=="delete"||c.family.hasnt({id:C})&&g(""),z}catch(H){x(H),Qt(setTimeout(()=>x(null),3e3))}};return N.default.createElement("div",{className:"rcfm-form-builder"},N.default.createElement("div",{className:"rcfm-form-builder-previewer"},f.length?f.map(I=>N.default.createElement(r,{key:I.id,reactive:c,member:I,onAction:A})):N.default.createElement("div",{className:"rcfm-form-builder-inserter-of-root"},N.default.createElement(a,{reactive:c,member:{id:p},onAction:A})),S&&N.default.createElement(s,{className:"rcfm-form-builder-exception",type:"error"},N.default.createElement(n,null,S.message))),C&&N.default.createElement("div",{ref:b,className:"rcfm-form-builder-editor",onClick:I=>I.target===b.current&&g("")},N.default.createElement("div",{className:"rcfm-form-builder-editor-container"},N.default.createElement(o,{reactive:c,member:{id:C},onAction:A}))))}var Oo=m(i("rcfm")),U=m(i("rcfm/helper")),M=m(i("react"));function Vo(e={}){let t=U.UI.Section.Member,l=U.UI.React.hooks.useReactive,s=U.UI.use("React.Section.Member.Previewer"),n=U.UI.use("React.View.Form.Builder.Actions"),o=U.UI.use("React.View.Form.Builder.Inserter"),{reactive:r,member:a,onAction:c}=t.getProps(e),p=l(r,{id:a.id,prop:"children"}).value,u=r.family.ancestor(a).id,f=r.get({id:a.id,prop:"type"}),b=Oo.Struct.string.dashCase(f),C=s.abilities({reactive:r,member:a});return M.default.createElement(M.default.Fragment,null,M.default.createElement(nn,{typeDashed:b,_withoutWrapper:e._withoutWrapper},M.default.createElement(n,{reactive:r,member:a,onAction:c}),M.default.createElement(s,{reactive:r,member:a,onAction:c},C.WRAP_DESCENDANTS&&(p.length>0?M.default.createElement(Do,{reactive:r,onAction:c,childre:p,_withoutWrapper:!0}):M.default.createElement(o,{reactive:r,member:a,onAction:c})))),!C.RENDER_DESCENDANTS&&!C.WRAP_DESCENDANTS&&(p.length>0?M.default.createElement("div",{className:U.UI.joinClass({root:"rcfm-form-builder",klass:["descendants",`${b}-descendants`]})},M.default.createElement(Do,{reactive:r,onAction:c,childre:p})):M.default.createElement(o,{reactive:r,member:a,onAction:c})),M.default.createElement(o,{reactive:r,member:{id:u},onAction:(g={})=>c(v(d({},g),{props:v(d({},g.props),{order:r.get({id:a.id,prop:"order"})+1})}))}))}function nn(e={}){let{_withoutWrapper:t,typeDashed:l}=e;return t?e.children:M.default.createElement("div",{className:U.UI.joinClass({root:"rcfm-form-builder",klass:["member",l]})},e.children)}function Do(e={}){let{reactive:t,onAction:l,childre:s,_withoutWrapper:n}=e;return s.map(o=>M.default.createElement(Vo,{key:o.id,reactive:t,member:o,onAction:l,_withoutWrapper:n}))}var xr=Vo;var _o=m(i("rcfm")),xe=m(i("rcfm/helper")),oe=m(i("react"));function qt(e={}){let t=xe.UI.Section.Member,l=xe.UI.React.hooks.useReactive,s=xe.UI.use("React.Component.Button"),{reactive:n,member:o,onAction:r}=t.getProps(e),a=n.family.ancestor({id:o.id}).id,c=l(n,{id:o.id,prop:"type"}).value,p=l(n,{id:o.id,prop:"order"}).value,u=l(n,{id:a,prop:"children"}).value,f=_o.Struct.string.dashCase(c);return oe.default.createElement("div",{className:xe.UI.joinClass({root:"rcfm-form-builder",klass:["actions",`${f}-actions`]})},oe.default.createElement(s,{className:"rcfm-form-builder-action-delete",circle:!0,icon:"cross",color:"danger",size:"small",onClick:()=>r&&r({action:"delete",reactive:n,id:o.id})}),oe.default.createElement(s,{className:"rcfm-form-builder-action-decrease",circle:!0,icon:"arrow-up",color:"secondary",size:"small",disabled:p===0,onClick:()=>r&&r({action:"update",reactive:n,id:o.id,prop:"order",value:p-1})}),oe.default.createElement(s,{className:"rcfm-form-builder-action-increase",circle:!0,icon:"arrow-down",color:"secondary",size:"small",disabled:p===u.length-1,onClick:()=>r&&r({action:"update",reactive:n,id:o.id,prop:"order",value:p+1})}),oe.default.createElement(s,{className:"rcfm-form-builder-action-edit",circle:!0,icon:"more",color:"secondary",size:"small",onClick:()=>r&&r({action:"edit",reactive:n,id:o.id})}))}var Go=m(i("rcfm")),Kt=m(i("rcfm/helper")),ne=m(i("react"));var Jt=m(i("rcfm/helper")),L=m(i("react"));function Nr(e={}){let t=(0,L.useRef)(),{options:l,onSelect:s,onCancel:n}=e,o=Jt.UI.React.hooks.useOnClickOutside,r=Jt.UI.use("React.Component.Button"),a=Jt.UI.use("React.Component.ButtonGroup");return o(t,n),L.default.createElement("div",{className:"rcfm-form-builder-inserter-child-select"},L.default.createElement("div",{ref:t,className:"rcfm-form-builder-inserter-child-select-container"},L.default.createElement(a,{vertical:!0,fluid:!0},l.map(c=>L.default.createElement(r,{key:c.type,color:"secondary",onClick:()=>s(c.type)},c.label)))))}function Pr(e={}){let t=Kt.UI.Section.Member,l=Kt.UI.use("React.Component.Button"),{reactive:s,member:n,onAction:o}=t.getProps(e),[r,a]=(0,ne.useState)(!1),c=t.getChildTypes({reactive:s,member:n});if(!c.length)return null;let p=s.get({id:n.id,prop:"type"}),u=Go.Struct.string.dashCase(p);return ne.default.createElement("div",{className:Kt.UI.joinClass({root:"rcfm-form-builder",klass:["inserter",`${u}-inserter`]})},ne.default.createElement(l,{className:"rcfm-form-builder-inserter-trigger",circle:!0,color:"dark",icon:"plus",size:s.family.ancestor(n)?"small":"medium",onClick:()=>c.length>1?a(!0):o({action:"add",parentId:n.id,props:{type:c[0].type}})}),r&&ne.default.createElement(Nr,{options:c,onCancel:()=>a(!1),onSelect:f=>{a(!1);let b=o({action:"add",parentId:n.id,props:{type:f}});f==="Subform"&&o({action:"add",parentId:b,props:{type:"SubformFieldset"}})}}))}var Mr=Pr;h.UI.React={hooks:{useOnClickOutside:Pe,useNonblankName:Me,useReactive:Yt}};h.UI.install({name:"React.Component.Icon",Component:Re});h.UI.install({name:"React.Component.Alert",Component:Ie});h.UI.install({name:"React.Component.AlertTitle",Component:Fe});h.UI.install({name:"React.Component.AlertText",Component:ke});h.UI.install({name:"React.Component.Tabs",Component:Be});h.UI.install({name:"React.Component.TabPane",Component:Te});h.UI.install({name:"React.Component.Button",Component:Ee});h.UI.install({name:"React.Component.ButtonGroup",Component:ye});h.UI.install({name:"React.Component.Highlight",Component:we});h.UI.install({name:"React.Component.Form.Field",Component:Ue});h.UI.install({name:"React.Component.Form.NumberInput",Component:He});h.UI.install({name:"React.Component.Form.TextInput",Component:Ve});h.UI.install({name:"React.Component.Form.SingleSelect",Component:_e});h.UI.install({name:"React.Component.Form.MultipleSelect",Component:Le});h.UI.install({name:"React.Component.Form.Checkboxes",Component:Je});h.UI.install({name:"React.Component.Form.Radios",Component:Xe});h.UI.install({name:"React.Component.Form.String",Component:rt});h.UI.install({name:"React.Component.Form.Number",Component:tt});h.UI.install({name:"React.Component.Form.Boolean",Component:et});h.UI.install({name:"React.Component.Form.Object",Component:K});h.UI.install({name:"React.Component.Form.Array",Component:Ze});h.UI.install({name:"React.Section.TextField",Component:ct});h.UI.install({name:"React.Section.MultilineTextField",Component:nt});h.UI.install({name:"React.Section.NumberField",Component:mt});h.UI.install({name:"React.Section.RadioField",Component:lt});h.UI.install({name:"React.Section.CheckboxField",Component:ot});h.UI.install({name:"React.Section.SingleSelectField",Component:at});h.UI.install({name:"React.Section.MultipleSelectField",Component:it});h.UI.install({name:"React.Section.Fieldset",Component:pt});h.UI.install({name:"React.Section.Member",Component:lr});h.UI.install({name:"React.Section.Member.Previewer",Component:ar});h.UI.install({name:"React.Section.Member.Previewer.Fallback",Component:dt});h.UI.install({name:"React.Section.Member.Editor",Component:ft});h.UI.install({name:"React.Section.Member.Editor.Fallback",Component:ht});h.UI.install({name:"React.Section.Member.PropEditor",Component:Ct});h.UI.install({name:"React.Section.Member.PropEditor.Fallback",Component:gt});h.UI.install({name:"React.Section.Member.PropEditor.Condition",Component:St});h.UI.install({name:"React.Section.Member.PropEditor.Condition.ElseBranch",Component:Nt});h.UI.install({name:"React.Section.Member.PropEditor.Condition.WhenBranch",Component:Pt});h.UI.install({name:"React.Section.Member.PropEditor.Condition.WhenBranch.Rule",Component:Mt});h.UI.install({name:"React.Section.Member.PropEditor.Condition.WhenBranch.RuleLogic",Component:Rt});h.UI.install({name:"React.Section.Member.PropEditor.Condition.WhenBranch.RuleProvider",Component:Et});h.UI.install({name:"React.Section.Member.PropEditor.Simple",Component:It});h.UI.install({name:"React.Section.Member.PropEditor.Calculation",Component:kt});h.UI.install({name:"React.Section.Member.PropEditor.Value",Component:wt});h.UI.install({name:"React.Section.Member.PropEditor.Options",Component:Ut});h.UI.install({name:"React.Section.Member.PropEditor.Options.Item",Component:At});h.UI.install({name:"React.Section.Member.PropEditor.Validation",Component:Ot});h.UI.install({name:"React.Section.Member.PropEditor.Validation.Item",Component:Vt});h.UI.install({name:"React.Section.Member.PropEditor.Validation.ItemName",Component:Dt});h.UI.install({name:"React.Section.Member.PropEditor.Validation.ItemRule",Component:_t});h.UI.install({name:"React.Section.Subform",Component:ur});h.UI.install({name:"React.Section.SubformFieldset",Component:br});h.UI.install({name:"React.Section.Subform.Previewer",Component:hr});h.UI.install({name:"React.Section.SubformFieldset.Previewer",Component:Cr});h.UI.Section.Subform.installFieldComponents({installer:h.UI,namespace:"React.Section."});h.UI.install({name:"React.View.Form",Component:Lt});h.UI.install({name:"React.View.Form.Tree",Component:Sr});h.UI.install({name:"React.View.Form.Builder",Component:zt});h.UI.install({name:"React.View.Form.Builder.Tree",Component:xr});h.UI.install({name:"React.View.Form.Builder.Actions",Component:qt});h.UI.install({name:"React.View.Form.Builder.Inserter",Component:Mr});})();
//# sourceMappingURL=rcfm.react.iife.min.js-73234e89.map
