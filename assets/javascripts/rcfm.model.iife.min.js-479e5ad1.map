{
  "version": 3,
  "sources": ["../../src/model/index.js", "../../src/model/base/exception.js", "../../src/model/base/guid.js", "../../src/model/base/type.js", "../../src/model/base/struct.js", "../../src/model/calculator/calculators/add.js", "../../src/model/calculator/calculators/devide.js", "../../src/model/calculator/calculators/map.js", "../../src/model/calculator/calculators/minus.js", "../../src/model/calculator/calculators/multiple.js", "../../src/model/calculator/calculators/index.js", "../../src/model/calculator/helpers/store.js", "../../src/model/calculator/calculator.js", "../../src/model/calculator/helpers/calculation-extract.js", "../../src/model/calculator/helpers/calculation-isvalid-arg-size.js", "../../src/model/calculator/helpers/calculation-isvalid-arg-type.js", "../../src/model/calculator/mustbe-supported.js", "../../src/model/calculator/is-supported.js", "../../src/model/calculator/isnt-supported.js", "../../src/model/calculator/calculate.js", "../../src/model/calculator/helpers/calculator-isvalid-arg-size.js", "../../src/model/calculator/helpers/calculator-isvalid-arg-type.js", "../../src/model/calculator/helpers/calculator-extract-arg-size.js", "../../src/model/calculator/install.js", "../../src/model/calculator/uninstall.js", "../../src/model/context/family/helpers/store.js", "../../src/model/context/family/family.js", "../../src/model/context/family/helpers/sort.js", "../../src/model/context/family/descendant.js", "../../src/model/context/family/add.js", "../../src/model/context/family/ancestor.js", "../../src/model/context/family/delete.js", "../../src/model/context/family/has.js", "../../src/model/context/family/hasnt.js", "../../src/model/context/family/reorder.js", "../../src/model/context/family/root.js", "../../src/model/context/family/sibling.js", "../../src/model/context/dependency/helpers/store.js", "../../src/model/context/dependency/dependency.js", "../../src/model/context/dependency/helpers/path.js", "../../src/model/context/dependency/helpers/clean-cache.js", "../../src/model/context/dependency/helpers/group.js", "../../src/model/context/dependency/add.js", "../../src/model/context/dependency/delete.js", "../../src/model/context/dependency/reliers.js", "../../src/model/context/dispatcher/helpers/store.js", "../../src/model/context/dispatcher/dispatcher.js", "../../src/model/context/dispatcher/abort.js", "../../src/model/context/dispatcher/helpers/clean-listener.js", "../../src/model/context/dispatcher/add.js", "../../src/model/context/dispatcher/delete.js", "../../src/model/context/dispatcher/trigger.js", "../../src/model/context/executor/helpers/store.js", "../../src/model/context/executor/executor.js", "../../src/model/context/executor/abort.js", "../../src/model/context/executor/run.js", "../../src/model/context/hook/helpers/store.js", "../../src/model/context/hook/hook.js", "../../src/model/context/hook/abort.js", "../../src/model/context/hook/add.js", "../../src/model/context/hook/delete.js", "../../src/model/context/hook/run.js", "../../src/model/context/helpers/action-add.js", "../../src/model/context/helpers/expando.js", "../../src/model/context/helpers/action-calc.js", "../../src/model/context/helpers/action-del.js", "../../src/model/context/helpers/action-set.js", "../../src/model/context/helpers/action-run-action.js", "../../src/model/context/context.js", "../../src/model/context/add.js", "../../src/model/context/delete.js", "../../src/model/context/find.js", "../../src/model/context/get.js", "../../src/model/context/naming.js", "../../src/model/context/set.js", "../../src/model/context/subscribe.js", "../../src/model/form/fieldset/fieldset.js", "../../src/model/schema/helpers/store.js", "../../src/model/schema/condition/helpers/keywords.js", "../../src/model/schema/condition/helpers/is-case.js", "../../src/model/schema/condition/helpers/is-default.js", "../../src/model/schema/condition/helpers/is-condition-object.js", "../../src/model/schema/condition/helpers/is-condition-array.js", "../../src/model/schema/condition/condition.js", "../../src/model/schema/condition/combine.js", "../../src/model/schema/condition/extract.js", "../../src/model/schema/condition/helpers/parse-case.js", "../../src/model/schema/condition/helpers/parse-default.js", "../../src/model/schema/condition/parse.js", "../../src/model/schema/condition/possibilities.js", "../../src/model/schema/condition/index.js", "../../src/model/schema/interpolation/helpers/pattern.js", "../../src/model/schema/interpolation/helpers/is-interpolation-statement.js", "../../src/model/schema/interpolation/interpolation.js", "../../src/model/schema/interpolation/helpers/extract-interpolations.js", "../../src/model/schema/interpolation/helpers/extract-reference.js", "../../src/model/schema/interpolation/references.js", "../../src/model/schema/interpolation/parse.js", "../../src/model/schema/interpolation/replace.js", "../../src/model/schema/interpolation/index.js", "../../src/model/schema/schema.js", "../../src/model/schema/parse.js", "../../src/model/schema/possibilities.js", "../../src/model/schema/references.js", "../../src/model/schema/replace.js", "../../src/model/schema/index.js", "../../src/model/reactive/helpers/store.js", "../../src/model/reactive/helpers/schema-fallback.js", "../../src/model/i18n/helpers/store.js", "../../src/model/i18n/i18n.js", "../../src/model/i18n/helpers/path.js", "../../src/model/i18n/define.js", "../../src/model/i18n/locale.js", "../../src/model/i18n/helpers/variable.js", "../../src/model/i18n/translate.js", "../../src/model/i18n/try.js", "../../src/model/i18n/index.js", "../../src/model/reactive/locales/en.js", "../../src/model/reactive/locales/zh.js", "../../src/model/reactive/locales/index.js", "../../src/model/reactive/helpers/schema-reference.js", "../../src/model/reactive/schema/for.js", "../../src/model/reactive/schema/reference/parse.js", "../../src/model/reactive/schema/reference/stringify.js", "../../src/model/reactive/schema/index.js", "../../src/model/validator/locales/en.js", "../../src/model/validator/locales/zh.js", "../../src/model/validator/locales/index.js", "../../src/model/validator/validators/data-type.js", "../../src/model/validator/validators/equal-to.js", "../../src/model/validator/validators/is-integer.js", "../../src/model/validator/validators/max-length.js", "../../src/model/validator/validators/presence.js", "../../src/model/validator/validators/with-format.js", "../../src/model/validator/validators/index.js", "../../src/model/validator/helpers/store.js", "../../src/model/validator/validator.js", "../../src/model/validator/helpers/combine-validation.js", "../../src/model/validator/combine-validation.js", "../../src/model/validator/helpers/extract-validation.js", "../../src/model/validator/mustbe-supported.js", "../../src/model/validator/error.js", "../../src/model/validator/extract-validation.js", "../../src/model/validator/for.js", "../../src/model/validator/get.js", "../../src/model/validator/install.js", "../../src/model/validator/is-supported.js", "../../src/model/validator/is-valid.js", "../../src/model/validator/isnt-supported.js", "../../src/model/validator/isnt-valid.js", "../../src/model/validator/uninstall.js", "../../src/model/reactive/validator/index.js", "../../src/model/reactive/calculator/index.js", "../../src/model/reactive/helpers/mustbe-installed-type.js", "../../src/model/reactive/hooks/mount.js", "../../src/model/reactive/hooks/index.js", "../../src/model/reactive/get.js", "../../src/model/reactive/install.js", "../../src/model/reactive/collect.js", "../../src/model/reactive/seed.js", "../../src/model/reactive/helpers/essential-hook-block-adding.js", "../../src/model/reactive/helpers/essential-hook-block-deleting.js", "../../src/model/reactive/helpers/essential-hook-preset-type.js", "../../src/model/reactive/helpers/essential-hook-preset-name.js", "../../src/model/reactive/helpers/essential-hook-freeze-type.js", "../../src/model/reactive/helpers/essential-hook-validate-name.js", "../../src/model/reactive/helpers/essential-hook-process-schema.js", "../../src/model/reactive/helpers/essential-hook-process-calculation.js", "../../src/model/reactive/helpers/hook-schema-enable-default.js", "../../src/model/reactive/helpers/hook-schema-enable-always.js", "../../src/model/reactive/helpers/hook-schema-enable-validation.js", "../../src/model/reactive/helpers/hook-block-invalid-parent.js", "../../src/model/reactive/index.js", "../../src/model/form/fieldset/hooks.js", "../../src/model/form/fieldset/locales/en.js", "../../src/model/form/fieldset/locales/zh.js", "../../src/model/form/fieldset/locales/index.js", "../../src/model/form/fieldset/schema.js", "../../src/model/form/field/field.js", "../../src/model/form/field/extend.js", "../../src/model/form/field/locales/en.js", "../../src/model/form/field/locales/zh.js", "../../src/model/form/field/locales/index.js", "../../src/model/form/field/helpers/hook-enable-calculation.js", "../../src/model/form/field/helpers/hook-enable-validation.js", "../../src/model/form/field/helpers/hook-ensure-within-options.js", "../../src/model/form/field/hooks.js", "../../src/model/form/field/schema.js", "../../src/model/form/field/fields/helpers/i18n-conf.js", "../../src/model/form/field/fields/checkbox.js", "../../src/model/form/field/fields/multiline-text.js", "../../src/model/form/field/fields/multiple-select.js", "../../src/model/form/field/fields/number.js", "../../src/model/form/field/fields/radio.js", "../../src/model/form/field/fields/single-select.js", "../../src/model/form/field/fields/text.js", "../../src/model/form/field/fields/index.js", "../../src/model/form/subform/subform/subform.js", "../../src/model/form/subform/subform/collect.js", "../../src/model/form/subform/subform/hooks.js", "../../src/model/form/subform/locales/en.js", "../../src/model/form/subform/locales/zh.js", "../../src/model/form/subform/locales/index.js", "../../src/model/form/subform/subform/schema.js", "../../src/model/form/subform/subform/seed.js", "../../src/model/form/subform/fieldset/fieldset.js", "../../src/model/form/subform/fieldset/hooks.js", "../../src/model/form/subform/field/field.js", "../../src/model/form/subform/field/helpers/hook-batch-persist-state.js", "../../src/model/form/subform/field/helpers/hook-calc-subform-value.js", "../../src/model/form/subform/field/helpers/hook-ensure-subform-value.js", "../../src/model/form/subform/field/generate.js", "../../src/model/form/form.js", "../../src/model/form/group.js", "../../src/model/form/install.js", "../../src/model/form/providers.js", "../../src/model/form/uninstall.js", "../../src/model/form/validators.js", "../../src/model/form/index.js"],
  "sourcesContent": ["import { Exception } from './base/exception'\nimport { guid } from './base/guid'\nimport { Struct } from './base/struct'\nimport { Type } from './base/type'\nimport Calculator from './calculator'\nimport Context from './context'\nimport Form from './form'\nimport I18n from './i18n'\nimport Reactive from './reactive'\nimport Schema from './schema'\nimport Validator from './validator'\n\n\nexport {\n  Exception,\n  guid,\n  Struct,\n  Type,\n  Calculator,\n  Context,\n  Reactive,\n  Form,\n  I18n,\n  Schema,\n  Validator,\n}\n", "class Exception extends Error {\n\n  static exceptions = {\n    INVALID_INSTANCE: 'EXCEPTION_INVALID_INSTANCE',\n  }\n\n  constructor(options = {}) {\n    typeof options === 'string' && (options = { type: options })\n    let { type, message, data } = options\n    super(message)\n    this.type = this.name = type\n    this.data = data || {}\n    if (typeof this.data !== 'object' || Array.isArray(this.data)) {\n      throw new Error('Exception data must be included in an object.')\n    }\n  }\n\n  static create(...args) {\n    return new Exception(...args)\n  }\n\n  static raise(...args) {\n    throw new Exception(...args)\n  }\n\n  static isException(arg) { return arg instanceof Exception }\n\n  static isntException(arg) { return !Exception.isException(arg) }\n\n  static mustbeException(arg, msg = '') {\n    Exception.isntException(arg) && Exception.raise({\n      type: Exception.exceptions.INVALID_INSTANCE,\n      message: msg || 'Invalid exception instance.',\n    })\n  }\n\n}\n\nconst raise = Exception.raise\n\n\n\nexport { Exception, raise, raise as default }\n", "let uid = 0\n\n\n\nfunction guid() {\n  return `${Date.now()}${uid += 1}`\n}\n\n\n\nexport { guid, guid as default }\n", "import raise from './exception'\n\n\n\nconst Type = {\n\n  ANY_TYPE: '*',\n  SPECIFIC_TYPES: [\n    'String', 'Number', 'Boolean', 'Array', 'Object', 'RegExp', 'Function',\n    'Null', 'Undefined', 'Map', 'WeakMap', 'Symbol', 'File', 'Blob', 'Promise',\n  ],\n  exceptions: {\n    INVALID_DATA_TYPE: 'TYPE_INVALID_DATA_TYPE',\n  },\n\n  get(arg) {\n    let pattern = /\\[object\\s+(.*)\\]/\n    let rawType = Object.prototype.toString.call(arg)\n    return rawType.match(pattern)[1]\n  },\n\n  within(options = {}) {\n    let { type, types } = options\n    !Array.isArray(type) && (type = [type])\n    !Array.isArray(types) && (types = [types])\n    if (type.includes(Type.ANY_TYPE)) { return true }\n    if (types.includes(Type.ANY_TYPE)) { return true }\n    return !type.some((t) => !types.includes(t))\n  },\n\n  mustWithin(options = {}, msg = '') {\n    !Type.within(options) && raise({\n      type: Type.exceptions.INVALID_DATA_TYPE,\n      message: msg || `Data type ${options.type} isn't within ${options.types}`,\n    })\n  },\n\n}\n\n\n\nconst Is = Type.is = {\n\n  null(arg) { return Type.get(arg) === 'Null' },\n  undefined(arg) { return Type.get(arg) === 'Undefined' },\n  number(arg) { return Type.get(arg) === 'Number' },\n  integer(arg) { return Number.isInteger(arg) },\n  string(arg) { return Type.get(arg) === 'String' },\n  boolean(arg) { return Type.get(arg) === 'Boolean'},\n  array(arg) { return Array.isArray(arg) },\n  object(arg) { return Type.get(arg) === 'Object' },\n  regexp(arg) { return Type.get(arg) === 'RegExp' },\n  function(arg) { return Type.get(arg) === 'Function' },\n\n  positiveInteger(arg) { return Is.integer(arg) && arg > 0 },\n  negativeInteger(arg) { return Is.integer(arg) && arg < 0 },\n\n  blankArray(arg) { return Is.array(arg) && arg.length === 0 },\n  blankString(arg) { return Is.string(arg) && !!arg.match(/^\\s*$/) },\n  blankObject(arg) { return Is.object(arg) && Object.keys(arg).length === 0 },\n  nonblankArray(arg) { return Is.array(arg) && arg.length > 0 },\n  nonblankString(arg) { return Is.string(arg) && !!arg.match(/\\S/) },\n  nonblankObject(arg) { return Is.object(arg) && Object.keys(arg).length > 0 },\n\n  typeString(arg) {\n    if (arg === Type.ANY_TYPE) { return true }\n    return Type.SPECIFIC_TYPES.includes(arg)\n  },\n\n  typeArray(arg) {\n    if (!Is.nonblankArray(arg)) { return false }\n    return arg.every((t) => {\n      if (t === Type.ANY_TYPE) { return true }\n      return Type.within({ type: t, types: Type.SPECIFIC_TYPES })\n    })\n  },\n\n  type(arg) { return Is.typeString(arg) || Is.typeArray(arg) },\n\n  blank(arg) {\n    if ([null, undefined, NaN].includes(arg)) { return true }\n    if (Is.blankString(arg)) { return true }\n    if (Is.blankArray(arg)) { return true }\n    if (Is.blankObject(arg)) { return true }\n    return false\n  },\n\n}\n\n\n\nconst Isnt = Type.isnt = (() => {\n  let host = {}\n  Object.keys(Is).forEach((dataType) => {\n    host[dataType] = function(arg) { return !Is[dataType](arg) }\n  })\n  return host\n})()\n\n\n\nconst Mustbe = Type.mustbe = (() => {\n  let host = {}\n  Object.keys(Isnt).forEach((dataType) => {\n    host[dataType] = function(arg, prefix = 'The argument') {\n      let msg = Is.object(prefix) ? prefix.message : ''\n      Isnt[dataType](arg) && raise({\n        type: Type.exceptions.INVALID_DATA_TYPE,\n        message: msg || `${prefix} must be '${dataType.toUpperCase()}'`,\n      })\n    }\n  })\n  return host\n})()\n\n\n\nconst Musntbe = Type.musntbe = (() => {\n  let host = {}\n  Object.keys(Is).forEach((dataType) => {\n    host[dataType] = function(arg, prefix = 'The argument') {\n      let msg = Is.object(prefix) ? prefix.message : ''\n      Is[dataType](arg) && raise({\n        type: Type.exceptions.INVALID_DATA_TYPE,\n        message: msg || `${prefix} must not be '${dataType.toUpperCase()}'`,\n      })\n    }\n  })\n  return host\n})()\n\n\n\nexport {\n  Type,\n  Type as type,\n  Type as default,\n  Is as is, Isnt as isnt,\n  Mustbe as mustbe,\n  Musntbe as musntbe,\n}\n", "import { mustbe } from './type'\n\n\n\nconst Struct = {}\n\n\n\nconst ArrayFn = Struct.array = {\n\n  unique(arr = []) {\n    return arr.filter((a, i) => arr.indexOf(a) === i)\n  },\n\n}\n\n\n\nconst ObjectFn = Struct.object = {\n\n  from(arr = []) {\n    mustbe.array(arr)\n    let obj = {}\n    arr.forEach((a) => obj[a[0]] = a[1])\n    return obj\n  },\n\n  collect(obj = {}, props = []) {\n    mustbe.object(obj)\n    mustbe.array(props)\n    let collected = {}\n    Object.keys(obj).forEach((key) => {\n      props.includes(key) && (collected[key] = obj[key])\n    })\n    return collected\n  },\n\n  exclude(obj = {}, props = []) {\n    mustbe.object(obj)\n    mustbe.array(props)\n    let collected = {}\n    Object.keys(obj).forEach((key) => {\n      !props.includes(key) && (collected[key] = obj[key])\n    })\n    return collected\n  },\n\n}\n\n\n\nconst StringFn = Struct.string = {\n\n  capitalize(str = '') {\n    return str.replace(/\\b\\w/g, c => c.toUpperCase())\n  },\n\n  // [TODO] Test\n  dashCase(str = '') {\n    let pattern = /[A-Z]/g\n    let replacer = (m) => `-${m.toLowerCase()}`\n    return str[0].toLowerCase() + str.slice(1).replace(pattern, replacer)\n  },\n\n}\n\n\n\nexport {\n  Struct,\n  Struct as struct,\n  Struct as default,\n  ArrayFn as array,\n  ObjectFn as object,\n  StringFn as string,\n}\n", "export default {\n  name: 'add',\n  argumentSize: [2, Infinity],\n  argumentType: 'Number',\n  calculate (...args) {\n    return args.reduce((one, two) => one + two)\n  },\n}\n", "export default {\n  name: 'devide',\n  argumentSize: [2, Infinity],\n  argumentType: 'Number',\n  calculate (...args) {\n    return args.reduce((one, two) => one / two)\n  },\n}\n", "export default {\n  name: 'map',\n  argumentSize: 1,\n  argumentType: '*',\n  calculate (arg) { return arg },\n}\n", "export default {\n  name: 'minus',\n  argumentSize: [2, Infinity],\n  argumentType: 'Number',\n  calculate (...args) {\n    return args.reduce((one, two) => one - two)\n  },\n}\n", "export default {\n  name: 'multiple',\n  argumentSize: [2, Infinity],\n  argumentType: 'Number',\n  calculate (...args) {\n    return args.reduce((one, two) => one * two)\n  },\n}\n", "import Add from './add'\nimport Devide from './devide'\nimport MapFn from './map'\nimport Minus from './minus'\nimport Multiple from './multiple'\n\n\n\nexport default [\n  Add,\n  Minus,\n  Multiple,\n  Devide,\n  MapFn,\n]\n", "export default function store(calculator = {}, options = {}) {\n  return calculator._calculator || (calculator._calculator = { ...options })\n}\n", "import CALCULATORS from './calculators'\nimport store from './helpers/store'\n\n\n\nclass Calculator {\n\n  static exceptions = {\n    CONFLICTED_NAME: 'CALCULATOR_CONFLICTED_NAME',\n    UNSUPPORTED_CALCULATION: 'CALCULATOR_UNSUPPORTED_CALCULATION',\n    INVALID_ARGUMENT_SIZE: 'CALCULATOR_INVALID_ARGUMENT_SIZE',\n    INVALID_ARGUMENT_TYPE: 'CALCULATOR_INVALID_ARGUMENT_TYPE',\n  }\n\n  constructor() {\n    store(this, { installed: {} })\n    CALCULATORS.forEach((C) => this.install(C))\n  }\n\n  static create(...args) { return new Calculator(...args) }\n\n}\n\n\n\nexport { Calculator, Calculator as default }\n", "import { isnt } from '../../base/type'\n\n\n\nexport default function extractCalculation(calculation = {}) {\n  let name = Object.keys(calculation)[0]\n  let args = calculation[name]\n  isnt.array(args) && (args = [args])\n  return { name, args }\n}\n", "export default function isValidArgSize(args, argSize) {\n  return args.length >= argSize.min\n}\n", "import { isnt, type } from '../../base/type'\n\n\n\nexport default function isValidArgType(args = [], definedType) {\n  return !args.some((arg, index) => {\n    let types = definedType\n    isnt.type(types) && (types = types[index] || types[types.length - 1])\n    return !type.within({ type: type.get(arg), types })\n  })\n}\n", "import { is, mustbe } from '../base/type'\nimport raise from '../base/exception'\nimport Calculator from './calculator'\nimport store from './helpers/store'\nimport extractCalculation from './helpers/calculation-extract'\n\n\n\nCalculator.prototype.mustbeSupported = function(calculation = {}, opts = {}) {\n  mustbe.object(calculation, 'Calculation struct')\n  let strict = 'strict' in opts ? opts.strict : false\n  let { name, args } = extractCalculation(calculation)\n  let { installed } = store(this)\n  !installed[name] && raise({\n    type: Calculator.exceptions.UNSUPPORTED_CALCULATION,\n    message: `Unsupported calculator \"${name}\".`,\n  })\n  if (!strict) { return }\n  args.forEach((arg) => is.object(arg) && this.mustbeSupported(arg, opts))\n}\n", "import Calculator from './calculator'\nimport './mustbe-supported'\n\n\n\nCalculator.prototype.isSupported = function(calculation = {}, options = {}) {\n  try { this.mustbeSupported(calculation, options) } catch (e) { return false }\n  return true\n}\n", "import Calculator from './calculator'\nimport './is-supported'\n\n\n\nCalculator.prototype.isntSupported = function(calculation = {}, options = {}) {\n  return !this.isSupported(calculation, options)\n}\n", "import Calculator from './calculator'\nimport store from './helpers/store'\nimport extractCalculation from './helpers/calculation-extract'\nimport isValidArgSize from './helpers/calculation-isvalid-arg-size'\nimport isValidArgType from './helpers/calculation-isvalid-arg-type'\nimport './is-supported'\nimport './isnt-supported'\n\n\n\nCalculator.prototype.calculate = function(calculation = {}) {\n  if (this.isntSupported(calculation)) { return null }\n  let { installed } = store(this)\n  let { name, args } = extractCalculation(calculation)\n  let { argumentType, argumentSize, calculate } = installed[name]\n  if (!isValidArgSize(args, argumentSize)) { return null }\n  args = args.slice(0, argumentSize.max).map((arg) => {\n    return this.isSupported(arg) ? this.calculate(arg) : arg\n  })\n  if (!isValidArgType(args, argumentType)) { return null }\n  return calculate(...args)\n}\n", "import { is } from '../../base/type'\n\n\n\nexport default function isValidArgSize(arg) {\n  if (arg === Infinity) { return false }\n  if (is.positiveInteger(arg)) { return true }\n  if (!is.nonblankArray(arg)) { return false }\n  if (arg.length !== 2) { return false }\n  if (!is.positiveInteger(arg[0])) { return false }\n  if (arg[1] === Infinity) { return true }\n  return arg[1] > arg[0]\n}\n", "import { is, isnt } from '../../base/type'\n\n\n\nexport default function isValidArgType(type) {\n  if (is.type(type)) { return true }\n  if (isnt.nonblankArray(type)) { return false }\n  return type.every((item) => is.typeArray(item))\n}\n", "import { is } from '../../base/type'\n\n\n\nexport default function extractArgSize(argSize) {\n  return {\n    min: is.integer(argSize) ? argSize : argSize[0],\n    max: is.integer(argSize) ? argSize : argSize[1]\n  }\n}\n", "// @calculator props\n\n// @prop {string} name - The unique calculator name.\n\n// @prop {number | Array} argumentSize - How many args this calculator accepts.\n// 1. It can be a positive integer which means\n//    this calculator accepts fixed size arguments,\n//    or an array includes two positive integers(the 2nd can also be Infinity)\n//    which means the argument size of this calculator can be within the range.\n// 2. The calculate function won't be called\n//    if argument size is less than the minimum size,\n// 3. Arguments beyond accepted maximum size is ignored.\n\n// @prop {string | Array} argumentType - What type of args it supports.\n// 1. It can be declared as a specific type, like 'Number', 'String', etc,\n//    or multiple types in an array. The `calculate` function won't be called\n//    if the arguments doesn't match the declared types.\n// 2. If it's declared as a nested type array like\n//    [['Number'], ['String', 'Number']], it means the types of the arguments\n//    must match the nested type position, arguments beyond max type position\n//    will be checked with the last type array.\n// 3. It means the validator supports any data type if declared as '*'.\n//    Under this situation, the executation of the `calculate` function\n//    is not affected by the types of the arguments.\n\n// @prop {Function} calculate - The calculate function.\n\n// @example\n// Calculator.create().install({\n//   name: 'myCalculator',\n//   argumentSize: [2, Infinity],\n//   argumentType: [['Number', 'String'], ['Number'], ['Number']],\n//   calculate (...args) {\n//     return args.reduce((one, two) => one + two)\n//   }\n// })\nimport { mustbe } from '../base/type'\nimport raise from '../base/exception'\nimport Calculator from './calculator'\nimport store from './helpers/store'\nimport isValidArgSize from './helpers/calculator-isvalid-arg-size'\nimport isValidArgType from './helpers/calculator-isvalid-arg-type'\nimport extractArgSize from './helpers/calculator-extract-arg-size'\n\n\n\nCalculator.prototype.install = function(installer = {}) {\n  mustbe.object(installer, 'Calculator installer')\n  let { name, argumentSize, argumentType, calculate } = installer\n  mustbe.nonblankString(name, 'Calculator installer \"name\"')\n  mustbe.function(calculate, 'Calculator installer \"calculate\"')\n  !isValidArgSize(argumentSize) && raise({\n    type: Calculator.exceptions.INVALID_ARGUMENT_SIZE,\n    message: 'Invalid calculator installer \"argumentSize\".',\n  })\n  !isValidArgType(argumentType) && raise({\n    type: Calculator.exceptions.INVALID_ARGUMENT_TYPE,\n    message: 'Invalid calculator installer \"argumentType\".',\n  })\n  let { installed } = store(this)\n  name in installed && raise({\n    type: Calculator.exceptions.CONFLICTED_NAME,\n    message: `Conflicted calculator name \"${name}\".`,\n  })\n  installed[name] = {\n    ...installer,\n    name, argumentType, calculate,\n    argumentSize: extractArgSize(argumentSize),\n  }\n}\n", "import Calculator from './calculator'\nimport store from './helpers/store'\n\n\n\nCalculator.prototype.uninstall = function(name = '') {\n  let { installed } = store(this)\n  if (name in installed) { delete installed[name] }\n}\n", "export default function store(family = {}, options = {}) {\n  return family._family || (family._family = { ...options })\n}\n", "import guid from '../../base/guid'\nimport raise from '../../base/exception'\nimport store from './helpers/store'\n\n\n\nclass Family {\n\n  static exceptions = {\n    MEMBER_NOT_EXIST: 'FAMILY_MEMBER_NOT_EXIST',\n    CONFLICTED_PARENT: 'FAMILY_MEMBER_CONFLICTED_PARENT',\n    SELF_REFERENCE: 'FAMILY_MEMBER_SELF_REFERENCE',\n    INVALID_INSTANCE: 'FAMILY_INVALID_INSTANCE',\n  }\n\n  constructor() {\n    const rootId = guid()\n    store(this, {\n      rootId,\n      members: { [rootId]: { id: rootId, parentId: null, order: 0 } },\n    })\n  }\n\n  static create(...args) { return new Family(...args) }\n\n  static isFamily(ins) { return ins instanceof Family }\n\n  static isntFamily(ins) { return !Family.isFamily(ins) }\n\n  static mustbeFamily(ins, msg = '') {\n    Family.isntFamily(ins) && raise({\n      type: Family.exceptions.INVALID_INSTANCE,\n      message: msg || 'Invalid family instance.',\n    })\n  }\n\n\n}\n\n\n\nexport { Family, Family as default }\n", "function sortChildren(members = {}, children = []) {\n  children = children.sort((a, b) => {\n    if (!('order' in a)) { return 1 }\n    if (!('order' in b)) { return -1 }\n    return a.order - b.order\n  })\n  let target = children.find((chd) => 'expectedOrder' in chd)\n  if (target) {\n    let [index, newIndex] = [children.indexOf(target), target.expectedOrder]\n    children.splice(index, 1)\n    if (newIndex < 0) {\n      children.unshift(target)\n    } else if (newIndex > children.length - 1) {\n      children.push(target)\n    } else {\n      children.splice(newIndex, 0, target)\n    }\n  }\n  children.forEach((chd, order) => {\n    delete members[chd.id].expectedOrder\n    members[chd.id].order = order\n  })\n  return children\n}\n\n\n\nexport { sortChildren }\n", "import Family from './family'\nimport store from './helpers/store'\nimport { sortChildren } from './helpers/sort'\n\n\n\nFamily.prototype.descendant = function(params = {}, options = {}) {\n  let { rootId, members } = store(this)\n  let id = params.id || rootId\n  let deep = 'deep' in options ? options.deep : false\n  let self = 'self' in options ? options.self : false\n  let sort = 'sort' in options ? options.sort : true\n  if (!members[id]) { return null }\n  let [descendants, index] = [[{ ...members[id] }], -1]\n  while (++ index < descendants.length) {\n    let [parent, children] = [descendants[index], []]\n    Object.values(members).forEach((member) => {\n      if (member.id === rootId) { return }\n      member.parentId === parent.id && children.push({ ...member })\n    })\n    if (children.length) {\n      sort && (children = sortChildren(members, children))\n      descendants = descendants.concat(children)\n    }\n    if (!deep) { break }\n  }\n  if (!self) { descendants.shift() }\n  return descendants.length ? descendants : null\n}\n", "import { mustbe } from '../../base/type'\nimport raise from '../../base/exception'\nimport guid from '../../base/guid'\nimport Family from './family'\nimport store from './helpers/store'\nimport './descendant'\n\n\n\nFamily.prototype.add = function(params = {}) {\n  let { rootId, members } = store(this)\n  let id = params.id || guid()\n  let parentId = (params.parent ? params.parent.id : params.parentId) || rootId\n  let order = params.order || Infinity\n  mustbe.nonblankString(id, 'Family member \"id\"')\n  mustbe.nonblankString(parentId, 'Family member \"parentId\"')\n  mustbe.number(order, 'Family member \"order\"')\n  id === parentId && raise({\n    type: Family.exceptions.SELF_REFERENCE,\n    message: \"Any family member's parent cannot be itself.\",\n  })\n  !members[parentId] && raise({\n    type: Family.exceptions.MEMBER_NOT_EXIST,\n    message: `Family member ${parentId} is not existed.`,\n  })\n  if (members[id]) {\n    if (members[id].parentId === parentId) { return { ...members[id] } }\n    raise({\n      type: Family.exceptions.CONFLICTED_PARENT,\n      message: \"Any family member's parent cannot be changed.\",\n    })\n  }\n  members[id] = { id, parentId, expectedOrder: order, touchedAt: guid() }\n  this.descendant({ id: parentId }, { sort: true })\n  return { ...members[id] }\n}\n", "import Family from './family'\nimport store from './helpers/store'\n\n\n\nFamily.prototype.ancestor = function(params = {}, options = {}) {\n  let { id } = params\n  let { members } = store(this)\n  let deep = 'deep' in options ? options.deep : false\n  let self = 'self' in options ? options.self : false\n  if (!members[id]) { return null }\n  let [ancestors, index] = [[{ ...members[id] }], -1]\n  while (++ index < ancestors.length) {\n    let parent = members[ancestors[index].parentId]\n    parent && ancestors.push({ ...parent })\n    if (!deep) { break }\n  }\n  if (deep) {\n    if (!self) { ancestors.shift() }\n    return ancestors.length ? ancestors : null\n  } else {\n    ancestors.shift()\n    return ancestors[0] ? ancestors[0] : null\n  }\n}\n", "import Family from './family'\nimport store from './helpers/store'\nimport './descendant'\n\n\n\nFamily.prototype.delete = function(params = {}) {\n  let { members, rootId } = store(this)\n  if (params.id === rootId) { return }\n  let member = members[params.id]\n  if (!member) { return }\n  let { parentId } = member\n  this.descendant({ id: params.id }, { self: true, deep: true, sort: false })\n    .forEach(({ id }) => delete members[id])\n  this.descendant({ id: parentId }, { sort: true })\n}\n", "import Family from './family'\nimport store from './helpers/store'\n\n\n\nFamily.prototype.has = function(params = {}) {\n  let { members } = store(this)\n  return params.id in members\n}\n", "import Family from './family'\nimport './has'\n\n\n\nFamily.prototype.hasnt = function(params = {}) {\n  return !this.has(params)\n}\n", "import guid from '../../base/guid'\nimport { mustbe } from '../../base/type'\nimport Family from './family'\nimport store from './helpers/store'\nimport './descendant'\n\n\n\nFamily.prototype.reorder = function(params = {}) {\n  let { id, order } = params\n  let { rootId, members } = store(this)\n  mustbe.number(order, 'Family member \"order\"')\n  if (!members[id] || id === rootId) { return }\n  if (order === members[id].order) { return }\n  members[id].expectedOrder = order\n  members[id].touchedAt = guid()\n  this.descendant({ id: members[id].parentId }, { sort: true })\n}\n", "import Family from './family'\nimport store from './helpers/store'\n\n\n\nFamily.prototype.root = function() {\n  let { rootId, members } = store(this)\n  return { ...members[rootId] }\n}\n", "import Family from './family'\nimport store from './helpers/store'\nimport './ancestor'\nimport './descendant'\nimport './root'\n\n\n\nFamily.prototype.sibling = function(params = {}, options = {}) {\n  let { id } = params\n  let { members, rootId } = store(this)\n  let self = 'self' in options ? options.self : false\n  if (!members[id]) { return null }\n  if (id === rootId) { return self ? [this.root()] : null }\n  let parent = this.ancestor({ id })\n  if (!parent) { return null }\n  let descendants = this.descendant(parent)\n  if (self) { return descendants }\n  descendants = descendants.filter((member) => member.id !== id)\n  return descendants.length ? descendants : null\n}\n", "export default function store(dependency = {}, options = {}) {\n  return dependency._dependency || (dependency._dependency = { ...options })\n}\n", "import raise from '../../base/exception'\nimport store from './helpers/store'\n\n\n\nclass Dependency {\n\n  static exceptions = {\n    CIRCLE_REFERENCE: 'DEPENDENCY_CIRCLE_REFERENCE',\n    INVALID_INSTANCE: 'DEPENDENCY_INVALID_INSTANCE',\n  }\n\n  constructor() {\n    store(this, {\n      associations: {},\n      group: { reliers: {} },\n      cache: { reliers: {} },\n    })\n  }\n\n  static create(...args) { return new Dependency(...args) }\n\n  static isDependency(ins) { return ins instanceof Dependency }\n\n  static isntDependency(ins) { return !Dependency.isDependency(ins) }\n\n  static mustbeDependency(ins, msg = '') {\n    Dependency.isntDependency(ins) && raise({\n      type: Dependency.exceptions.INVALID_INSTANCE,\n      message: msg || 'Invalid dependency instance.',\n    })\n  }\n\n}\n\n\n\nexport { Dependency, Dependency as default }\n", "const SPLITOR = '#'\nconst GLOBAL_PATH = '_'\n\n\n\nfunction joinPath(target = {}) {\n  let { id, prop } = target\n  if (!id) { return GLOBAL_PATH }\n  return `${id}${SPLITOR}${prop || ''}`\n}\n\nfunction splitPath(path = '') {\n  if (path === GLOBAL_PATH) { return { id: '', prop: '' } }\n  let [id, prop] = path.split(SPLITOR)\n  return { id, prop }\n}\n\n\n\nexport { GLOBAL_PATH, joinPath, splitPath, joinPath as default }\n", "import { splitPath, joinPath, GLOBAL_PATH } from './path'\n\n\n\nexport default function cleanCache(cache = {}, provider) {\n  if (!provider) { return Object.keys(cache).forEach((p) => delete cache[p]) }\n  let { id, prop } = provider\n  if (!id) { return delete cache[GLOBAL_PATH] }\n  let path = joinPath({ id, prop })\n  if (prop) {\n    delete cache[path]\n    delete cache[joinPath({ id })]\n    Object.keys(cache).forEach((p) => {\n      cache[p].includes(path) && delete cache[p]\n    })\n  } else {\n    Object.keys(cache).forEach((p) => {\n      (splitPath(p).id === id || cache[p].includes(path)) && delete cache[p]\n    })\n  }\n}\n", "const GLOBAL_GROUP = '__GLOBAL__'\n\n\n\nexport { GLOBAL_GROUP }\n", "import { Exception } from '../../base/exception'\nimport { isnt, mustbe } from '../../base/type'\nimport Dependency from './dependency'\nimport store from './helpers/store'\nimport { joinPath } from './helpers/path'\nimport cleanCache from './helpers/clean-cache'\nimport { GLOBAL_GROUP } from './helpers/group'\n\n\n\nDependency.prototype.add = function(newAssociations = [], options = {}) {\n  let group = 'group' in options ? options.group : GLOBAL_GROUP\n  mustbe.nonblankString(group, 'Association \"group\"')\n  isnt.array(newAssociations) && (newAssociations = [newAssociations])\n  newAssociations = newAssociations.map(({ provider, relier }) => {\n    mustbe.nonblankString(relier.id, 'Association \"relier.id\"')\n    mustbe.nonblankString(provider.id, 'Association \"provider.id\"')\n    mustbe.nonblankString(relier.prop, 'Association \"relier.prop\"')\n    mustbe.nonblankString(provider.prop, 'Association \"provider.prop\"')\n    let path = { provider: joinPath(provider), relier: joinPath(relier) }\n    return { provider, relier, path }\n  })\n  let { error, rollbackQueue } = addAssociations(this, newAssociations)\n  if (!error) { return addGroups(this, newAssociations, group) }\n  rollbackAssociations(this, rollbackQueue)\n  throw error\n}\n\n\n\nfunction addAssociations(dependency, newAssociations) {\n  let rollbackQueue = []\n  let { associations } = store(dependency)\n  let cache = store(dependency).cache.reliers\n  let hasCircleRef = newAssociations.some(({ provider, relier, path }) => {\n    if (path.provider === path.relier) { return true }\n    let reliers = dependency.reliers(relier, { split: false })\n    if (reliers && reliers.includes(path.provider)) { return true }\n    associations[path.provider] || (associations[path.provider] = [])\n    if (associations[path.provider].includes(path.relier)) { return false }\n    associations[path.provider].push(path.relier)\n    rollbackQueue.push({ provider, relier, path })\n    cleanCache(cache, provider)\n    return false\n  })\n  if (!hasCircleRef) { return { error: null, rollbackQueue: null } }\n  return {\n    rollbackQueue,\n    error: Exception.create({ type: Dependency.exceptions.CIRCLE_REFERENCE }),\n  }\n}\n\nfunction rollbackAssociations(dependency, rollbackQueue) {\n  let { associations } = store(dependency)\n  let cache = store(dependency).cache.reliers\n  rollbackQueue.forEach(({ provider, path }) => {\n    let index = associations[path.provider].indexOf(path.relier)\n    if (index < 0) { return }\n    associations[path.provider].splice(index, 1)\n    !associations[path.provider].length && delete associations[path.provider]\n    cleanCache(cache, provider)\n  })\n}\n\nfunction addGroups(dependency, newAssociations, group) {\n  let groups = store(dependency).group.reliers\n  newAssociations.forEach(({ path }) => {\n    let reliers = groups[path.provider] || (groups[path.provider] = {})\n    let members = reliers[path.relier] || (reliers[path.relier] = [])\n    !members.includes(group) && members.push(group)\n  })\n}\n", "import Dependency from './dependency'\nimport store from './helpers/store'\nimport { joinPath, splitPath } from './helpers/path'\nimport cleanCache from './helpers/clean-cache'\nimport { GLOBAL_GROUP } from './helpers/group'\n\n\n\nDependency.prototype.delete = function(target = {}, options = {}) {\n  let { id, prop } = target\n  if (!id) { return }\n  let { only, group } = options\n  let path = joinPath(target)\n  let { associations } = store(this)\n  let cache = store(this).cache.reliers\n  let groups = store(this).group.reliers\n  let pathMatch = prop ? ((i) => i === path) : ((i) => splitPath(i).id === id)\n  // Deleting providers\n  if (only !== 'relier') {\n    cleanCache(cache, target)\n    if (prop) {\n      delete associations[path]\n      delete groups[path]\n    } else {\n      Object.keys(associations).map((p) => {\n        if (!pathMatch(p)) { return }\n        delete associations[p]\n        delete groups[p]\n      })\n    }\n  }\n  // Deleting reliers\n  Object.keys(associations).forEach((p) => {\n    let oldLength = associations[p].length\n    associations[p] = associations[p].filter((r) => {\n      if (!pathMatch(r)) { return true }\n      if (only !== 'relier' || !group || group === GLOBAL_GROUP) {\n        delete groups[p][r]\n        return false\n      }\n      let index = groups[p][r].findIndex((g) => g === group)\n      if (index >= 0) { groups[p][r].splice(index, 1) }\n      if (groups[p][r].length) { return true }\n      delete groups[p][r]\n      return false\n    })\n    let newLength = associations[p].length\n    if (newLength === oldLength) { return }\n    cleanCache(cache, splitPath(p))\n    !newLength && delete associations[p]\n    !Object.keys(groups[p]).length && delete groups[p]\n  })\n}\n", "import { isnt } from '../../base/type'\nimport { array } from '../../base/struct'\nimport Dependency from './dependency'\nimport store from './helpers/store'\nimport { joinPath, splitPath } from './helpers/path'\nimport cleanCache from './helpers/clean-cache'\nimport { GLOBAL_GROUP } from './helpers/group'\n\n\n\nDependency.prototype.reliers = function(providers = [], options = {}) {\n  isnt.array(providers) && (providers = [providers])\n  let needAllReliers = providers.some((p) => isnt.object(p) || !p.id)\n  needAllReliers && (providers = [{}])\n  let reload = 'reload' in options ? options.reload : false\n  let split = 'split' in options ? options.split : true\n  let deep = 'deep' in options ? options.deep : true\n  let self = 'self' in options ? options.self : true\n  let group = 'group' in options ? options.group : ''\n  let { associations } = store(this)\n  let cache = store(this).cache.reliers\n  let groups = store(this).group.reliers\n  let [collection, providerIds, providerPaths] = [[], [], []]\n  providers.forEach((provider) => {\n    let path = joinPath(provider)\n    if ('prop' in provider) {\n      providerPaths.push(path)\n    } else {\n      Object.keys(associations).forEach((p) => {\n        splitPath(p).id === provider.id && providerPaths.push(p)\n      })\n    }\n    providerIds.push(provider.id)\n    if (!hasAssociation(associations, provider)) {\n      return cleanCache(cache, provider)\n    }\n    if (reload || !(path in cache)) {\n      cache[path] = collectReliers(associations, provider)\n      cache[path] = sortReliers(associations, cache[path])\n    }\n    collection = collection.concat(cache[path])\n  })\n  if (!collection.length) { return null }\n  if (providers.length > 1) {\n    collection = sortReliers(associations, array.unique(collection))\n  }\n  if (needAllReliers || (deep && self && (!group || group === GLOBAL_GROUP))) {\n    return split ? collection.map((r) => splitPath(r)) : collection\n  }\n  let [filteredCollection, providerChain] = [[], providerPaths.slice()]\n  let directReliers = providerPaths.map((p) => associations[p]).flat()\n  collection.forEach((relier) => {\n    if (!deep && !directReliers.includes(relier)) { return }\n    let splited = splitPath(relier)\n    if (!self && providerIds.includes(splited.id)) { return }\n    if (group && group !== GLOBAL_GROUP) {\n      let relierIsInGroup = Object.keys(groups).some((provider) => {\n        if (!providerChain.includes(provider)) { return false }\n        let reliers = Object.keys(groups[provider])\n        if (!reliers.includes(relier)) { return false }\n        return groups[provider][relier].includes(group)\n      })\n      providerChain.push(relier)\n      if (!relierIsInGroup) { return }\n    }\n    filteredCollection.push(split ? splited : relier)\n  })\n  return filteredCollection.length ? filteredCollection : null\n}\n\n\n\nfunction hasAssociation(associations = {}, provider = {}) {\n  let { id, prop } = provider\n  if (!id) { return Object.keys(associations).length > 0 }\n  if (prop) { return joinPath(provider) in associations }\n  return Object.keys(associations).filter((p) => {\n    return splitPath(p).id === id\n  }).length > 0\n}\n\nfunction collectReliers(associations = {}, provider = {}) {\n  let { id, prop } = provider\n  let reliers = (() => {\n    if (!id) { return array.unique(Object.values(associations).flat()) }\n    if (prop) { return (associations[joinPath(provider)] || []).slice() }\n    return array.unique(Object.keys(associations)\n      .filter((p) => splitPath(p).id === id)\n      .map((p) => associations[p]).flat())\n  })()\n  let index = -1\n  while (++ index < reliers.length) {\n    let cascaded = associations[reliers[index]] || []\n    cascaded.forEach((r) => !reliers.includes(r) && reliers.push(r))\n  }\n  return reliers\n}\n\n// Only work if each relier contains a complete relying path.\nfunction sortReliers(associations = {}, reliers = []) {\n  let index = -1\n  while (++ index < reliers.length) {\n    let cascaded = associations[reliers[index]] || []\n    cascaded.forEach((relier) => {\n      let position = reliers.indexOf(relier)\n      if (position > index) { return }\n      reliers.splice(position, 1)\n      reliers.push(relier)\n      index--\n    })\n  }\n  return reliers\n}\n", "export default function store(dispatcher = {}, options = {}) {\n  return dispatcher._dispatcher || (dispatcher._dispatcher = { ...options })\n}\n", "import { mustbe } from '../../base/type'\nimport store from './helpers/store'\n\n\n\nclass Dispatcher {\n\n  constructor(options = {}) {\n    'target' in options && mustbe.function(options.target, 'options.target')\n    store(this, {\n      isAborted: false, listeners: {},\n      target: options.target || function(id) { return id },\n    })\n  }\n\n  static create(...args) { return new Dispatcher(...args) }\n\n}\n\n\n\nexport { Dispatcher, Dispatcher as default }\n", "import Dispatcher from './dispatcher'\nimport store from './helpers/store'\n\n\n\nDispatcher.prototype.abort = function(aborted = true) {\n  store(this).isAborted = aborted === true\n}\n", "import { is } from '../../../base/type'\n\n\n\nexport default function clearListener(listeners = {}, id, events) {\n  if (!(id in listeners)) { return }\n  if (events) {\n    events = is.array(events) ? events : [events]\n  } else {\n    events = Object.keys(listeners[id])\n  }\n  events.forEach((event) => {\n    if (!(event in listeners[id])) { return }\n    !listeners[id][event].length && delete listeners[id][event]\n  })\n  !Object.keys(listeners[id]).length && delete listeners[id]\n}\n", "import { mustbe } from '../../base/type'\nimport Dispatcher from './dispatcher'\nimport store from './helpers/store'\nimport cleanListeners from './helpers/clean-listener'\n\n\n\nDispatcher.prototype.add = function(params = {}, callback) {\n  let { id, event } = params\n  let { listeners } = store(this)\n  mustbe.nonblankString(id, 'Dispatcher \"id\"')\n  mustbe.nonblankString(event, 'Dispatcher \"event\"')\n  mustbe.function(callback, 'Dispatcher \"handler\"')\n  listeners[id] || (listeners[id] = {})\n  let member = { callback }\n  let quene = listeners[id][event] || (listeners[id][event] = [])\n  quene.push(member)\n  return function() {\n    if (!quene.includes(member)) { return }\n    quene.splice(quene.indexOf(member), 1)\n    cleanListeners(listeners, id, event)\n  }\n}\n", "import Dispatcher from './dispatcher'\nimport store from './helpers/store'\nimport cleanListeners from './helpers/clean-listener'\n\n\n\nDispatcher.prototype.delete = function(params = {}, callback) {\n  let { id, event } = params\n  let { listeners } = store(this)\n  if (!listeners[id]) { return }\n  if (!event) {\n    id in listeners && delete listeners[id]\n    return\n  }\n  if (!listeners[id][event]) { return }\n  if (!callback) {\n    event in listeners[id] && delete listeners[id][event]\n    return\n  }\n  listeners[id][event] = listeners[id][event].filter((item) => {\n    return item.callback !== callback\n  })\n  cleanListeners(listeners, id, event)\n}\n", "import { mustbe } from '../../base/type'\nimport Dispatcher from './dispatcher'\nimport store from './helpers/store'\n\n\n\nDispatcher.prototype.trigger = function(params = {}, handler) {\n  handler && mustbe.function(handler, 'Dispatcher \"handler\"')\n  let { id, event, detail } = params\n  let { listeners, target, isAborted } = store(this)\n  if (isAborted) { return false }\n  if (!listeners[id]) { return false }\n  if (!listeners[id][event]) { return false }\n  let isDefaultPrevented = false\n  let customEvent = { type: event, target: target(id), detail }\n  if (handler) { return handler(customEvent, detail) === false }\n  listeners[id][event].forEach(({ callback }) => {\n    let isPrevented = callback(customEvent, detail) === false\n    isDefaultPrevented || (isDefaultPrevented = isPrevented)\n  })\n  return !isDefaultPrevented\n}\n", "export default function store(executor = {}, options = {}) {\n  return executor._executor || (executor._executor = { ...options })\n}\n", "import { mustbe } from '../../base/type'\nimport store from './helpers/store'\n\n\n\nclass Executor {\n\n  constructor(options = {}) {\n    mustbe.function(options.runner, 'options.runner')\n    store(this, {\n      isAborted: false,\n      queues: { current: [], next: [] },\n      runner: options.runner || function(jobs) { return jobs },\n    })\n  }\n\n  static create(...args) { return new Executor(...args) }\n\n}\n\n\n\nexport { Executor, Executor as default }\n", "import Executor from './executor'\nimport store from './helpers/store'\n\n\n\nExecutor.prototype.abort = function(aborted = true) {\n  store(this).isAborted = aborted === true\n}\n", "import raise from '../../base/exception'\nimport { isnt } from '../../base/type'\nimport Executor from './executor'\nimport store from './helpers/store'\n\n\n\nExecutor.prototype.run = function(jobs) {\n  let { queues, runner, isAborted } = store(this)\n  // Enquening to next loop.\n  if (arguments.length) {\n    isnt.array(jobs) && (jobs = [jobs])\n    // queues.next.push(jobs)\n    queues.next = queues.next.concat(jobs)\n  }\n  if (isAborted) { return }\n  // Waiting for next loop.\n  if (queues.current.length) { return }\n  // Jumping out of loop.\n  if (!queues.next.length) { return }\n  // Dequening\n  // queues.current = queues.next.shift()\n  queues.current = queues.next\n  queues.next = []\n  // Clear current job quene to ensure next loop can be started.\n  try { runner(queues.current.slice()) } catch (error) {\n    queues.current = []\n    raise({ type: error.type || error.name, message: error.message })\n  }\n  // Dequening Current after actions executed.\n  queues.current = []\n  // Starting next loop.\n  this.run()\n}\n", "export default function store(hook = {}, options = {}) {\n  return hook._hook || (hook._hook = { ...options })\n}\n", "import store from './helpers/store'\n\n\n\nclass Hook {\n\n  constructor() {\n    store(this, { isAborted: false, hooks: {} })\n  }\n\n  static create(...args) { return new Hook(...args) }\n\n}\n\n\n\nexport { Hook, Hook as default }\n", "import Hook from './hook'\nimport store from './helpers/store'\n\n\n\nHook.prototype.abort = function(aborted = true) {\n  store(this).isAborted = aborted === true\n}\n", "import { mustbe } from '../../base/type'\nimport Hook from './hook'\nimport store from './helpers/store'\n\n\n\nHook.prototype.add = function(type = '', callback) {\n  mustbe.nonblankString(type, 'Hook \"type\"')\n  mustbe.function(callback, 'Hook \"handler\"')\n  let { hooks } = store(this)\n  hooks[type] || (hooks[type] = [])\n  hooks[type].push(callback)\n  return function() {\n    let index = hooks[type].indexOf(callback)\n    index >= 0 && hooks[type].splice(index, 1)\n  }\n}\n", "import Hook from './hook'\nimport store from './helpers/store'\n\n\n\nHook.prototype.delete = function(type = '', callback) {\n  let { hooks } = store(this)\n  if (!hooks[type]) { return }\n  if (callback) {\n    hooks[type] = hooks[type].filter((cb) => cb !== callback)\n  } else {\n    hooks[type] = []\n  }\n}\n", "import { isnt } from '../../base/type'\nimport Hook from './hook'\nimport store from './helpers/store'\n\n\n\nHook.prototype.run = function(type = '', options = {}) {\n  let { hooks, isAborted } = store(this)\n  if (isAborted) { return false }\n  if (!hooks[type]) { return true }\n  let [args, isPrevented] = [options.arguments, false]\n  isnt.array(args) && (args = [args])\n  // [TODO] Should use .some to prevent other functions from being executed?\n  hooks[type].forEach((callback) => {\n    let result = callback(...args)\n    isPrevented || (isPrevented = result === false)\n  })\n  if (isAborted) { return false }\n  return !isPrevented\n}\n", "import guid from '../../base/guid'\n\n\n\nexport default function add(member = {}, context = {}) {\n  let { members, family, dependency, hooks } = context\n  let id = 'id' in member ? member.id : member.id = guid()\n  let rootId = family.root().id\n  let isRoot = id === rootId\n  if (isRoot && members[id]) { return {} }\n  let parentId = isRoot ? null : (() => {\n    return 'parentId' in member ? member.parentId : member.parentId = rootId\n  })()\n  if (!isRoot && family.has({ id })) { return {} }\n  if (!isRoot && family.hasnt({ id: parentId })) { return {} }\n  let props = 'props' in member ? member.props : member.props = {}\n  if (!('children' in props)) { props.children = [] }\n  if (!('order' in props)) { props.order = Infinity }\n  let result = { mutations: { set: [], calc: [] }, mutated: [] }\n  if (!hooks.run('before-add', { arguments: [member, 'before-add'] })) {\n    return {}\n  }\n  !isRoot && family.add({ id, parentId })\n  members[id] = {}\n  result.mutated = [{ id }]\n  Object.keys(member.props).forEach((name) => {\n    result.mutations.set.push({ id, prop: name, value: props[name] })\n  })\n  // Built-in dependencies should be added in the `.add()` func,\n  // it ensures the built-in deps are setted at the earlist time\n  // and prevents user defined associations breaks the built-in deps.\n  !isRoot && dependency.add({\n    provider: { id, prop: 'order' }, relier: { id: parentId, prop: 'children' },\n  })\n  hooks.run('after-add', { arguments: [member, result, 'after-add'] })\n  return result\n}\n", "const RAW_PROP = '__raw__prop__'\nconst RAW_ERROR = '__raw__error__'\nconst PROP = '__prop__'\nconst ERROR = '__error__'\n\nfunction propKey(prop, options = {}) {\n  let expando = options.raw ? RAW_PROP : PROP\n  return expando + prop\n}\n\nfunction errorKey(prop, options = {}) {\n  let expando = options.raw ? RAW_ERROR : ERROR\n  return expando + prop\n}\n\n\n\nexport { RAW_PROP, RAW_ERROR, PROP, ERROR, propKey, errorKey }\n", "import { propKey, errorKey } from './expando'\n\n\n\nexport default function calc(member = {}, context = {}) {\n  let { members, family, hooks } = context\n  let { id, prop } = member\n  if (family.hasnt({ id })) { return {} }\n  let result = { mutated: [] }\n  let propName = { raw: propKey(prop, { raw: true }), calc: propKey(prop) }\n  let errorName = { raw: errorKey(prop, { raw: true }), calc: errorKey(prop) }\n  if (!hooks.run('before-calc', { arguments: [member, 'before-calc'] })) {\n    return {}\n  }\n  if (prop === 'children') {\n    let descendants = family.descendant({ id }) || []\n    members[id][propName.calc] = descendants.map(({ id }) => ({ id }))\n    members[id][propName.raw] = members[id][propName.calc]\n    members[id][errorName.calc] = members[id][errorName.raw]\n    result.mutated.push({ id })\n    hooks.run('after-calc', { arguments: [member, result, 'after-calc'] })\n    return result\n  }\n  members[id][propName.calc] = members[id][propName.raw]\n  members[id][errorName.calc] = members[id][errorName.raw]\n  result.mutated.push({ id })\n  hooks.run('after-calc', { arguments: [member, result, 'after-calc'] })\n  return result\n}\n", "export default function del(member = {}, context = {}) {\n  let { id } = member\n  let { members, family, dependency, hooks } = context\n  if (family.hasnt({ id })) { return {} }\n  if (id === family.root().id) { return {} }\n  if (!hooks.run('before-del', { arguments: [member, 'before-del'] })) {\n    return {}\n  }\n  let result = { mutations: { add: [], set: [], calc: [] }, mutated: [] }\n  let parent = family.ancestor({ id })\n  let descendants = family.descendant({ id }, { deep: true, self: true })\n  let reliers = dependency.reliers(descendants, { self: false })\n  descendants.forEach(({ id }) => {\n    delete members[id]\n    family.delete({ id })\n    dependency.delete({ id })\n    result.mutated.push({ id })\n  })\n  reliers && (result.mutations.calc = reliers)\n  parent && (family.descendant({ id: parent.id }) || []).forEach((d, index) => {\n    result.mutations.set.push({ id: d.id, prop: 'order', value: index })\n  })\n  parent && (member.parentId = parent.id)\n  hooks.run('after-del', { arguments: [member, result, 'after-del'] })\n  return result\n}\n", "import { propKey, errorKey } from './expando'\n\n\n\nexport default function set(member = {}, context = {}) {\n  let { members, family, dependency, hooks } = context\n  let { id, prop, value } = member\n  if (family.hasnt({ id })) { return {} }\n  let propName = { raw: propKey(prop, { raw: true }) }\n  let errorName = { raw: errorKey(prop, { raw: true }) }\n  if (Object.is(members[id][propName.raw], value)) { return {} }\n  let result = { mutations: { calc: [] }, mutated: [] }\n  // Setting 'order' is a batch operation,\n  // the target's siblings should also be setted.\n  if (prop === 'order') {\n    let parent = family.ancestor({ id })\n    if (!parent) { return {} }\n    if (!hooks.run('before-set', { arguments: [member, 'before-set'] })) {\n      return {}\n    }\n    family.reorder({ id, order: member.value })\n    family.descendant(parent).forEach(({ id, order }) => {\n      members[id][propName.raw] = order\n      members[id][errorName.raw] = null\n      result.mutated.push({ id })\n      result.mutations.calc.push({ id, prop })\n      let reliers = dependency.reliers({ id, prop }) || []\n      result.mutations.calc = result.mutations.calc.concat(reliers)\n    })\n    hooks.run('after-set', { arguments: [member, result, 'after-set'] })\n    return result\n  }\n  if (!hooks.run('before-set', { arguments: [member, 'before-set'] })) {\n    return {}\n  }\n  members[id][propName.raw] = member.value\n  members[id][errorName.raw] = null\n  result.mutated = [{ id }]\n  // The `.set()` func is responsible to\n  // parse prop reliers and concat the mutations.\n  // Also, it's a good point to add user defined associations.\n  // If there is any conflictions in user defined associations,\n  // be sure to set association errors in an array as the raw error.\n  let reliers = dependency.reliers({ id, prop }) || []\n  result.mutations.calc = [{ id, prop }].concat(reliers)\n  hooks.run('after-set', { arguments: [member, result, 'after-set'] })\n  return result\n}\n", "import { array } from '../../base/struct'\nimport add from './action-add'\nimport calc from './action-calc'\nimport del from './action-del'\nimport set from './action-set'\n\n\n\nfunction splitMutations(mutations = [], validActions = []) {\n  let [jobs, ids] = [{}, {}]\n  validActions.forEach((action) => {\n    ids[action] = []\n    jobs[action] = []\n  })\n  mutations.forEach((mutation) => {\n    let { id, action } = mutation\n    if (!validActions.includes(action)) { return }\n    ids[action].push(id)\n    jobs[action].push(mutation)\n  })\n  return { jobs, ids }\n}\n\nfunction concatResult(results = {}, result, validEffects = []) {\n  result || (result = {})\n  if (result.mutated) {\n    results.mutated = results.mutated.concat(result.mutated)\n  }\n  validEffects.forEach((k) => {\n    results.mutations[k] || (results.mutations[k] = [])\n    if (result.mutations && result.mutations[k]) {\n      results.mutations[k] = results.mutations[k].concat(result.mutations[k])\n    }\n  })\n}\n\nfunction uniqueMutation(mutations = []) {\n  return mutations.filter((mu, index, arr) => {\n    let i = arr.findIndex((j) => j.id === mu.id && j.prop === mu.prop)\n    return i === index\n  })\n}\n\n\n\nexport default function run(mutations = [], context = {}) {\n  let { dispatcher, family } = context\n  let actions = ['del', 'add', 'set', 'calc']\n  let { jobs, ids } = splitMutations(mutations, actions)\n  let results = { mutated: [], mutations: {} }\n  concatResult(results, {}, actions)\n  jobs.del.forEach((mu) => {\n    concatResult(results, del(mu, context), ['add', 'set', 'calc'])\n  })\n  jobs.add = results.mutations.add.concat(jobs.add)\n  jobs.add.forEach((mu) => {\n    let { id, parentId } = mu\n    if (ids.del.includes(id)) { return }\n    if (ids.del.includes(parentId)) { return }\n    concatResult(results, add(mu, context), ['set', 'calc'])\n  })\n  jobs.set = results.mutations.set.concat(jobs.set)\n  jobs.set = uniqueMutation(jobs.set.reverse()).reverse()\n  jobs.set.forEach((mu) => {\n    if (ids.del.includes(mu.id)) { return }\n    concatResult(results, set(mu, context), ['calc'])\n  })\n  jobs.calc = results.mutations.calc.concat(jobs.calc)\n  jobs.calc = uniqueMutation(jobs.calc.reverse()).reverse()\n  jobs.calc.forEach((mu) => {\n    if (ids.del.includes(mu.id)) { return }\n    concatResult(results, calc(mu, context), [])\n  })\n  array.unique(results.mutated.map((mu) => mu.id)).forEach((id) => {\n    dispatcher.trigger({ id, event: 'after-mutation' })\n    if (family.hasnt({ id })) { dispatcher.delete({ id }) } // [TODO] Test\n  })\n}\n", "import raise from '../base/exception'\nimport Family from './family'\nimport Dependency from './dependency'\nimport Dispatcher from './dispatcher'\nimport Executor from './executor'\nimport Hook from './hook'\nimport run from './helpers/action-run-action'\n\n\n\nclass Context {\n\n  static Family = Family\n  static Dependency = Dependency\n  static Executor = Executor\n  static Dispatcher = Dispatcher\n  static Hook = Hook\n\n  static exceptions = {\n    INVALID_INSTANCE: 'INVALID_CONTEXT_INSTANCE',\n  }\n\n  constructor() {\n    this.members = {}\n    this.family = Family.create()\n    this.dependency = Dependency.create()\n    this.dispatcher = Dispatcher.create()\n    this.hooks = Hook.create()\n    this.executor = Executor.create({ runner: (mus) => run(mus, this) })\n    this.executor.run({ action: 'add', id: this.family.root().id })\n  }\n\n  static create(...args) { return new Context(...args) }\n\n  static isContext(arg) { return arg instanceof Context }\n\n  static isntContext(arg) { return !Context.isContext(arg) }\n\n  static mustbeContext(arg, msg = '') {\n    Context.isntContext(arg) && raise({\n      type: Context.exceptions.INVALID_INSTANCE,\n      message: msg || 'Invalid context instance.',\n    })\n  }\n\n}\n\n\n\nexport { Context, Context as default }\n", "import guid from '../base/guid'\nimport { isnt } from '../base/type'\nimport Context from './context'\n\n\n\nContext.prototype.add = function(members) {\n  let isSingle = isnt.array(members)\n  if (isSingle) { members = [members || {}] }\n  let mutations = members.map((m) => {\n    return { ...m, id: guid(), action: 'add' }\n  })\n  this.executor.run(mutations)\n  return isSingle ? mutations[0].id : mutations.map((m) => m.id)\n}\n", "import { isnt } from '../base/type'\nimport Context from './context'\n\n\n\nContext.prototype.delete = function(members) {\n  if (!members) {\n    this.executor.abort()\n    this.dispatcher.abort()\n    this.hooks.abort()\n    for (let prop in this) { delete this[prop] }\n    // [TODO] Trigger subscription?\n    return\n  }\n  isnt.array(members) && (members = [members])\n  let mutations = members.map((m) => ({ ...m, action: 'del' }))\n  this.executor.run(mutations)\n}\n", "import { isnt } from '../base/type'\nimport Context from './context'\n\n\n\nContext.prototype.find = function(matcher) {\n  if (isnt.function(matcher)) { return null }\n  return Object.keys(this.members).find((id) => matcher({ id }))\n}\n", "import Context from './context'\nimport {\n  RAW_PROP, RAW_ERROR, PROP, ERROR, propKey, errorKey,\n} from './helpers/expando'\n\n\n\nContext.prototype.get = function(member = {}, options = {}) {\n  let { members } = this\n  let include = 'include' in options ? options.include : []\n  let includeErr = include.includes('error')\n  let includeRaw = include.includes('raw')\n  if ('prop' in member) {\n    return pickProp(members, member, includeErr, includeRaw)\n  } else {\n    return collectProps(members, member, includeErr, includeRaw)\n  }\n}\n\n\n\nfunction pickProp(members, member, includeErr, includeRaw) {\n  let { id, prop } = member\n  if (!members[id]) { return null }\n  let [value, error, rawValue, rawError] = [null, null, null, null]\n  let propName = propKey(prop)\n  value = propName in members[id] ? members[id][propName] : null\n  if (includeErr) {\n    let errorName = errorKey(prop)\n    error = members[id][errorName] || null\n  }\n  if (includeRaw) {\n    let rawPropName = propKey(prop, { raw: true })\n    rawValue = rawPropName in members[id] ? members[id][rawPropName] : null\n    if (includeErr) {\n      let rawErrorName = errorKey(prop, { raw: true })\n      rawError = members[id][rawErrorName] || null\n    }\n  }\n  if (!includeErr && !includeRaw) { return value }\n  if (includeErr && !includeRaw) { return { value, error } }\n  if (!includeErr) { return { value, raw: { value: rawValue } } }\n  return { value, error, raw: { value: rawValue, error: rawError } }\n}\n\nfunction collectProps(members, member, includeErr, includeRaw) {\n  let { id } = member\n  let [values, errors, rawValues, rawErrors] = [{}, null, {}, null]\n  if (!members[id]) { return null }\n  Object.keys(members[id]).forEach((key) => {\n    let value = members[id][key]\n    if (key.startsWith(PROP)) {\n      return values[key.replace(PROP, '')] = value\n    }\n    if (value && includeErr && key.startsWith(ERROR)) {\n      errors || (errors = {})\n      return errors[key.replace(ERROR, '')] = value\n    }\n    if (includeRaw && key.startsWith(RAW_PROP)) {\n      return rawValues[key.replace(RAW_PROP, '')] = value\n    }\n    if (value && includeRaw && includeErr && key.startsWith(RAW_ERROR)) {\n      rawErrors || (rawErrors = {})\n      return rawErrors[key.replace(RAW_ERROR, '')] = value\n    }\n  })\n  if (!includeRaw && !includeErr) { return values }\n  if (includeErr && !includeRaw) { return { values, errors } }\n  if (!includeErr) { return { values, raw: { values: rawValues } } }\n  return { values, errors, raw: { values: rawValues, errors: rawErrors } }\n}\n", "import Context from './context'\nimport { propKey, errorKey } from './helpers/expando'\n\n\n\nContext.prototype.naming = function(prop = '') {\n  return {\n    prop: propKey(prop), error: errorKey(prop),\n    raw: {\n      prop: propKey(prop, { raw: true }), error: errorKey(prop, { raw: true }),\n    },\n  }\n}\n", "import { isnt } from '../base/type'\nimport Context from './context'\n\n\n\nContext.prototype.set = function(members) {\n  if (!members) { return }\n  isnt.array(members) && (members = [members])\n  let mutations = members.map((m) => ({ ...m, action: 'set' }))\n  this.executor.run(mutations)\n}\n", "import Context from './context'\n\n\n\nContext.prototype.subscribe = function(params = {}, callback) {\n  let event = { id: params.id, event: 'after-mutation' }\n  let immediately = 'immediately' in params ? params.immediately : true\n  let unsubscribe = this.dispatcher.add(event, callback)\n  if (immediately) { this.dispatcher.trigger(event, callback) }\n  return unsubscribe\n}\n", "export default {\n  type: 'Fieldset',\n  group: 'defaultChild',\n}\n", "import { object } from '../../base/struct'\n\n\n\nexport default function store(instance, options = { }) {\n  let storeSpace = instance._storeOfSchema || (instance._storeOfSchema = { })\n  if (options === undefined) { return instance._storeOfSchema }\n  Object.assign(storeSpace, object.collect(options, [\n    'parseExpression', 'parseReference',\n  ]))\n  return storeSpace\n}\n", "export const CASE_RULE = 'when'\nexport const CASE_RESULT = 'then'\nexport const DEFAULT_RESULT = 'else'\n\nexport const AND = 'and'\nexport const OR = 'or'\nexport const NOT = 'not'\nexport const LOGIC_SPLITOR = '_'\n", "import { isnt } from '../../../base/type'\nimport { CASE_RULE, CASE_RESULT } from './keywords'\n\n\n\nexport default function isCase(arg) {\n  if (isnt.object(arg)) { return false }\n  return (CASE_RULE in arg) && (CASE_RESULT in arg)\n}\n", "import { isnt } from '../../../base/type'\nimport { DEFAULT_RESULT } from './keywords'\n\n\n\nexport default function isDefault(arg) {\n  if (isnt.object(arg)) { return false }\n  return DEFAULT_RESULT in arg\n}\n", "import isCase from './is-case'\nimport isDefault from './is-default'\n\n\n\nexport default function isConditionObject(arg) {\n  return isCase(arg) || isDefault(arg)\n}\n", "import { isnt } from '../../../base/type'\nimport isConditionObject from './is-condition-object'\n\n\n\n// An array will be treated as a condition array only if\n// each member of it is a condition object.\n// So the whole array can be parsed as a complete condition logic.\nexport default function isConditionArray(arg) {\n  if (isnt.array(arg)) { return false }\n  if (!arg.length) { return false }\n  return !arg.some((item) => !isConditionObject(item))\n}\n", "import raise from '../../base/exception'\nimport isConditionObject from './helpers/is-condition-object'\nimport isConditionArray from './helpers/is-condition-array'\n\n\n\nexport default class Condition {\n\n  static exceptions = {\n    INVALID_CONDITION: 'CONDITION_INVALID_CONDITION',\n  }\n\n  static isConditionObject(arg) {\n    return isConditionObject(arg)\n  }\n\n  static isConditionArray(arg) {\n    return isConditionArray(arg)\n  }\n\n  static isCondition(arg) {\n    return isConditionObject(arg) || isConditionArray(arg)\n  }\n\n  static isntCondition(arg) {\n    return !Condition.isCondition(arg)\n  }\n\n  static mustbeCondition(arg, msg = '') {\n    if (Condition.isCondition(arg)) { return }\n    raise({\n      type: Condition.exceptions.INVALID_CONDITION,\n      message: msg || 'Invalid condition statement.',\n    })\n  }\n\n}\n", "import { is, isnt } from '../../base/type'\nimport Condition from './condition'\nimport {\n  AND, OR, NOT, LOGIC_SPLITOR,\n  CASE_RULE, CASE_RESULT, DEFAULT_RESULT,\n} from './helpers/keywords'\n\n\n\nCondition.combine = function(options = {}) {\n  let combined = []\n  let cases = is.array(options.whens) ? options.whens : []\n  let fallback = is.object(options.else) ? options.else : {}\n  cases.forEach((branch) => {\n    isnt.object(branch) && (branch = {})\n    combined.push({\n      [CASE_RULE]: combineRules(branch.rules),\n      [CASE_RESULT]: branch.result,\n    })\n  })\n  combined.push({ [DEFAULT_RESULT]: fallback.result })\n  return combined\n}\n\n\n\nfunction combineRules(rules = []) {\n  isnt.array(rules) && (rules = [rules])\n  const AND_NOT = [AND, NOT].join(LOGIC_SPLITOR)\n  const OR_NOT = [OR, NOT].join(LOGIC_SPLITOR)\n  const LOGICS = [AND, OR, NOT, AND_NOT, OR_NOT]\n  return rules.map((rule) => {\n    isnt.object(rule) && (rule = {})\n    let logic = LOGICS.includes(rule.logic) ? rule.logic : ''\n    if (!logic) { return rule.expression }\n    if ([AND, OR].includes(logic)) { return { [logic]: rule.expression } }\n    let logics = logic.split(LOGIC_SPLITOR)\n    return { [logics[0]]: { [logics[1]]: rule.expression } }\n  })\n}\n", "import { is, isnt } from '../../base/type'\nimport Condition from './condition'\nimport isConditionObject from './helpers/is-condition-object'\nimport isCase from './helpers/is-case'\nimport isDefault from './helpers/is-default'\nimport {\n  AND, OR, NOT, LOGIC_SPLITOR,\n  CASE_RULE, CASE_RESULT, DEFAULT_RESULT,\n} from './helpers/keywords'\n\n\n\nCondition.extract = function(statement) {\n  let [cases, fallback] = [[], { result: undefined }]\n  if (Condition.isntCondition(statement)) {\n    return { whens: cases, else: fallback }\n  }\n  isConditionObject(statement) && (statement = [statement])\n  statement.forEach((branch) => {\n    if (isCase(branch)) {\n      cases.push({\n        result: branch[CASE_RESULT],\n        rules: extractRules(branch[CASE_RULE]),\n      })\n    } else if (isDefault(branch)) {\n      fallback = { result: branch[DEFAULT_RESULT] }\n    }\n  })\n  return { whens: cases, else: fallback }\n}\n\n\n\nfunction extractRules(rules = []) {\n  isnt.array(rules) && (rules = [rules])\n  return rules.map((rule) => {\n    if (isnt.object(rule)) { return { logic: '', expression: rule } }\n    let logic = AND in rule ? AND : OR in rule ? OR : ''\n    if (!logic) { return { logic: '', expression: rule } }\n    let expression = rule[logic]\n    if (is.object(expression) && NOT in expression) {\n      logic = [logic, NOT].join(LOGIC_SPLITOR)\n      expression = expression[NOT]\n    }\n    return { logic, expression }\n  })\n}\n", "import { is, isnt } from '../../../base/type'\nimport { CASE_RULE, CASE_RESULT, AND, OR, NOT } from './keywords'\n\n\n\n// This algorithm **is not** an implemation of the Ternary logic!!!\n// @example - A case branch schema\n// {when: [2 > 1, {and: 3 > 2}, {or: {not: 1 < 2}], then: 10}\nexport default function parseCase(branch = {}, parseExpression) {\n  // Matching rules as `[2 > 1, ...]`\n  let [truthy, rules, index] = [null, branch[CASE_RULE], -1]\n  if (isnt.array(rules)) { rules = [rules] }\n  while (++ index < rules.length) {\n    let [rule, logics] = [rules[index], []]\n    if (is.object(rule) && AND in rule) {\n      rule = rule[AND] // Matching {and: 3 > 2}\n      logics.push(AND)\n    } else if (is.object(rule) && OR in rule) {\n      rule = rule[OR] // Matching {or: {not: 1 < 2}\n      logics.push(OR)\n    }\n    if (is.object(rule) && NOT in rule) {\n      rule = rule[NOT] // Matching {not: 1 < 2}\n      logics.push(NOT)\n    }\n    let ruleTruthy = parseExpression(rule)\n    isnt.boolean(ruleTruthy) && (ruleTruthy = null)\n    if (logics.includes(NOT)) {\n      ruleTruthy = !ruleTruthy\n    }\n    if (index === 0) {\n      truthy = ruleTruthy\n    } else if (logics.includes(OR)) {\n      truthy = truthy || ruleTruthy\n    // Use AND as fallback logic\n    } else {\n      truthy = truthy && ruleTruthy\n    }\n  }\n  return { truthy, result: branch[CASE_RESULT] } // Matching result as `10`\n}\n", "import { DEFAULT_RESULT } from './keywords'\n\n\n\nexport default function parseDefault(branch = {}) {\n  return { result: branch[DEFAULT_RESULT] }\n}\n", "import { is, mustbe } from '../../base/type'\nimport Condition from './condition'\nimport isConditionObject from './helpers/is-condition-object'\nimport isCase from './helpers/is-case'\nimport isDefault from './helpers/is-default'\nimport parseCase from './helpers/parse-case'\nimport parseDefault from './helpers/parse-default'\n\n\n\nfunction defaultExpParser(exp) {\n  if (is.boolean(exp)) { return exp }\n}\n\n\n\nCondition.parse = function(statement, parseExpression) {\n  Condition.mustbeCondition(statement)\n  if (parseExpression === undefined) { parseExpression = defaultExpParser }\n  mustbe.function(parseExpression, 'Condition \"parseExpression\"')\n  isConditionObject(statement) && (statement = [statement])\n  let conditionResult = undefined\n  statement.some((branch) => {\n    if (isCase(branch)) {\n      let { truthy, result } = parseCase(branch, parseExpression)\n      if (truthy === true) {\n        conditionResult = result\n        return true\n      }\n    } else if (isDefault(branch)) {\n      let { result } = parseDefault(branch)\n      conditionResult = result\n      return true\n    }\n    return false\n  })\n  return conditionResult\n}\n", "import { array } from '../../base/struct'\nimport Condition from './condition'\nimport isConditionObject from './helpers/is-condition-object'\nimport isCase from './helpers/is-case'\nimport isDefault from './helpers/is-default'\nimport { CASE_RESULT, DEFAULT_RESULT } from './helpers/keywords'\n\n\n\nCondition.possibilities = function(statement) {\n  Condition.mustbeCondition(statement)\n  isConditionObject(statement) && (statement = [statement])\n  let hasDefault = false\n  let collection = statement.map((branch) => {\n    if (isCase(branch)) {\n      return branch[CASE_RESULT]\n    } else if (isDefault(branch)) {\n      hasDefault = true\n      return branch[DEFAULT_RESULT]\n    }\n  })\n  collection = array.unique(collection)\n  if (hasDefault) { return collection }\n  !collection.includes(undefined) && collection.push(undefined)\n  return collection\n}\n", "import Condition from './condition'\nimport './combine'\nimport './extract'\nimport './parse'\nimport './possibilities'\n\n\n\nexport default Condition\n", "// For extracting references from interpolations.\n// @example\n// << name >> should be extracted as name\n// <<name>> should also be extracted as name\nconst PATTERN = /<<\\s*([^(<<)(>>)\\s]+)\\s*>>/\n// For extracting interpolations from strings.\n// @example\n// \"My name is << name >>, and I'm << age >>.\"\n// should be extracted as [\"<< name >>\", \"<< age >>\"]\nconst GREEDY_PATTERN = new RegExp(PATTERN, 'g')\n\n// For constructing interpolations & interpolation patterns.\n// @param {string} ref - The reference\n// @param {Object} [options]\n// @prop {boolean} options.raw - If true, return a interpolation string\n//                               instead of a regexp pattern.\n// @prop {string} options.flag - The regexp flag\nfunction makePattern(ref = '', options = {}) {\n  let { raw, flag, strict } = options\n  if (raw) { return `<< ${ref} >>` }\n  let pattern = `<<\\\\s*${ref}\\\\s*>>`\n  if (strict) { pattern = `^${pattern}$`}\n  return new RegExp(pattern, flag)\n}\n\n\n\nexport { PATTERN, GREEDY_PATTERN, makePattern, PATTERN as default }\n", "import { isnt } from '../../../base/type'\nimport PATTERN from './pattern'\n\n\n\nexport default function isInterpolationStatement(arg) {\n  if (isnt.string(arg)) { return false }\n  return !!arg.match(PATTERN)\n}\n", "import raise from '../../base/exception'\nimport isInterpolationStatement from './helpers/is-interpolation-statement'\n\n\n\nexport default class Interpolation {\n\n  static exceptions = {\n    INVALID_INTERPOLATION: 'INVALID_INTERPOLATION',\n  }\n\n  static isInterpolation(arg) {\n    return isInterpolationStatement(arg)\n  }\n\n  static isntInterpolation(arg) {\n    return !Interpolation.isInterpolation(arg)\n  }\n\n  static mustbeInterpolation(arg, msg = '') {\n    if (Interpolation.isInterpolation(arg)) { return }\n    raise({\n      type: Interpolation.exceptions.INVALID_INTERPOLATION,\n      message: msg || 'Invalid interpolation statement.',\n    })\n  }\n\n}\n", "import { GREEDY_PATTERN } from './pattern'\n\n\n\nexport default function extractInterpolations(statement = '') {\n  return statement.match(GREEDY_PATTERN)\n}\n", "import PATTERN from './pattern'\n\n\n\nexport default function extractReference(statement = '') {\n  let matched = statement.match(PATTERN)\n  return matched ? matched[1] : null\n}\n", "import { array } from '../../base/struct'\nimport Interpolation from './interpolation'\nimport extractInterpolations from './helpers/extract-interpolations'\nimport extractReference from './helpers/extract-reference'\n\n\n\nInterpolation.references = function(statement = '', options = {}) {\n  if (Interpolation.isntInterpolation(statement)) { return null }\n  let interpolations = extractInterpolations(statement) || []\n  let references = interpolations.map((i) => extractReference(i))\n  if (options.unique !== false) { references = array.unique(references) }\n  return references.length ? references : null\n}\n", "import { is } from '../../base/type'\nimport Interpolation from './interpolation'\nimport extractInterpolations from './helpers/extract-interpolations'\nimport { makePattern } from './helpers/pattern'\nimport './references'\n\n\n\nInterpolation.parse = function(statement = '', dict = {}) {\n  Interpolation.mustbeInterpolation(statement)\n  let interpolations = extractInterpolations(statement)\n  let references = Interpolation.references(statement, { unique: false })\n  let refValue = (ref) => is.function(dict) ? dict(ref) : dict[ref]\n  // If the statement only contains a single interpolation,\n  // return the reference value directly.\n  // This prevent the data type of the reference value being converted to string\n  if (interpolations.length === 1) {\n    let pattern = makePattern(references[0], { strict: true })\n    if (statement.match(pattern)) { return statement = refValue(references[0]) }\n  }\n  references.forEach((ref, index) => {\n    statement = statement.replace(interpolations[index], refValue(ref))\n  })\n  return statement\n}\n", "import Interpolation from './interpolation'\nimport { makePattern } from './helpers/pattern'\n\n\n\nInterpolation.replace = function(statement = '', pairs = {}) {\n  Interpolation.mustbeInterpolation(statement)\n  Object.keys(pairs).forEach((matcher) => {\n    let replacer = makePattern(pairs[matcher], { raw: true })\n    matcher = makePattern(matcher, { flag: 'g' })\n    statement = statement.replace(matcher, replacer)\n  })\n  return statement\n}\n", "import Interpolation from './interpolation'\nimport './parse'\nimport './references'\nimport './replace'\n\n\n\nexport default Interpolation\n", "import store from './helpers/store'\nimport Condition from './condition'\nimport Interpolation from './interpolation'\n\n\n\nexport default class Schema {\n\n  static Condition = Condition\n  static Interpolation = Interpolation\n\n  constructor(options = {}) {\n    store(this, options)\n  }\n\n  static create(...args) { return new Schema(...args) }\n\n}\n", "import { is } from '../base/type'\nimport { object } from '../base/struct'\nimport Schema from './schema'\nimport Condition from './condition'\nimport Interpolation from './interpolation'\nimport store from './helpers/store'\n\n\n\nfunction parseInterpolations(schema, parseReference) {\n  if (is.array(schema)) {\n    schema = schema.map((item) => {\n      return parseInterpolations(item, parseReference)\n    })\n  } else if (is.object(schema)) {\n    schema = object.from(Object.keys(schema).map((prop) => {\n      return [prop, parseInterpolations(schema[prop], parseReference)]\n    }))\n  } else if (Interpolation.isInterpolation(schema)) {\n    schema = Interpolation.parse(schema, parseReference)\n  }\n  return schema\n}\n\nfunction parseConditions(schema, parseExpression, _isConditionMember) {\n  if (is.array(schema)) {\n    let _isConditionArray = Condition.isConditionArray(schema)\n    schema = schema.map((item) => {\n      return parseConditions(item, parseExpression, _isConditionArray)\n    })\n  } else if (is.object(schema)) {\n    schema = object.from(Object.keys(schema).map((prop) => {\n      return [prop, parseConditions(schema[prop], parseExpression)]\n    }))\n  }\n  if (Condition.isConditionArray(schema)) {\n    schema = Condition.parse(schema, parseExpression)\n  } else if (Condition.isConditionObject(schema)) {\n    !_isConditionMember && (schema = Condition.parse(schema, parseExpression))\n  }\n  return schema\n}\n\n\n\nSchema.prototype.parse = function(schema) {\n  let { parseReference, parseExpression } = store(this)\n  schema = parseInterpolations(schema, parseReference)\n  schema = parseConditions(schema, parseExpression)\n  return schema\n}\n", "import { is } from '../base/type'\nimport { array } from '../base/struct'\nimport Schema from './schema'\nimport Condition from './condition'\n\n\n\nSchema.prototype.possibilities = function(schema) {\n  let collection = null\n  if (Condition.isCondition(schema)) {\n    collection = []\n    Condition.possibilities(schema).forEach((result) => {\n      if (!Condition.isCondition(result)) { return collection.push(result) }\n      collection = collection.concat(this.possibilities(result))\n    })\n  } else if (is.object(schema)) {\n    Object.keys(schema).forEach((prop) => {\n      let results = this.possibilities(schema[prop])\n      if (!results) { return }\n      collection = collection ? collection.concat(results) : results\n    })\n  } else if (is.array(schema)) {\n    schema.forEach((item) => {\n      let results = this.possibilities(item)\n      if (!results) { return }\n      collection = collection ? collection.concat(results) : results\n    })\n  }\n  if (!collection) { return collection }\n  return array.unique(collection)\n}\n", "import { is } from '../base/type'\nimport { array } from '../base/struct'\nimport Schema from './schema'\nimport Interpolation from './interpolation'\n\n\n\nSchema.prototype.references = function(schema, options = { }) {\n  let references = []\n  if (is.array(schema)) {\n    schema.forEach((item) => {\n      let refs = this.references(item, options)\n      refs && (references = references.concat(refs))\n    })\n  } else if (is.object(schema)) {\n    Object.keys(schema).forEach((prop) => {\n      let refs = this.references(schema[prop], options)\n      refs && (references = references.concat(refs))\n    })\n  } else if (Interpolation.isInterpolation(schema)) {\n    let refs = Interpolation.references(schema, options)\n    refs && (references = references.concat(refs))\n  }\n  if (options.unique !== false) { references = array.unique(references) }\n  return references.length ? references : null\n}\n", "import { is } from '../base/type'\nimport { object } from '../base/struct'\nimport Schema from './schema'\nimport Interpolation from './interpolation'\n\n\n\nSchema.prototype.replace = function(schema, pairs = {}) {\n  if (is.array(schema)) {\n    schema = schema.map((item) => {\n      return this.replace(item, pairs)\n    })\n  } else if (is.object(schema)) {\n    schema = object.from(Object.keys(schema).map((key) => {\n      return [key, this.replace(schema[key], pairs)]\n    }))\n  } else if (Interpolation.isInterpolation(schema)) {\n    schema = Interpolation.replace(schema, pairs)\n  }\n  return schema\n}\n", "import Schema from './schema'\nimport './parse'\nimport './possibilities'\nimport './references'\nimport './replace'\n\n\n\nexport default Schema\n", "export default function store(reactive = {}, options = {}) {\n  return reactive._reactive || (reactive._reactive = { ...options })\n}\n", "import guid from '../../base/guid'\n\n\n\nconst SCHEMA = {\n  prop: () => guid(),\n  default: null,\n  schemable: true,\n  calculable: true,\n  validation: null,\n  rawValidation: null,\n}\n\n\n\nexport default SCHEMA\n", "export default function store(i18n = {}, options = {}) {\n  return i18n._i18n || (i18n._i18n = { ...options })\n}\n", "import raise from '../base/exception'\nimport store from './helpers/store'\n\n\n\nclass I18n {\n\n  static exceptions = {\n    NOT_AN_INSTANCE: 'I18N_NOT_AN_INSTANCE_OF_I18N',\n    UNSUPPORTED_LOCALE: 'I18N_UNSUPPORTED_LOCALE',\n  }\n\n  constructor() {\n    store(this, { locales: {}, locale: 'en' })\n  }\n\n  static create(...args) { return new I18n(...args) }\n\n  static isI18n(arg) { return arg instanceof I18n }\n\n  static isntI18n(arg) { return !I18n.isI18n(arg) }\n\n  static mustbeI18n(arg, msg) {\n    I18n.isntI18n(arg) && raise({\n      type: I18n.exceptions.NOT_AN_INSTANCE,\n      message: msg || 'Invalid i18n instance.',\n    })\n  }\n\n}\n\n\n\nexport { I18n, I18n as default }\n", "const SPLITOR = '.'\n\n\n\nfunction splitPath(path = '') {\n  return path.split(SPLITOR).map((p) => p.trim()).filter((p) => p.length)\n}\n\nfunction joinPath(paths = []) {\n  return paths.map((p) => p.trim()).filter((p) => p.length).join(SPLITOR)\n}\n\n\n\nexport { splitPath, joinPath }\n", "import { is, isnt, mustbe } from '../base/type'\nimport { object } from '../base/struct'\nimport I18n from './i18n'\nimport store from './helpers/store'\nimport { splitPath, joinPath } from './helpers/path'\n\n\n\nI18n.prototype.define = function(path = '', template = '') {\n  let locales = store(this).locales\n  if (!arguments.length) { return JSON.parse(JSON.stringify(locales)) }\n  if (isnt.object(path)) { return setTemplate(locales, path, template) }\n  Object.keys(path).forEach((p) => {\n    if (isnt.object(path[p])) { return setTemplate(locales, p, path[p]) }\n    let pairs = Object.keys(path[p]).map((k) => [joinPath([p, k]), path[p][k]])\n    this.define(object.from(pairs))\n  })\n}\n\n\n\nfunction setTemplate(locales = {}, path = '', template = '') {\n  mustbe.nonblankString(path, 'I18n locale path')\n  mustbe.string(template, 'I18n locale template')\n  let [key, keys] = ['', splitPath(path)]\n  while (key = keys.shift()) {\n    if (!(key in locales)) {\n      locales[key] = keys.length ? {} : template\n    } else {\n      let tpl = locales[key]\n      if (keys.length) {\n        is.string(tpl) && (locales[key] = { _: tpl })\n      } else {\n        is.string(tpl) ? locales[key] = template : locales[key]._ = template\n      }\n    }\n    locales = locales[key]\n  }\n}\n", "// import raise from '../base/exception'\nimport I18n from './i18n'\nimport store from './helpers/store'\n\n\n\nI18n.prototype.locale = function(locale) {\n  // let { locales } = store(this)\n  if (!locale) { return store(this).locale }\n  // !(locale in Object.keys(locales)) && raise({\n  //   type: I18n.exceptions.UNSUPPORTED_LOCALE,\n  //   message: `${locale} is not an supported locale.`,\n  // })\n  store(this).locale = locale\n}\n", "import { is } from '../../base/type'\n\n\n\nfunction replaceVariable(str = '', matcher = '', replacer = '') {\n  let pattern = new RegExp(`{\\\\s*${matcher}\\\\s*}`, 'g')\n  if (is.string(replacer)) { return str.replace(pattern, replacer) }\n  try {\n    replacer = JSON.stringify(replacer)\n  } catch (e) {\n    replacer = String(replacer)\n  }\n  return str.replace(pattern, replacer)\n}\n\n\n\nexport { replaceVariable }\n", "import { is, mustbe } from '../base/type'\nimport I18n from './i18n'\nimport store from './helpers/store'\nimport { splitPath } from './helpers/path'\nimport { replaceVariable } from './helpers/variable'\n\n\n\nI18n.prototype.translate = function(path = '', options = {}) {\n  let defaultTpl = 'default' in options ? options.default : ''\n  let variables = 'variables' in options ? options.variables : null\n  mustbe.string(defaultTpl, 'Default i18n template')\n  variables && mustbe.object(variables, 'I18n variables')\n  let [keys, locales] = [splitPath(path), store(this).locales]\n  let template = findTemplate(locales, [store(this).locale].concat(keys))\n  if (is.null(template)) { template = defaultTpl }\n  if (!template) { return template }\n  if (!variables) { return template }\n  return parseTemplate(template, variables)\n}\nI18n.prototype.t = I18n.prototype.translate\n\n\n\nfunction findTemplate(locales = {}, keys = '') {\n  let template = ''\n  let isDefined = keys.every((key, index) => {\n    if (!(key in locales)) { return false }\n    locales = locales[key]\n    if (index !== keys.length - 1) { return true }\n    template = is.string(locales) ? locales : locales._\n    return true\n  })\n  return isDefined ? template : null\n}\n\nfunction parseTemplate(template = '', variables = {}) {\n  Object.keys(variables).forEach((variable) => {\n    template = replaceVariable(template, variable, variables[variable])\n  })\n  return template\n}\n", "import I18n from './i18n'\nimport './translate'\n\n\n\nI18n.prototype.try = function(paths = [], options = {}) {\n  let result = ''\n  paths.some((p) => {\n    result = this.translate(p, options)\n    if (result) { return true }\n  })\n  return result\n}\n", "import I18n from './i18n'\nimport './define'\nimport './locale'\nimport './translate'\nimport './try'\n\n\n\nlet i18n = I18n.global = I18n.create()\n\n\n\nexport { i18n, I18n, I18n as default }\n", "export default {\n  memberIsReferenced: \"Referenced members cannot be deleted.\",\n  conflictedMemberName: 'Member name { name } has been occupied.',\n  memberNameRequired: 'Member name cannot be blank.',\n  mustBelongsToValidParent: '{ memberType } members can only be inserted into { acceptedParentTypes } parents.',\n  referenceNotFound: 'Cannot find reference { reference } among members.',\n  conditionNotComplete: 'Condition must contain at lease one case.',\n  conditionBranchNotComplete: 'Condition branch must contain at least one rule.',\n  conditionReferenceNotPresence: 'Condition reference cannot be blank.',\n  conditionLogicNotSupported: 'Lack of valid and/or keyword.',\n  conditionValidationNotSupported: 'Unsupported validation { label }.',\n  conditionValidationRuleNotSupported: 'Validation rule { rule } is not supported by { label }.',\n}\n", "export default {\n  memberIsReferenced: \"\u65E0\u6CD5\u5220\u9664\u88AB\u5F15\u7528\u7684\u6210\u5458\u3002\",\n  conflictedMemberName: '\u6210\u5458\u540D\u79F0{ name }\u5DF2\u88AB\u5360\u7528\u3002',\n  memberNameRequired: '\u6210\u5458\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A\u3002',\n  mustBelongsToValidParent: '{ memberType }\u7C7B\u578B\u6210\u5458\u53EA\u80FD\u4F5C\u4E3A{ acceptedParentTypes }\u7C7B\u578B\u5B50\u7EA7\u3002',\n  referenceNotFound: '\u6210\u5458\u4E2D\u4E0D\u5B58\u5728\u5F15\u7528\u8DEF\u5F84{ reference }',\n  conditionNotComplete: '\u6761\u4EF6\u5206\u652F\u81F3\u5C11\u8981\u5305\u542B\u4E00\u79CD\u60C5\u51B5\u3002',\n  conditionBranchNotComplete: '\u6761\u4EF6\u5206\u652F\u5185\u81F3\u5C11\u8981\u5305\u542B\u4E00\u4E2A\u89C4\u5219\u3002',\n  conditionReferenceNotPresence: '\u6761\u4EF6\u4F9D\u8D56\u4E0D\u80FD\u4E3A\u7A7A\u3002',\n  conditionLogicNotSupported: '\u7F3A\u5C11\u5408\u6CD5\u7684\u4E0E\u6216\u5173\u952E\u5B57\u3002',\n  conditionValidationNotSupported: '\u4E0D\u88AB\u652F\u6301\u7684\u6821\u9A8C{ label }\u3002',\n  conditionValidationRuleNotSupported: '\u4E0D\u88AB{ label }\u652F\u6301\u7684\u6821\u9A8C\u89C4\u5219{ rule }\u3002',\n}\n", "import { i18n } from '../../i18n'\nimport EN from './en'\nimport ZH from './zh'\n\n\n\ni18n.define({\n  en: { reactive: EN },\n  zh: { reactive: ZH },\n})\n\n\n\nexport default i18n\n", "import i18n from '../locales'\nimport raise from '../../base/exception'\nimport { is } from '../../base/type'\n\n\n\nconst SPLITOR = '.'\nconst UNSCHEMABLE_PROPS = ['children', 'order', 'type', 'name']\nconst REFERENCE_GROUP = '__REACTIVE_SCEHMA_REFERENCE__'\n\n\n\nfunction splitReference(ref = '') {\n  let refs = ref.split(SPLITOR)\n  let prop = refs.pop()\n  return { names: refs, prop }\n}\n\nfunction joinReference(names = [], prop = '') {\n  return (prop ? names.concat(prop) : names).join(SPLITOR)\n}\n\nfunction parseReference(reactive, value, relier) {\n  let [references, pairs] = [reactive.schema.references(value), {}]\n  if (!references) { return value }\n  references.forEach((reference) => {\n    let provider = reactive.schema.reference.parse(reference, { relier })\n    let isValid = is.object(provider)\n    isValid && (isValid = is.nonblankString(provider.id))\n    isValid && (isValid = is.nonblankString(provider.prop))\n    if (isValid) { return pairs[reference] = JSON.stringify(provider) }\n    raise({\n      type: reactive.exceptions.REFERENCED_PROVIDER_NOT_FOUND,\n      message: i18n.t('reactive.referenceNotFound', {\n        variables: { reference },\n      }),\n    })\n  })\n  return reactive.schema.replace(value, pairs)\n}\n\nfunction stringifyReference(reactive, value, relier) {\n  let [providers, pairs] = [reactive.schema.references(value), {}]\n  if (!providers) { return value }\n  providers.forEach((provider) => {\n    let parsed = null\n    try { parsed = JSON.parse(provider) } catch(error) { return }\n    let reference = reactive.schema.reference.stringify(parsed, { relier })\n    let isValid = is.nonblankString(reference)\n    if (isValid) { return pairs[provider] = reference }\n    raise({\n      type: reactive.exceptions.REFERENCED_PROVIDER_NOT_FOUND,\n      message: i18n.t('reactive.referenceNotFound', {\n        variables: { reference: provider },\n      }),\n    })\n  })\n  return reactive.schema.replace(value, pairs)\n}\n\n\n\nexport {\n  splitReference, joinReference,\n  parseReference, stringifyReference,\n  SPLITOR, UNSCHEMABLE_PROPS, REFERENCE_GROUP,\n}\n", "import { isnt } from '../../base/type'\nimport store from '../helpers/store'\nimport DEFAULT_FALLBACK from '../helpers/schema-fallback'\nimport { UNSCHEMABLE_PROPS } from '../helpers/schema-reference'\n\n\n\nfunction decorateSchema(schema = {}, fallback = {}) {\n  return { ...DEFAULT_FALLBACK, ...fallback, ...schema }\n}\n\nfunction generateSchema(schema = {}) {\n  Object.keys(schema).forEach((key) => {\n    if (isnt.function(schema[key])) { return }\n    schema[key] = schema[key]()\n  })\n  return schema\n}\n\n\n\nexport default function forFn(member = {}) {\n  let { id, prop } = member\n  let type = this.get({ id, prop: 'type' })\n  let { props, fallback } = store(this).installed[type].config.schema\n  if (!prop) {\n    return props.map((item) => {\n      let schema = generateSchema(decorateSchema(item, fallback))\n      if (UNSCHEMABLE_PROPS.includes(schema.prop)) {\n        schema.schemable = schema.calculable = false\n      }\n      return schema\n    })\n  }\n  let found = props.find((item) => item.prop === prop)\n  let schema = generateSchema(decorateSchema(found || fallback, fallback))\n  schema.prop = prop\n  if (UNSCHEMABLE_PROPS.includes(prop)) {\n    schema.schemable = schema.calculable = false\n  }\n  return schema\n}\n", "import store from '../../helpers/store'\nimport { splitReference, joinReference } from '../../helpers/schema-reference'\n\n\n\nexport default function parse(reference = '', options = {}) {\n  reference = (this.schema.references(reference) || [])[0] || reference\n  let target = reference\n  let { names, prop } = splitReference(reference)\n  let under = options.under || this.family.root()\n  let relier = options.relier || null\n  let [name, id] = [null, under.id]\n  if (!names.length || this.family.hasnt({ id })) { return null }\n  while (name = names.shift()) {\n    id = this.family.descendant({ id })?.find((chd) => {\n      return this.get({ id: chd.id, prop: 'name' }) === name\n    })?.id\n    if (!id) { return null }\n    let type = this.get({ id, prop: 'type' })\n    let customConfig = store(this).installed[type].config\n    let customParse = customConfig.schema.reference.parse\n    if (customParse) {\n      reference = joinReference(names, prop)\n      return customParse.call(\n        this,\n        { id, downPath: reference, target },\n        relier ? { id: relier.id || '', prop: relier.prop || '' } : null,\n      )\n    }\n  }\n  return { id, prop }\n}\n", "import store from '../../helpers/store'\nimport { joinReference } from '../../helpers/schema-reference'\n\n\n\nexport default function stringify(member = {}, options = {}) {\n  let { id, prop } = member\n  let target = { id, prop }\n  let under = options.under || this.family.root()\n  let relier = options.relier || null\n  let format = (() => {\n    if (options.format !== 'interpolation') { return (str) => str }\n    return (str) => str ? `<< ${str} >>` : str // [TODO] Use Constant for <<>>\n  })()\n  if (this.family.hasnt({ id })) { return '' }\n  let ancestors = this.family.ancestor({ id }, { deep: true, self: true })\n  let [underIndex, names] = [ancestors.findIndex((a) => a.id === under.id), []]\n  if (underIndex < 0) { return '' }\n  ancestors = ancestors.slice(0, underIndex)\n  if (!ancestors.length) { return '' }\n  let ancestor = null\n  while (ancestor = ancestors.pop()) {\n    names.push(this.get({ id: ancestor.id, prop: 'name' }))\n    let type = this.get({ id: ancestor.id, prop: 'type' })\n    let customConfig = store(this).installed[type].config\n    let customStringify = customConfig.schema.reference.stringify\n    if (customStringify) {\n      let reference = joinReference(names)\n      let str = customStringify.call(\n        this,\n        { id: ancestor.id, upPath: reference, downPath: prop, target },\n        relier ? { id: relier.id || '', prop: relier.prop || '' } : null,\n      )\n      return format(str)\n    }\n  }\n  return format(joinReference(names, prop))\n}\n", "import Schema from '../../schema'\nimport forFn from './for'\nimport parse from './reference/parse'\nimport stringify from './reference/stringify'\n\n\n\nexport default function createSchema(reactive) {\n  let schema = Schema.create({\n    parseReference(provider) {\n      return reactive.get(JSON.parse(provider))\n    },\n    parseExpression(expression = {}) {\n      reactive.validator.mustbeSupported(expression)\n      return !reactive.validator.error(expression)\n    },\n  })\n  schema.for = forFn.bind(reactive)\n  schema.reference = {\n    parse: parse.bind(reactive),\n    stringify: stringify.bind(reactive),\n  }\n  return schema\n}\n", "export default {\n  validators: {\n    dataType: {\n      label: 'Data Type',\n      invalidValue: 'Must be a data type within { rule }.',\n    },\n    equalTo: {\n      label: 'Equal To',\n      invalidRule: 'Rule of \"Equal To\" validator Cannot be blank.',\n      invalidValue: 'Must be equal to { rule }.',\n    },\n    isInteger: {\n      label: 'Is Integer',\n      invalidValue: '{ value } is not an integer.',\n    },\n    maxLength: {\n      label: 'Max Length',\n      invalidRule: 'Rule of \"Max Length\" validator must be a positive integer.',\n      invalidValue: 'Maximum length is { rule }.',\n    },\n    presence: {\n      label: 'Presence',\n      invalidValue: \"Musn't be blank.\",\n    },\n    withFormat: {\n      label: 'With Format',\n      invalidRule: 'Rule of \"With Format\" validator must be a regexp or a string wrapped with \"/\".',\n      invalidValue: 'Must match format { rule }.',\n    }\n  }\n}\n", "export default {\n  validators: {\n    dataType: {\n      label: '\u6570\u636E\u7C7B\u578B',\n      invalidValue: '\u6570\u636E\u7C7B\u578B\u5FC5\u987B\u662F{ rule }\u3002',\n    },\n    equalTo: {\n      label: '\u7B49\u4E8E',\n      invalidRule: '\u7B49\u4E8E\u7684\u6821\u9A8C\u89C4\u5219\u4E0D\u80FD\u4E3A\u7A7A\u3002',\n      invalidValue: '\u5FC5\u987B\u7B49\u4E8E{ rule }\u3002',\n    },\n    isInteger: {\n      label: '\u662F\u6574\u6570',\n      invalidValue: '{ value }\u4E0D\u662F\u4E00\u4E2A\u6574\u6570\u3002',\n    },\n    maxLength: {\n      label: '\u6700\u5927\u957F\u5EA6',\n      invalidRule: '\u6700\u5927\u957F\u5EA6\u7684\u6821\u9A8C\u89C4\u5219\u5FC5\u987B\u662F\u4E00\u4E2A\u6B63\u6574\u6570\u3002',\n      invalidValue: '\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7{ rule }\u3002',\n    },\n    presence: {\n      label: '\u4E0D\u4E3A\u7A7A',\n      invalidValue: '\u4E0D\u80FD\u4E3A\u7A7A\u3002',\n    },\n    withFormat: {\n      label: '\u7B26\u5408\u683C\u5F0F',\n      invalidRule: '\u683C\u5F0F\u6821\u9A8C\u7684\u89C4\u5219\u5FC5\u987B\u662F\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u6216\u88AB\u201C/\u201D\u5305\u62EC\u7684\u5B57\u7B26\u4E32\u3002',\n      invalidValue: '\u5FC5\u987B\u7B26\u5408\u683C\u5F0F{ rule }\u3002',\n    }\n  }\n}\n", "import { i18n } from '../../i18n'\nimport EN from './en'\nimport ZH from './zh'\n\n\n\ni18n.define({\n  en: { validator: EN },\n  zh: { validator: ZH },\n})\n\n\n\nexport default i18n\n", "import i18n from '../locales'\nimport { type } from '../../base/type'\n\n\n\nexport default {\n  name: 'dataType',\n  ruleType: ['String', 'Array'],\n  valueType: '*',\n  validate (value, rule) {\n    if (!type.within({ type: type.get(value), types: rule })) {\n      return i18n.t('validator.validators.dataType.invalidValue', {\n        variables: { value, rule },\n      })\n    }\n  },\n}\n", "import i18n from '../locales'\nimport { is, isnt } from '../../base/type'\n\n\n\nfunction equal(a, b) {\n  if (a === b) return true\n  if (typeof a != 'object' || typeof b != 'object') { return false }\n  if (a == null || b == null) { return false }\n  let [aKeys, bKeys] = [Object.keys(a), Object.keys(b)]\n  if (aKeys.length !== bKeys.length) { return false }\n  for (let key of aKeys) {\n    if (!bKeys.includes(key)) return false\n    if (!equal(a[key], b[key])) return false\n  }\n  return true\n}\n\n\n\nexport default {\n  name: 'equalTo',\n  ruleType: '*',\n  valueType: '*',\n  validateRule(rule) {\n    if (is.blank(rule)) {\n      return i18n.t('validator.validators.equalTo.invalidRule')\n    }\n  },\n  validate (value, rule) {\n    if (!equal(value, rule)) {\n      return i18n.t('validator.validators.equalTo.invalidValue', {\n        variables: { value, rule },\n      })\n    }\n  },\n}\n", "import i18n from '../locales'\nimport { is } from '../../base/type'\n\n\n\nexport default {\n  name: 'isInteger',\n  valueType: 'Number',\n  validate (value) {\n    if (!is.integer(value)) {\n      return i18n.t('validator.validators.isInteger.invalidValue', {\n        variables: { value },\n      })\n    }\n  },\n}\n", "import i18n from '../locales'\nimport { is } from '../../base/type'\n\n\n\nexport default {\n  name: 'maxLength',\n  ruleType: 'Number',\n  valueType: ['String', 'Array'],\n  validateRule (rule) {\n    if (!is.positiveInteger(rule)) {\n      return i18n.t('validator.validators.maxLength.invalidRule')\n    }\n  },\n  validate (value, rule) {\n    if (value.length > rule) {\n      return i18n.t('validator.validators.maxLength.invalidValue', {\n        variables: { value, rule },\n      })\n    }\n  },\n}\n", "import i18n from '../locales'\nimport { is } from '../../base/type'\n\n\n\nexport default {\n  name: 'presence',\n  valueType: '*',\n  validate (value) {\n    if (is.blank(value)) {\n      return i18n.t('validator.validators.presence.invalidValue', {\n        variables: { value },\n      })\n    }\n  },\n}\n", "import { is } from '../../base/type'\nimport i18n from '../locales'\n\n\n\nconst PATTERN = /^\\/(.+)\\/$/\n\n\n\nexport default {\n  name: 'withFormat',\n  ruleType: ['RegExp', 'String'],\n  valueType: 'String',\n  validateRule(rule) {\n    if (is.regexp(rule)) { return }\n    if (is.string(rule) && rule.match(PATTERN)) { return }\n    return i18n.t('validator.validators.withFormat.invalidRule', {\n      variables: { rule },\n    })\n  },\n  validate (value, rule) {\n    if (is.string(rule)) { rule = new RegExp(rule.match(PATTERN)[1]) }\n    if (!value.match(rule)) {\n      return i18n.t('validator.validators.withFormat.invalidValue', {\n        variables: { value, rule: String(rule) },\n      })\n    }\n  }\n}\n", "import DataType from './data-type'\nimport EqualTo from './equal-to'\nimport IsInteger from './is-integer'\nimport MaxLength from './max-length'\nimport Presence from './presence'\nimport WithFormat from './with-format'\n\n\n\nexport default [\n  Presence,\n  DataType,\n  IsInteger,\n  WithFormat,\n  EqualTo,\n  MaxLength,\n]\n", "export default function(validator = {}, options = {}) {\n  return validator._validator || (validator._validator = { ...options })\n}\n", "import VALIDATORS from './validators'\nimport store from './helpers/store'\n\n\n\nclass Validator {\n\n  static exceptions = {\n    CONFLICTED_NAME: 'VALIDATOR_CONFLICTED_NAME',\n    VALIDATION_FAILED: 'VALIDATOR_VALIDATION_FAILED',\n    UNSUPPORTED_VALIDATION: 'VALIDATOR_UNSUPPORTED_VALIDATION',\n    UNSUPPORTED_VALIDATION_RULE: 'VALIDATOR_UNSUPPORTED_VALIDATION_RULE',\n    /* eslint max-len: \"off\" */\n    UNSUPPORTED_VALIDATION_RULE_TYPE: 'VALIDATOR_UNSUPPORTED_VALIDATION_RULE_TYPE',\n  }\n\n  constructor() {\n    store(this, { installed: {} })\n    VALIDATORS.forEach((V) => this.install(V))\n  }\n\n  static create(...args) { return new Validator(...args) }\n\n}\n\n\n\nexport { Validator, Validator as default }\n", "const VALUE_KEYWORD = 'valOf'\n\n\n\nexport default function combineValidation(options = {}) {\n  let validation = {}\n  if ('value' in options) { validation[VALUE_KEYWORD] = options.value }\n  if (!options.name) { return validation }\n  validation[options.name] = undefined\n  if ('rule' in options) { validation[options.name] = options.rule }\n  return validation\n}\n", "import Validator from './validator'\nimport store from './helpers/store'\nimport combineValidation from './helpers/combine-validation'\n\n\n\nValidator.prototype.combineValidation = function(extracted = {}) {\n  let { installed } = store(this)\n  if (!(extracted.name in installed)) { return combineValidation(extracted) }\n  return combineValidation({\n    ...extracted,\n    rule: installed[extracted.name].ruleType ? extracted.rule : true,\n  })\n}\n", "import { object } from '../../base/struct'\nconst VALUE_KEYWORD = 'valOf'\n\n\n\nexport default function extractValidation(validation = {}) {\n  let value = validation[VALUE_KEYWORD]\n  validation = object.exclude(validation, [VALUE_KEYWORD])\n  let name = Object.keys(validation)[0]\n  let rule = validation[name]\n  return { name, rule, value }\n}\n", "import { mustbe, type } from '../base/type'\nimport raise from '../base/exception'\nimport Validator from './validator'\nimport store from './helpers/store'\nimport extractValidation from './helpers/extract-validation'\n\n\n\nValidator.prototype.mustbeSupported = function(validation = {}, options = {}) {\n  mustbe.object(validation, 'Validation struct')\n  let strict = 'strict' in options ? options.strict : true\n  let { name, rule } = extractValidation(validation)\n  let { installed } = store(this)\n  let validator = installed[name]\n  !validator && raise({\n    type: Validator.exceptions.UNSUPPORTED_VALIDATION,\n    message: `Unsupported validator \"${name}\"`,\n  })\n  if (!strict || !validator.ruleType) { return }\n  try {\n    type.mustWithin({ type: type.get(rule), types: validator.ruleType })\n  } catch (e) {\n    raise({\n      type: Validator.exceptions.UNSUPPORTED_VALIDATION_RULE_TYPE,\n      message: e.message || 'Unsupported validation rule data type.',\n    })\n  }\n  if (!validator.validateRule) { return }\n  try {\n    let error = validator.validateRule(rule)\n    if (error) { throw new Error(error) }\n  } catch (e) {\n    raise({\n      type: Validator.exceptions.UNSUPPORTED_VALIDATION_RULE,\n      message: e.message || 'Unsupported validation rule.',\n    })\n  }\n}\n", "import { is, type } from '../base/type'\nimport { Exception } from '../base/exception'\nimport Validator from './validator'\nimport store from './helpers/store'\nimport extractValidation from './helpers/extract-validation'\nimport './mustbe-supported'\n\n\n\nValidator.prototype.error = function(validation = {}, val) {\n  let error = null\n  try { this.mustbeSupported(validation) } catch(e) { error = e }\n  if (!error) {\n    let { installed } = store(this)\n    let { name, rule, value } = extractValidation(validation)\n    arguments.length > 1 && (value = val)\n    let validator = installed[name]\n    let [valueType, validValueType] = [type.get(value), validator.valueType]\n    try {\n      type.mustWithin({ type: valueType, types: validValueType })\n    } catch (e) { error = e }\n    if (!error) { error = validator.validate(value, rule) }\n  }\n  return !error ? null : Exception.create({\n    type: Validator.exceptions.VALIDATION_FAILED,\n    message: (() => {\n      let defaultMessage = 'Not valid.'\n      if (is.string(error)) { return error }\n      if (error instanceof Error) { return error.message || defaultMessage }\n      return defaultMessage\n    })(),\n  })\n}\n", "import Validator from './validator'\nimport store from './helpers/store'\nimport extractValidation from './helpers/extract-validation'\n\n\n\nValidator.prototype.extractValidation = function(validation = {}) {\n  let { installed } = store(this)\n  let extracted = extractValidation(validation)\n  if (!(extracted.name in installed)) { return extracted }\n  if (!installed[extracted.name].ruleType) { extracted.rule = true }\n  return extracted\n}\n", "import { isnt, type } from '../base/type'\nimport Validator from './validator'\nimport store from './helpers/store'\n\n\n\nValidator.prototype.for = function(valType = '*', options = {}) {\n  let [collection, installed] = [[], store(this).installed]\n  let except = 'except' in options ? options.except : []\n  isnt.array(except) && (except = [except])\n  Object.values(installed).forEach((validator) => {\n    if (except.includes(validator.name)) { return }\n    if (!type.within({ type: valType, types: validator.valueType })) { return }\n    collection.push({ ...validator })\n  })\n  return collection.length ? collection : null\n}\n", "import Validator from './validator'\nimport store from './helpers/store'\n\n\n\nValidator.prototype.get = function(name = '') {\n  let installed = store(this).installed\n  return name in installed ? { ...installed[name] } : null\n}\n", "// @validator props\n\n// @prop {string} name - The unique validator name.\n\n// @prop {Function} validate - The validation function.\n// 1. It's called with two arguments, the `data` to be validated\n//    and the custom validation `rule`.\n// 2. If the return value is a non-blank string, the string will be treated as\n//    the error message of the `data`.\n\n// @prop {Function} [validateRule] - The validation function for custom rules.\n// 1. It's called with the custom validation `rule` as the only argument.\n// 2. If the return value is a non-blank string, the string will be treated as\n//    the error message of the `rule`.\n\n// @prop {string | Array} valueType - What type of data this validator supports.\n// 1. It can be declared as a specific type, like 'Number', 'String', etc,\n//    or multiple types in an array. The `validate` function won't be called\n//    if the `data` to be validated doesn't match the declared type.\n// 2. It means the validator supports any data type if declared as '*'.\n//    Under this situation, the executation of the `validate` function\n//    is not affected by the type of the `data`.\n\n// @prop {string | Array} [ruleType]- What type of rules this validator supports\n// 1. It can be declared as a specific type, like 'Number', 'String', etc, or\n//    multiple types in an array. The `validateRule` and `validate` function\n//    won't be called if the `rule` to be validated not match the declared type.\n// 2. It means the validator supports any rule type if declared as '*'.\n//    Under this situation, the executation of the `validateRule` and `validate`\n//    function is not affected by the type of the `rule`.\n// 3. It means the validator doesn't support any rule type if not declared.\n//    Under this situation, the `rule` and `valdiateRule` function are ignored.\n// 4. If the `ruleType` is defined, the `validate` function won't be executed\n//    for any validation whose `rule` is `undefined`, `null`, `NaN`,\n//    any blank string, blank array nor blank object.\n\n\n\nimport { mustbe } from '../base/type'\nimport raise from '../base/exception'\nimport Validator from './validator'\nimport store from './helpers/store'\n\n\n\nValidator.prototype.install = function(installer = {}) {\n  mustbe.object(installer, 'Validator installer')\n  let { name, valueType, ruleType, validate, validateRule } = installer\n  mustbe.nonblankString(name, 'Validator installer \"name\"')\n  mustbe.type(valueType, 'Validator installer \"valueType\"')\n  mustbe.function(validate, 'Validator installer \"validate\"')\n  ruleType && mustbe.type(ruleType, 'Validator installer \"ruleType\"')\n  validateRule && mustbe.function(validateRule, 'Validator \"validateRule\"')\n  let { installed } = store(this)\n  name in installed && raise({\n    type: Validator.exceptions.CONFLICTED_NAME,\n    message: `Validator name ${name} has been occupied.`,\n  })\n  installed[name] = {\n    ...installer,\n    name, valueType, ruleType, validate, validateRule,\n  }\n}\n", "import Validator from './validator'\nimport './mustbe-supported'\n\n\n\nValidator.prototype.isSupported = function(...args) {\n  try { this.mustbeSupported(...args) } catch (e) { return false }\n  return true\n}\n", "import Validator from './validator'\nimport './error'\n\n\n\nValidator.prototype.isValid = function(...args) {\n  return !this.error(...args)\n}\n", "import Validator from './validator'\nimport './is-supported'\n\n\n\nValidator.prototype.isntSupported = function(...args) {\n  return !this.isSupported(...args)\n}\n", "import Validator from './validator'\nimport './is-valid'\n\n\n\nValidator.prototype.isntValid = function(...args) {\n  return !this.isValid(...args)\n}\n", "import Validator from './validator'\nimport store from './helpers/store'\n\n\n\nValidator.prototype.uninstall = function(name = '') {\n  let { installed } = store(this)\n  if (name in installed) { delete installed[name] }\n}\n", "import Validator from '../../validator'\n\n\n\nexport default function createValidator(reactive) {\n  return Validator.create()\n}\n", "import Calculator from '../../calculator'\n\n\n\nexport default function createCalculator(reactive) {\n  return Calculator.create()\n}\n", "import raise from '../../base/exception'\nimport store from './store'\n\n\n\nexport default function mustbeInstalledType(reactive, type) {\n  !(type in store(reactive).installed) && raise({\n    type: reactive.exceptions.UNINSTALLED_MEMBER_TYPE,\n    message: `Member type ${type} is not installed.`,\n  })\n}\n", "import { isnt } from '../../base/type'\nimport mustbeInstalledType from '../helpers/mustbe-installed-type'\n\n\n\nfunction decorateHook(reactive, item = {}, namespace) {\n  let { hook, handler } = item\n  isnt.array(hook) && (hook = [hook])\n  isnt.array(handler) && (handler = [handler])\n  handler = handler.map((h) => h.bind(reactive))\n  if (!namespace) { return { hook, handler } }\n  handler = handler.map((fn) => (member, ...args) => {\n    let memberType = reactive.get({ id: member.id, prop: 'type' })\n    memberType || (memberType = (member.props || {}).type || 'default')\n    mustbeInstalledType(reactive, memberType)\n    if (memberType === namespace) { return fn(member, ...args) }\n  })\n  return { hook, handler }\n}\n\n\n\nexport default function mount(hooks, options = {}) {\n  if (!hooks) { return }\n  let namespace = options.only\n  isnt.array(hooks) && (hooks = [hooks])\n  hooks.forEach((item) => {\n    let { hook, handler } = decorateHook(this, item, namespace)\n    hook.forEach((type) => handler.forEach((fn) => this.hooks.add(type, fn)))\n  })\n}\n", "import mount from './mount'\n\n\n\nexport default function decorateReactive(reactive) {\n  reactive.hooks.mount = mount.bind(reactive)\n  return reactive.hooks\n}\n", "import {\n  UNSCHEMABLE_PROPS,\n  stringifyReference,\n} from './helpers/schema-reference'\n\n\n\nexport default function decorate(reactive) {\n  let originalGet = reactive.get\n  return reactive.get = function(member = {}, options = {}) {\n    let { id, prop } = member\n    let result = originalGet.call(reactive, member, options)\n    if (!result || !result.raw) { return result }\n    if ('prop' in member) {\n      let value = result.raw.value\n      result.raw.value = stringifyPropRefs(reactive, id, prop, value)\n    } else {\n      Object.keys(result.raw.values).forEach((prop) => {\n        let value = result.raw.values[prop]\n        result.raw.values[prop] = stringifyPropRefs(reactive, id, prop, value)\n      })\n    }\n    return result\n  }\n}\n\n\n\nfunction stringifyPropRefs(reactive, id, prop, value) {\n  if (UNSCHEMABLE_PROPS.includes(prop)) { return value }\n  if (!reactive.schema.for({ id, prop }).schemable) { return value }\n  return stringifyReference(reactive, value, { id, prop })\n}\n", "import raise from '../base/exception'\nimport { mustbe, is } from '../base/type'\nimport store from './helpers/store'\n\n\n\nexport default function(installer = {}) {\n  let { installed } = store(this)\n  let type = installer.type\n  let collect = is.function(installer.collect) ? installer.collect : null\n  let seed = is.function(installer.seed) ? installer.seed : null\n  let hooks = 'hooks' in installer ? installer.hooks : []\n  let schema = 'schema' in installer ? installer.schema : {}\n  let props = 'props' in schema ? schema.props : []\n  let fallback = 'fallback' in schema ? schema.fallback : {}\n  let reference = 'reference' in schema ? schema.reference : {}\n  let parse = 'parse' in reference ? reference.parse : null\n  let stringify = 'stringify' in reference ? reference.stringify : null\n  mustbe.nonblankString(type, 'Reactive Member \"type\"')\n  seed && mustbe.function(seed, 'Reactive Member \"seed\"')\n  collect && mustbe.function(collect, 'Reactive Member \"collect\"')\n  parse && mustbe.function(parse, 'Reactive Member \"schema.reference.parse\"')\n  stringify && mustbe.function(stringify, 'Member \"schema.reference.stringify\"')\n  mustbe.array(props, 'Reactive Member \"schema.props\"')\n  mustbe.object(fallback, 'Reactive Member \"schema.fallback\"')\n  mustbe.array(hooks, 'Reactive Member \"hooks\"')\n  props.forEach((item) => mustbe.object(item, 'Reactive Member prop schema'))\n  hooks = hooks.flat(Infinity)\n  hooks.forEach((item) => {\n    let { hook, handler, scope } = item\n    scope && mustbe.nonblankString(scope, 'Reactive Member hook \"scope\"')\n    hook = is.array(hook) ? hook : [hook]\n    handler = is.array(handler) ? handler : [handler]\n    hook.forEach((h) => mustbe.nonblankString(h, 'Reactive Member hook \"type\"'))\n    handler.forEach((h) => mustbe.function(h, 'Reactive Member hook \"handler\"'))\n  })\n  type in installed && raise({\n    type: this.exceptions.CONFLICTED_MEMBER_TYPE,\n    message: `Reactive Member type '${type}' has been occupied.`,\n  })\n  installed[type] = {\n    config: {\n      type, hooks, collect, seed,\n      schema: { fallback, props, reference: { parse, stringify } },\n    },\n  }\n  hooks.forEach((item) => {\n    if (!item.scope) { return this.hooks.mount(item, { only: type }) }\n    let hook = is.array(item.hook) ? item.hook : [item.hook]\n    let handler = is.array(item.handler) ? item.handler : [item.handler]\n    handler.forEach((hd) => hook.forEach((hk) => {\n      let scopeFnHasBeenMounted = Object.keys(installed).some((t) => {\n        return t !== type && installed[t].config.hooks.some((h) => {\n          let hks = is.array(h.hook) ? h.hook : [h.hook]\n          let hds = is.array(h.handler) ? h.handler : [h.handler]\n          return h.scope === item.scope && hds.includes(hd) && hks.includes(hk)\n        })\n      })\n      // Scoped hooks can only be mounted once.\n      if (scopeFnHasBeenMounted) { return }\n      this.hooks.mount({ ...item, hook: hk, handler: hd }, { only: item.scope })\n    }))\n  })\n}\n", "import { isnt } from '../base/type'\nimport store from './helpers/store'\n\n\n\nexport default function collect(from = {}, options = {}) {\n  let { id } = from\n  if (this.family.hasnt({ id })) { return null }\n  let includeErr = 'errors' in options ? options.errors : true\n  let [only, except] = [options.only || [], options.except || []]\n  isnt.array(only) && (only = [only])\n  isnt.array(except) && (except = [except])\n  let { values, raw } = collectProps(this, id)\n  values = filterProps(this, values, only, except)\n  raw.values = filterProps(this, raw.values, only, except)\n  if (!includeErr) { return { values, raw } }\n  let [errors, rawErrors] = collectErrors(this, id)\n  return { values, errors, raw: { ...raw, errors: rawErrors } }\n}\n\n\n\nfunction collectProps(reactive, id) {\n  let type = reactive.get({ id, prop: 'type' })\n  let customCollect = store(reactive).installed[type].config.collect\n  if (customCollect) {\n    let result = customCollect.call(reactive, { id })\n    result || (result = {})\n    result.values || (result.values = {})\n    result.raw || (result.raw = {})\n    result.raw.values || (result.raw.values = {})\n    return result\n  }\n  let { values, raw } = reactive.get({ id }, { include: 'raw' })\n  values.children = []\n  raw.values.children = []\n  let children = reactive.family.descendant({ id })\n  if (!children) { return { values, raw } }\n  children.forEach((chd) => {\n    let state = collectProps(reactive, chd.id)\n    values.children.push(state.values)\n    raw.values.children.push(state.raw.values)\n  })\n  return { values, raw }\n}\n\nfunction filterProps(reactive, props = {}, only = [], except = []) {\n  Object.keys(props).forEach((prop) => {\n    only.length && !only.includes(prop) && delete props[prop]\n    except.length && except.includes(prop) && delete props[prop]\n  })\n  if (props.children) {\n    props.children.forEach((chd, index) => {\n      props.children[index] = filterProps(reactive, chd, only, except)\n    })\n  }\n  return props\n}\n\nfunction collectErrors(reactive, id) {\n  let [errors, rawErrors] = [[], []]\n  let des = reactive.family.descendant({ id }, { deep: true, self: true })\n  des.forEach(({ id }) => {\n    let state = reactive.get({ id }, { include: ['raw', 'error'] })\n    state.errors && errors.push({ id, errors: state.errors })\n    state.raw.errors && rawErrors.push({ id, errors: state.raw.errors })\n  })\n  return [errors.length ? errors : null, rawErrors.length ? rawErrors : null]\n}\n", "import guid from '../base/guid'\nimport store from './helpers/store'\n\n\n\nexport default function seed(from = {}, props = {}, options = {}) {\n  let execute = 'execute' in options ? options.execute : true\n  if (execute && this.family.hasnt({ id: from.id })) { return }\n  let [member, members, mutations] = [null, [{ id: from.id, props }], []]\n  while (member = members.shift()) {\n    let [id, memberProps] = [member.id, member.props]\n    let isExisted = this.family.has({ id })\n    let type = (() => {\n      if (isExisted) { return this.get({ id, prop: 'type' }) }\n      return memberProps.type || 'default'\n    })()\n    let customSeed = store(this).installed[type].config.seed\n    if (customSeed) {\n      let result = customSeed.call(this, { id }, memberProps)\n      result && (mutations = mutations.concat(result))\n    } else {\n      Object.keys(memberProps).forEach((prop) => {\n        if (prop !== 'children') {\n          let mutation = { action: 'set', id, prop, value: memberProps[prop] }\n          return mutations.push(mutation)\n        }\n        let [parentId, chd] = [id, this.family.descendant({ id }) || []]\n        memberProps.children.forEach((p, i) => {\n          if (chd[i]) { return members.push({ id: chd[i].id, props: p }) }\n          let [id, name, type] = [guid(), p.name, p.type || 'default']\n          let mutation = { action: 'add', parentId, id, props: { type, name } }\n          mutations.push(mutation)\n          members.push({ id, props: { ...p, type } })\n        })\n      })\n    }\n  }\n  return execute ? this.executor.run(mutations) : mutations\n}\n", "import mustbeInstalledType from './mustbe-installed-type'\n\n\nconst HOOKS = [{\n  hook: 'before-add',\n  handler(member) {\n    let type = (member.props || {}).type || 'default'\n    mustbeInstalledType(this, type)\n  },\n}]\n\n\n\nexport default HOOKS\n", "import i18n from '../locales'\nimport raise from '../../base/exception'\nimport { REFERENCE_GROUP } from './schema-reference'\n\n\n\nconst HOOKS = [{\n  hook: 'before-del',\n  handler(member) {\n    let { id } = member\n    let { family, dependency } = this\n    let descendants = family.descendant({ id }, { self: true })\n    let queryOptions = { self: false, deep: false, group: REFERENCE_GROUP }\n    let reliers = dependency.reliers(descendants, queryOptions)\n    reliers && raise({\n      type: this.exceptions.CONSTRAINTS_EXIST,\n      message: i18n.t('reactive.memberIsReferenced', { variables: { id } }),\n    })\n  },\n}]\n\n\n\nexport default HOOKS\n", "const HOOKS = [{\n  hook: 'after-add',\n  handler(member) {\n    let [id, type] = [member.id, (member.props || {}).type || 'default']\n    let [members, naming] = [this.members, this.naming('type')]\n    members[id][naming.raw.prop] = members[id][naming.prop] = type\n    members[id][naming.raw.error] = members[id][naming.error] = null\n  },\n}, {\n  hook: 'before-del',\n  handler(member) {\n    let type = this.get({ id: member.id, prop: 'type' })\n    member.props || (member.props = {})\n    member.props.type = type\n  },\n}]\n\n\n\nexport default HOOKS\n", "const HOOKS = [{\n  hook: 'before-add',\n  handler(member) {\n    let { id, props } = member\n    props || (member.props = {})\n    member.props.name || (member.props.name = id)\n  },\n}, {\n  hook: 'after-add',\n  handler(member) {\n    let { id, props } = member\n    let [members, naming] = [this.members, this.naming('name')]\n    members[id][naming.raw.prop] = members[id][naming.prop] = props.name\n    members[id][naming.raw.error] = members[id][naming.error] = null\n  },\n}, {\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop, value } = member\n    if (prop !== 'name') { return }\n    let [members, naming] = [this.members, this.naming('name')]\n    members[id][naming.raw.prop] = members[id][naming.prop] = value\n    members[id][naming.raw.error] = members[id][naming.error] = null\n  },\n}]\n\n\n\nexport default HOOKS\n", "const HOOKS = [{\n  hook: ['before-set', 'before-calc'],\n  handler(member) {\n    if (member.prop === 'type') { return false }\n  },\n}]\n\n\n\nexport default HOOKS\n", "import i18n from '../locales'\nimport raise from '../../base/exception'\nimport { musntbe } from '../../base/type'\n\n\n\nfunction musntbeOccupiedName(reactive, id, name) {\n  let siblings = reactive.family.sibling({ id })\n  if (!siblings) { return }\n  siblings.find(({ id }) => {\n    return reactive.get({ id, prop: 'name' }) === name\n  }) && raise({\n    type: reactive.exceptions.CONFLICTED_MEMBER_NAME,\n    message: i18n.t('reactive.conflictedMemberName', {\n      variables: { name },\n    }),\n  })\n}\n\nconst HOOKS = [{\n  hook: 'after-add',\n  handler(member) {\n    let { id } = member\n    let name = this.get({ id, prop: 'name' })\n    musntbe.blank(name, {\n      message: i18n.t('reactive.memberNameRequired'),\n    })\n    musntbeOccupiedName(this, id, name)\n  },\n}, {\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop } = member\n    if (prop !== 'name') { return }\n    let state = this.get({ id, prop }, { include: ['error', 'raw'] })\n    if (state.raw.error) {\n      let message = `Skipping validating name of member ${id},`\n      message += ' since prev errors exist.'\n      return console.warn(message, state.raw.error)\n    }\n    try {\n      musntbe.blank(state.raw.value, {\n        message: i18n.t('reactive.memberNameRequired'),\n      })\n      musntbeOccupiedName(this, id, state.raw.value)\n    } catch (error) {\n      this.members[id][this.naming(prop).raw.error] = [error]\n    }\n  },\n}]\n\n\n\nexport default HOOKS\n", "import i18n from '../locales'\nimport { is, isnt } from '../../base/type'\nimport { Exception } from '../../base/exception'\nimport {\n  parseReference,\n  UNSCHEMABLE_PROPS,\n  REFERENCE_GROUP,\n} from './schema-reference'\n\n\n\nfunction validationDefinationError(reactive, validation) {\n  try {\n    reactive.validator.mustbeSupported(validation, { strict: true })\n    return null\n  } catch (error) {\n    const Validator = reactive.validator.constructor\n    let EXCEPTIONS = Validator.exceptions\n    let INVALID_NAME = EXCEPTIONS.UNSUPPORTED_VALIDATION\n    let INVALID_RULE_TYPE = EXCEPTIONS.UNSUPPORTED_VALIDATION_RULE_TYPE\n    let INVALID_RULE = EXCEPTIONS.UNSUPPORTED_VALIDATION_RULE\n    let { name, rule } = reactive.validator.extractValidation(validation)\n    let label = i18n.t(`validator.validators.${name}.label`) || name\n    if ([INVALID_RULE, INVALID_RULE_TYPE].includes(error.type)) {\n      let i18nKey = 'reactive.conditionValidationRuleNotSupported'\n      let message = i18n.t(i18nKey, { variables: { label, rule } })\n      let overrideMsg = error.type === INVALID_RULE_TYPE\n      error.message = overrideMsg ? message : (error.message || message)\n    } else if (error.type === INVALID_NAME) {\n      let i18nKey = 'reactive.conditionValidationNotSupported'\n      error.message = i18n.t(i18nKey, { variables: { label } })\n    }\n    return error\n  }\n}\n\n\n\nconst HOOKS = [{\n  // Valadating condition statements\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop } = member\n    if (UNSCHEMABLE_PROPS.includes(prop)) { return }\n    if (!this.schema.for({ id, prop }).schemable) { return }\n    let get = this.constructor.prototype.get\n    let state = get.call(this, { id, prop }, { include: ['raw', 'error'] })\n    if (state.raw.error) {\n      let message = `Skipping validating ${prop} schema of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, state.raw.error)\n    }\n    const Condition = this.schema.constructor.Condition\n    if (!Condition.isCondition(state.raw.value)) { return }\n    let extracted = Condition.extract(state.raw.value)\n    let [members, naming] = [this.members, this.naming(prop)]\n    // Checking if the condition statement has at least one case branch\n    // The Condition module can parse statements even without any branches,\n    // this validation is just to provide a better schema defining experience.\n    if (!extracted.whens.length) {\n      members[id][naming.raw.error] = [Exception.create({\n        data: { dueto: 'whens' },\n        type: Condition.exceptions.INVALID_CONDITION,\n        message: i18n.t('reactive.conditionNotComplete'),\n      })]\n      return\n    }\n    // Checking if the condition statement contains any unsupported validators.\n    // This prevent wired schema defining exprerience when any unsupported\n    // validation rules defined as condtion expressions.\n    extracted.whens.some((branch, branchIndex) => {\n      if (!branch.rules || !branch.rules.length) {\n        members[id][naming.raw.error] = [Exception.create({\n          data: { branchIndex, dueto: 'rules' },\n          type: Condition.exceptions.INVALID_CONDITION,\n          message: i18n.t('reactive.conditionBranchNotComplete'),\n        })]\n        return true\n      }\n      return branch.rules.some((rule, ruleIndex) => {\n        let { logic, expression } = rule\n        if (ruleIndex !== 0 && !['and', 'or'].includes(logic)) {\n          let i18nKey = 'reactive.conditionLogicNotSupported'\n          members[id][naming.raw.error] = [Exception.create({\n            data: { branchIndex, ruleIndex, dueto: 'logic' },\n            type: Condition.exceptions.INVALID_CONDITION,\n            message: i18n.t(i18nKey, { variables: { logic } }),\n          })]\n          return true\n        }\n        if (isnt.object(expression) || is.blank(expression.valOf)) {\n          let i18nKey = 'reactive.conditionReferenceNotPresence'\n          members[id][naming.raw.error] = [Exception.create({\n            data: { branchIndex, ruleIndex, dueto: 'provider' },\n            type: Condition.exceptions.INVALID_CONDITION,\n            message: i18n.t(i18nKey),\n          })]\n          return true\n        }\n        let error = validationDefinationError(this, expression)\n        if (!error) { return false }\n        members[id][naming.raw.error] = [Exception.create({\n          data: { branchIndex, ruleIndex, dueto: 'validation' },\n          type: Condition.exceptions.INVALID_CONDITION,\n          message: error.message,\n        })]\n        return true\n      })\n    })\n  },\n}, {\n  // Translating\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop } = member\n    if (UNSCHEMABLE_PROPS.includes(prop)) { return }\n    if (!this.schema.for({ id, prop }).schemable) { return }\n    let get = this.constructor.prototype.get\n    let state = get.call(this, { id, prop }, { include: ['raw', 'error'] })\n    if (state.raw.error) {\n      let message = `Skipping translating ${prop} schema of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, state.raw.error)\n    }\n    let [members, naming] = [this.members, this.naming(prop)]\n    try {\n      // [TODO] add error index?\n      members[id][naming.raw.prop] = parseReference(\n        this, state.raw.value, { id, prop },\n      )\n    } catch (error) {\n      members[id][naming.raw.error] = [error]\n    }\n  },\n}, {\n  // Associating\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop } = member\n    let { schema, dependency, family, members } = this\n    if (UNSCHEMABLE_PROPS.includes(prop)) { return }\n    if (!schema.for({ id, prop }).schemable) { return }\n    dependency.delete({ id, prop }, { only: 'relier', group: REFERENCE_GROUP })\n    let get = this.constructor.prototype.get\n    let state = get.call(this, { id, prop }, { include: ['raw', 'error'] })\n    if (state.raw.error) {\n      let message = 'Skipping adding new associations for'\n      message += ` member ${id}'s ${prop} since previous errors exist.`\n      return console.warn(message, state.raw.error)\n    }\n    let providers = schema.references(state.raw.value)\n    if (!providers) { return }\n    let associations = providers.map((provider) => {\n      return { relier: { id, prop }, provider: JSON.parse(provider) }\n    })\n    // Ensure schema reference path is updated after\n    // the name prop of any provider or\n    // the name prop of any provider's ancestors changed.\n    associations.forEach((association) => {\n      let { provider, relier } = association\n      let options = { self: true, deep: true }\n      let ancestors = family.ancestor({ id: provider.id }, options)\n      ancestors.forEach((a, index) => {\n        // Filter out root member, since its name is not in reference paths.\n        if (index === ancestors.length - 1) { return }\n        associations.push({ relier, provider: { id: a.id, prop: 'name' } })\n      })\n    })\n    try {\n      dependency.add(associations, { group: REFERENCE_GROUP })\n    } catch (error) {\n      // [TODO] add error index?\n      members[id][this.naming(prop).raw.error] = [error]\n    }\n  },\n}, {\n  // Parsing\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (UNSCHEMABLE_PROPS.includes(prop)) { return }\n    if (!this.schema.for({ id, prop }).schemable) { return }\n    let get = this.constructor.prototype.get\n    let { value, error } = get.call(this, { id, prop }, { include: 'error' })\n    let [members, naming] = [this.members, this.naming(prop)]\n    if (error) {\n      members[id][naming.prop] = null\n      let message = `Skipping parsing ${prop} schema of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, error)\n    }\n    try {\n      members[id][naming.prop] = this.schema.parse(value)\n    } catch (error) {\n      members[id][naming.prop] = null\n      members[id][naming.error] = [error]\n      console.warn(`Failed to parse ${prop} schema of member ${id}.`, error)\n    }\n  },\n}]\n\n\n\nexport {\n  HOOKS,\n  HOOKS as default,\n  validationDefinationError,\n}\n", "import { UNSCHEMABLE_PROPS } from './schema-reference'\n\n\n\nconst HOOKS = [{\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (UNSCHEMABLE_PROPS.includes(prop)) { return }\n    let schema = this.schema.for({ id, prop })\n    if (!schema.schemable || !schema.calculable) { return }\n    let get = this.constructor.prototype.get\n    let { value, error } = get.call(this, { id, prop }, { include: 'error' })\n    let [members, naming] = [this.members, this.naming(prop)]\n    if (error) {\n      let message = `Skipping trying to calculate ${prop} of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, error)\n    }\n    if (!this.calculator.isSupported(value, { strict: false })) { return }\n    try {\n      members[id][naming.prop] = this.calculator.calculate(value)\n    } catch (error) {\n      members[id][naming.error] = [error]\n      console.warn(`Failed to calculate ${prop} of member ${id}.`, error)\n    }\n  },\n}]\n\n\n\nexport default HOOKS\n", "const HOOKS = [{\n  hook: 'after-add',\n  handler(member, result) {\n    let [id, mutations] = [member.id, result.mutations.set]\n    this.schema.for({ id }).forEach((schema) => {\n      if (mutations.find((mu) => mu.prop === schema.prop)) { return }\n      mutations.push({ id, prop: schema.prop, value: schema.default })\n    })\n  },\n}]\n\n\n\nexport default HOOKS\n", "const HOOKS = [{\n  hook: 'after-add',\n  handler(member, result) {\n    let [id, mutations] = [member.id, result.mutations.set]\n    this.schema.for({ id }).forEach((schema) => {\n      if (!('always' in schema)) { return }\n      let mutation = mutations.find((mu) => mu.prop === schema.prop)\n      if (mutation) { return mutation.value = schema.always }\n      mutations.push({ id, prop: schema.prop, value: schema.always })\n    })\n  },\n}, {\n  hook: 'before-set',\n  handler(member) {\n    let { id, prop, value } = member\n    let schema = this.schema.for({ id, prop })\n    if ('always' in schema && value !== schema.always) {\n      member.value = schema.always\n    }\n  },\n}]\n\n\n\nexport default HOOKS\n", "import { is, isnt } from '../../base/type'\nimport { Exception } from '../../base/exception'\nimport Validator from '../../validator'\n\n\n\nconst HOOKS = [{\n  hook: 'after-add',\n  handler(member, result) {\n    let [id, mutations] = [member.id, result.mutations.set]\n    this.schema.for({ id }).forEach((schema) => {\n      if (!schema.validation) { return }\n      if (mutations.find((mu) => mu.prop === schema.prop)) { return }\n      mutations.push({ id, prop: schema.prop, value: schema.default || null })\n    })\n  },\n}, {\n  // Validating raw prop\n  // [TODO]? set prop to null if raw prop has errors?\n  hook: 'after-set',\n  handler(member) {\n    let { id, prop } = member\n    let state = this.get({ id, prop }, { include: ['error', 'raw'] })\n    let { value, error } = state.raw\n    const RAW_ERROR_TYPE = `${Validator.exceptions.VALIDATION_FAILED}_RAW`\n    if (hasError(error, { exclude: RAW_ERROR_TYPE })) {\n      let message = `Skipping validating raw ${prop} of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, error)\n    }\n    const Condition = this.schema.constructor.Condition\n    let validation = this.schema.for({ id, prop }).rawValidation\n    let [members, naming] = [this.members, this.naming(prop)]\n    let errorKey = naming.raw.error\n    if (!validation) { return members[id][errorKey] = null }\n    if (Condition.isntCondition(value)) {\n      error = executeValidation(this, { id, prop, value, validation })\n      if (!error) { return members[id][errorKey] = null }\n      members[id][errorKey] = [decorateError(error, { type: RAW_ERROR_TYPE })]\n    } else {\n      let [branches, branchIndex] = [Condition.extract(value), -1]\n      branches.whens.concat(branches.else).some(({ result }, index) => {\n        error = executeValidation(this, { id, prop, value: result, validation })\n        if (error) { return (branchIndex = index) || true }\n      })\n      if (!error) { return members[id][errorKey] = null }\n      members[id][errorKey] = [decorateError(error, {\n        type: RAW_ERROR_TYPE, data: { branchIndex, dueto: 'result' },\n      })]\n    }\n  },\n}, {\n  // Validating prop\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    let { value, error } = this.get({ id, prop }, { include: 'error' })\n    const ERROR_TYPE = Validator.exceptions.VALIDATION_FAILED\n    if (hasError(error, { exclude: ERROR_TYPE })) {\n      let message = `Skipping validating ${prop} of member ${id},`\n      message += ' since previous errors exist.'\n      return console.warn(message, error)\n    }\n    let { validation } = this.schema.for({ id, prop })\n    let [members, naming] = [this.members, this.naming(prop)]\n    if (!validation) { return members[id][naming.error] = null }\n    error = executeValidation(this, { id, prop, value, validation })\n    if (!error) { return members[id][naming.error] = null }\n    members[id][naming.error] = [decorateError(error, { type: ERROR_TYPE })]\n  },\n}]\n\n\n\nfunction hasError(error, options = {}) {\n  if (!error) { return false }\n  isnt.array(error) && (error = [error])\n  let exclude = is.array(options.exclude) ? options.exclude : [options.exclude]\n  error = error.find((e) => !exclude.includes(e.type))\n  if (error) { return true }\n}\n\nfunction executeValidation(reactive, options = {}) {\n  let { id, prop, value, validation } = options\n  isnt.array(validation) && (validation = [validation])\n  let [error, isRequired] = [null, validation.find((v) => 'presence' in v)]\n  // [TODO] Test isnt.blank(value) -> ![null, undefined, ''].includes(value)\n  if (!(isRequired || ![null, undefined, ''].includes(value))) {\n    return error = null\n  }\n  validation.some((rule) => {\n    // [TODO] Return error if the rule is not supported by Validator.\n    try {\n      // [TODO] Async handling\n      if (is.function(rule)) {\n        return error = rule.call(reactive, { id, prop, value })\n      }\n      // [TODO] Async handling\n      return error = reactive.validator.error(rule, value)\n    } catch (runtimeError) {\n      return error = runtimeError\n    }\n  })\n  return error\n}\n\nfunction decorateError(error = {}, options = {}) {\n  let message = is.string(error) ? error : (error.message || error.name)\n  let errorData = is.string(error) ? {} : error.data\n  let optionData = options.data || {}\n  return Exception.create({\n    type: options.type, message, data: { ...errorData, ...optionData },\n  })\n}\n\n\n\nexport default HOOKS\n", "import i18n from '../locales'\nimport { mustbe, isnt } from '../../base/type'\nimport raise from '../../base/exception'\n\n\n\nconst cache = []\n\n\n\nexport default function hookActionEnsureParentType(params = {}) {\n  let accept = params.accept\n  isnt.array(accept) && (accept = [accept])\n  accept.forEach((t) => mustbe.nonblankString(t))\n  let memo = cache.find((m) => {\n    if (m.accept.length !== accept.length) { return false }\n    return !m.accept.some((a) => !accept.includes(a))\n  })\n  if (!memo) {\n    memo = { accept, HOOKS: [{\n      hook: 'before-add',\n      handler(member) {\n        let memberType = (member.props || {}).type || 'default'\n        let parentType = this.get({ id: member.parentId, prop: 'type' })\n        !accept.includes(parentType) && raise({\n          type: this.exceptions.INVALID_PARENT,\n          message: i18n.t('reactive.mustBelongsToValidParent', {\n            variables: { memberType, acceptedParentTypes: accept },\n          }),\n        })\n      },\n    }] }\n    cache.push(memo)\n  }\n  return memo.HOOKS\n}\n", "import guid from '../base/guid'\nimport { isnt } from '../base/type'\nimport raise from '../base/exception'\nimport Context from '../context'\nimport createSchema from './schema'\nimport createValidator from './validator'\nimport createCalculator from './calculator'\nimport decorateHooks from './hooks'\nimport decorateGet from './get'\nimport install from './install'\nimport collect from './collect'\nimport seed from './seed'\nimport store from './helpers/store'\nimport essentialHookBlockAdding\n  from './helpers/essential-hook-block-adding'\nimport essentialHookBlockDeleting\n  from './helpers/essential-hook-block-deleting'\nimport essentialHookPresetType\n  from './helpers/essential-hook-preset-type'\nimport essentialHookPresetName\n  from './helpers/essential-hook-preset-name'\nimport essentialHookFreezeType\n  from './helpers/essential-hook-freeze-type'\nimport essentialHookValidateName\n  from './helpers/essential-hook-validate-name'\nimport essentialHookProcessSchema\n  from './helpers/essential-hook-process-schema'\nimport essentialHookProcessCalculation\n  from './helpers/essential-hook-process-calculation'\nimport hookSchemaEnableDefault\n  from './helpers/hook-schema-enable-default'\nimport hookSchemaEnableAlways\n  from './helpers/hook-schema-enable-always'\nimport hookSchemaEnableValidation\n  from './helpers/hook-schema-enable-validation'\nimport hookBlockInvalidParent\n  from './helpers/hook-block-invalid-parent'\n\n\n\nconst EXCEPTIONS = {\n  CONFLICTED_MEMBER_TYPE: 'REACTIVE_CONFLICTED_MEMBER_TYPE',\n  UNINSTALLED_MEMBER_TYPE: 'REACTIVE_UNINSTALLED_MEMBER_TYPE',\n  CONSTRAINTS_EXIST: 'REACTIVE_CONSTRAINTS_EXIST',\n  CONFLICTED_MEMBER_NAME: 'REACTIVE_CONFLICTED_MEMBER_NAME',\n  REFERENCED_PROVIDER_NOT_FOUND: 'REACTIVE_REFERENCED_PROVIDER_NOT_FOUND',\n  INVALID_PARENT: 'REACTIVE_INVALID_PARENT',\n  HOOK_NOT_EXIST: 'REACTIVE_HOOK_NOT_EXIST',\n  VALIDATION_FAILED: 'REACTIVE_VALIDATION_FAILED',\n}\n\nconst SHARED_HOOKS = {\n  ENABLE_SCHEMA_DEFAULT: hookSchemaEnableDefault,\n  ENABLE_SCHEMA_ALWAYS: hookSchemaEnableAlways,\n  ENABLE_SCHEMA_VALIDATION: hookSchemaEnableValidation,\n  BLOCK_INVALID_PARENT: hookBlockInvalidParent,\n}\n\nfunction Reactive() {\n  let reactive = Context.create()\n  store(reactive, { installed: {} })\n  reactive.guid = guid\n  reactive.exceptions = EXCEPTIONS\n  reactive.seed = seed.bind(reactive)\n  reactive.collect = collect.bind(reactive)\n  reactive.install = install.bind(reactive)\n  reactive.get = decorateGet(reactive)\n  reactive.schema = createSchema(reactive)\n  reactive.validator = createValidator(reactive)\n  reactive.calculator = createCalculator(reactive)\n  reactive.hooks = decorateHooks(reactive)\n  reactive.hooks.mount(essentialHookBlockAdding)\n  reactive.hooks.mount(essentialHookBlockDeleting)\n  reactive.hooks.mount(essentialHookPresetType)\n  reactive.hooks.mount(essentialHookPresetName)\n  reactive.hooks.mount(essentialHookFreezeType)\n  reactive.hooks.mount(essentialHookValidateName)\n  reactive.hooks.mount(essentialHookProcessSchema)\n  reactive.hooks.mount(essentialHookProcessCalculation)\n  reactive.install({ type: 'default', schema: { props: [{ prop: 'name' }] } })\n  let root = reactive.members[reactive.family.root().id]\n  let naming = reactive.naming('type')\n  root[naming.raw.prop] = root[naming.prop] = 'default'\n  return reactive\n}\n\nReactive.guid = guid\nReactive.exceptions = EXCEPTIONS\nReactive.hooks = {\n  use(hook, ...args) {\n    !(hook in SHARED_HOOKS) && raise({ type: EXCEPTIONS.HOOK_NOT_EXIST })\n    if (isnt.function(SHARED_HOOKS[hook])) { return SHARED_HOOKS[hook] }\n    return SHARED_HOOKS[hook](...args)\n  },\n}\n\n\n\nexport { Reactive, Reactive as default }\n", "import Reactive from '../../reactive'\nimport Fieldset from './fieldset'\n\n\n\nFieldset.hooks = [\n  Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n  Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n]\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: 'Fieldset Name',\n      },\n      label: {\n        label: 'Fieldset Title',\n        default: 'Fieldset',\n      },\n      description: {\n        label: 'Fieldset Description',\n        default: 'This is a fieldset.',\n      }\n    }\n  }\n}\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: '\u8F93\u5165\u9879\u96C6\u5408Name',\n      },\n      label: {\n        label: '\u8F93\u5165\u9879\u96C6\u5408\u6807\u9898',\n        default: '\u8F93\u5165\u9879\u96C6\u5408',\n      },\n      description: {\n        label: '\u8F93\u5165\u9879\u96C6\u5408\u63CF\u8FF0',\n        default: '\u8FD9\u662F\u4E00\u4E2A\u8F93\u5165\u9879\u96C6\u5408\u3002',\n      }\n    }\n  }\n}\n", "import { i18n } from '../../../i18n'\nimport EN from './en'\nimport ZH from './zh'\n\n\n\ni18n.define({\n  en: { form: { fieldset: EN } },\n  zh: { form: { fieldset: ZH } },\n})\n\n\n\nexport default i18n\n", "import i18n from './locales'\nimport Reactive from '../../reactive'\nimport Fieldset from './fieldset'\n\n\n\nFieldset.schema = {\n  fallback: {\n    prop: () => Reactive.guid(),\n    label: () => Reactive.guid(),\n    default: null,\n    schemable: false,\n    calculable: false,\n    validation: null,\n    placeholder: () => i18n.t('form.fieldset.schema.fallback.placeholder'),\n    hint: () => i18n.t('form.fieldset.schema.fallback.hint'),\n  },\n  props: [{\n    prop: 'name',\n    validation: [{ dataType: 'String' }],\n    label: () => i18n.t('form.fieldset.schema.props.name.label'),\n    placeholder: () => i18n.t('form.fieldset.schema.props.name.placeholder'),\n    hint: () => i18n.t('form.fieldset.schema.props.name.hint'),\n  }, {\n    prop: 'label',\n    schemable: false,\n    calculable: false,\n    validation: [{ dataType: 'String' }],\n    default: () => i18n.t('form.fieldset.schema.props.label.default'),\n    label: () => i18n.t('form.fieldset.schema.props.label.label'),\n    placeholder: () => i18n.t('form.fieldset.schema.props.label.placeholder'),\n    hint: () => i18n.t('form.fieldset.schema.props.label.hint'),\n  }, {\n    prop: 'description',\n    schemable: false,\n    calculable: false,\n    validation: [{ dataType: 'String' }],\n    default: () => i18n.t('form.fieldset.schema.props.description.default'),\n    label: () => i18n.t('form.fieldset.schema.props.description.label'),\n    placeholder: () => i18n.t('form.fieldset.schema.props.description.placeholder'),\n    hint: () => i18n.t('form.fieldset.schema.props.description.hint'),\n  }],\n}\n", "class Field {\n\n  static PARENT_TYPE = 'Fieldset'\n  static GROUP_NAMES = { Field: 'Field', FieldsetChild: 'FieldsetChild' }\n\n  static exceptions = {\n    PROP_SCHEMA_NOT_EXIST: 'FIELD_PROP_SCHEMA_NOT_EXIST',\n    HOOK_NOT_EXIST: 'FIELD_HOOK_NOT_EXIST',\n    INVALID_PARENT: 'FIELD_INVALID_PARENT',\n    UNINSTALLED_TYPE: 'FIELD_UNINSTALLED_TYPE',\n  }\n\n}\n\n\n\nexport { Field, Field as default }\n", "import { is } from '../../base/type'\nimport Field from './field'\n\n\n\nField.extend = function(installer = {}) {\n  let { type, hooks, schema, group } = { ...installer }\n  !hooks && (hooks = Field.hooks.default())\n  !schema && (schema = Field.schema.default())\n  !schema.fallback && (schema.fallback = Field.schema.default('fallback'))\n  !schema.props && (schema.props = Field.schema.default('props'))\n  group = !group ? [] : (is.array(group) ? group.slice() : [group])\n  Object.values(Field.GROUP_NAMES).forEach((g) => {\n    !group.includes(g) && group.push(g)\n  })\n  return { ...installer, type, hooks, schema, group }\n}\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: 'Name',\n      },\n      label: {\n        label: 'Label',\n        default: 'Form Field',\n      },\n      value: {\n        label: 'Initial Value',\n      },\n      placeholder: {\n        label: 'Placeholder',\n        default: '',\n      },\n      editable: {\n        label: 'If Editable',\n      },\n      visible: {\n        label: 'If Visible',\n      },\n      validation: {\n        label: 'Validation',\n      },\n      calculation: {\n        label: 'Calculation',\n        placeholder: 'E.g, {\"add\": [\"<< fields.age.value >>\", \"<< fields.count.value >>\"]}',\n        notSupported: 'Unsupported calculation algorithm { name }.',\n      },\n      options: {\n        label: 'Options',\n        each: {\n          mustbeObject: 'Each option must be an object.',\n          labelMustbeNonblankString: 'Option label must be a non-blank string.',\n          valueMustbeNonblankString: 'Option value must be a non-blank string',\n          mustbeUnique: 'Option value must be unique.',\n          label: 'Option',\n        },\n      }\n    }\n  },\n  textField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Text Field',\n        },\n      }\n    }\n  },\n  multilineTextField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Multiline Text Field',\n        },\n      }\n    }\n  },\n  numberField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Number Field',\n        },\n      },\n    }\n  },\n  singleSelectField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Single Select',\n        }\n      }\n    }\n  },\n  multipleSelectField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Multiple Select',\n        }\n      }\n    }\n  },\n  radioField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Radio Field',\n        }\n      }\n    }\n  },\n  checkboxField: {\n    schema: {\n      props: {\n        label: {\n          default: 'Checkbox Field',\n        }\n      }\n    }\n  },\n}\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: '\u8F93\u5165\u9879Name',\n      },\n      label: {\n        label: '\u6807\u9898',\n        default: '\u8F93\u5165\u9879',\n      },\n      value: {\n        label: '\u521D\u59CB\u503C',\n      },\n      placeholder: {\n        label: '\u5360\u4F4D\u7B26',\n        default: '',\n      },\n      editable: {\n        label: '\u662F\u5426\u53EF\u7F16\u8F91',\n      },\n      visible: {\n        label: '\u662F\u5426\u53EF\u89C1',\n      },\n      validation: {\n        label: '\u6821\u9A8C\u89C4\u5219',\n      },\n      calculation: {\n        label: '\u8BA1\u7B97\u89C4\u5219',\n        placeholder: '\u4F8B\u5982: {\"add\": [\"<< fields.age.value >>\", \"<< fields.count.value >>\"]}',\n        notSupported: '\u4E0D\u88AB\u652F\u6301\u7684\u8BA1\u7B97{ name }\u3002',\n      },\n      options: {\n        label: '\u9009\u9879',\n        each: {\n          mustbeObject: '\u53EF\u9009\u9879\u76EE\u987B\u662F\u5BF9\u8C61\u3002',\n          labelMustbeNonblankString: '\u53EF\u9009\u9879\u6807\u9898\u987B\u662F\u975E\u7A7A\u5B57\u7B26\u4E32\u3002',\n          valueMustbeNonblankString: '\u53EF\u9009\u9879\u7684\u503C\u987B\u662F\u975E\u7A7A\u5B57\u7B26\u4E32\u3002',\n          mustbeUnique: '\u9009\u9879\u503C\u4E0D\u80FD\u91CD\u590D\u3002',\n          label: '\u9009\u9879',\n        },\n      }\n    }\n  },\n  textField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u5355\u884C\u6587\u672C',\n        },\n      }\n    }\n  },\n  multilineTextField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u591A\u884C\u6587\u672C',\n        },\n      }\n    }\n  },\n  numberField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u6570\u5B57',\n        },\n      },\n    }\n  },\n  singleSelectField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u4E0B\u62C9\u5355\u9009',\n        }\n      }\n    }\n  },\n  multipleSelectField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u4E0B\u62C9\u591A\u9009',\n        }\n      }\n    }\n  },\n  radioField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u5355\u9009',\n        }\n      }\n    }\n  },\n  checkboxField: {\n    schema: {\n      props: {\n        label: {\n          default: '\u591A\u9009',\n        }\n      }\n    }\n  },\n}\n", "import { i18n } from '../../../i18n'\nimport EN from './en'\nimport ZH from './zh'\n\n\n\ni18n.define({\n  en: { form: { field: EN } },\n  zh: { form: { field: ZH } },\n})\n\n\n\nexport default i18n\n", "import i18n from '../locales'\nimport { is } from '../../../base/type'\nimport { Exception } from '../../../base/exception'\nimport Calculator from '../../../calculator'\n\n\n\nconst HOOKS = [{\n  hook: 'after-add',\n  handler(member) {\n    let relier = { id: member.id, prop: 'value' }\n    let provider = { id: member.id, prop: 'calculation' }\n    this.dependency.add({ provider, relier })\n  },\n}, {\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (prop !== 'calculation') { return }\n    let calculation = this.get({ id, prop }, { include: ['raw', 'error'] })\n    if (calculation.error) {\n      let message = 'Skipping using calculated value since prev errors exist.'\n      return console.warn(message, calculation.error)\n    }\n    if (!calculation.raw.value) { return }\n    this.set({ id, prop: 'value', value: calculation.value })\n  },\n}, {\n  hook: 'before-set',\n  handler(member) {\n    let { id, prop, value } = member\n    if (prop !== 'value') { return }\n    let calculation = this.get({ id, prop: 'calculation' }, { include: 'raw' })\n    if (calculation.raw.value && value !== calculation.value) { return false }\n  },\n}]\n\n\n\nexport default HOOKS\n", "import i18n from '../locales'\nimport Validator from '../../../validator'\nimport { isnt, is } from '../../../base/type'\nimport { Exception } from '../../../base/exception'\n\n\n\nconst HOOK_NAME = 'FORM_FIELD_ENABLE_VALUE_VALIDATION'\n\nconst HOOKS = [{\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (!['value', 'validation'].includes(prop)) { return }\n    let { value, error } = this.get({ id, prop: 'value' }, { include: 'error' })\n    if (hasError(error)) {\n      let message = 'Skipping validating value using validation rules'\n      message += ' since prev value errors exist.'\n      return console.warn(message, error)\n    }\n    let [members, naming] = [this.members, this.naming('value')]\n    let validation = this.get({ id, prop: 'validation' }, { include: 'error' })\n    if (validation.error) {\n      let message = 'Skipping validating value using field validation'\n      message += ' since field validation has errors.'\n      console.warn(message, validation.error)\n      return members[id][naming.error] = null\n    }\n    error = null\n    !validation.value && (validation.value = [])\n    isnt.array(validation.value) && (validation.value = [validation.value])\n    let isRequired = validation.value.find((v) => v && 'presence' in v)\n    if (isRequired || isnt.blank(value)) {\n      validation.value.some((rule) => {\n        try {\n          // [TODO] Async handling\n          return error = this.validator.error(rule, value)\n        } catch (runtimeError) {\n          return error = runtimeError\n        }\n      })\n    }\n    if (!error) { return members[id][naming.error] = null }\n    members[id][naming.error] = [Exception.create({\n      data: { hook: HOOK_NAME },\n      type: Validator.exceptions.VALIDATION_FAILED,\n      message: is.string(error) ? error : (error.message || error.name),\n    })]\n  },\n}]\n\n\n\nfunction hasError(error) {\n  if (!error) { return false }\n  isnt.array(error) && (error = [error])\n  error = error.find((e) => e?.data?.hook !== HOOK_NAME)\n  if (error) { return true }\n}\n\n\n\nexport default HOOKS\n", "import Validator from '../../../validator'\nimport { isnt, is } from '../../../base/type'\nimport { Exception } from '../../../base/exception'\n\n\n\nconst HOOK_NAME = 'FORM_FIELD_ENSURE_VALUE_WITHIN_OPTIONS'\n\nconst HOOKS = [{\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (!['value', 'options'].includes(prop)) { return }\n    let { value, error } = this.get({ id, prop: 'value' }, { include: 'error' })\n    if (hasError(error)) {\n      let message = 'Skipping checking if value is within field options'\n      message += ' since prev value errors exist.'\n      return console.warn(message, error)\n    }\n    let [members, naming] = [this.members, this.naming('value')]\n    let options = this.get({ id, prop: 'options' }, { include: 'error' })\n    if (options.error) {\n      let message = 'Skipping checking if value is within field options'\n      message += ' since field options has errors.'\n      console.warn(message, options.error)\n      return members[id][naming.error] = null\n    }\n    if (is.blank(value)) { return members[id][naming.error] = null }\n    isnt.array(value) && (value = [value])\n    let values = (options.value || []).map((i) => i.value)\n    let hasInvalidValue = value.some((v) => !values.includes(v))\n    if (!hasInvalidValue) { return members[id][naming.error] = null }\n    members[id][naming.error] = [Exception.create({\n      data: { hook: HOOK_NAME },\n      type: Validator.exceptions.VALIDATION_FAILED,\n      message: 'Each picked value must be included in option values.',\n    })]\n  },\n}]\n\n\n\nfunction hasError(error) {\n  if (!error) { return false }\n  isnt.array(error) && (error = [error])\n  error = error.find((e) => e?.data?.hook !== HOOK_NAME)\n  if (error) { return true }\n}\n\n\n\nexport default HOOKS\n", "import raise from '../../base/exception'\nimport Reactive from '../../reactive'\nimport Field from './field'\nimport HOOK_ENABLE_CALCULATION from './helpers/hook-enable-calculation'\nimport HOOK_ENABLE_VALIDATION from './helpers/hook-enable-validation'\nimport HOOK_ENSURE_WITHIN_OPTIONS from './helpers/hook-ensure-within-options'\n\n\n\nconst SHARED_HOOKS = {\n  ENABLE_VALUE_CALCULATION: HOOK_ENABLE_CALCULATION,\n  ENABLE_VALUE_VALIDATION: HOOK_ENABLE_VALIDATION,\n  ENSURE_VALUE_WITHIN_OPTIONS: HOOK_ENSURE_WITHIN_OPTIONS,\n}\n\nconst DEFAULT_HOOKS = [\n  Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: Field.PARENT_TYPE }),\n  Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n  SHARED_HOOKS.ENABLE_VALUE_CALCULATION,\n  Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n  SHARED_HOOKS.ENABLE_VALUE_VALIDATION,\n]\n\n\n\nField.hooks = {\n  use(hook) {\n    !(hook in SHARED_HOOKS) && raise({ type: Field.exceptions.HOOK_NOT_EXIST })\n    return SHARED_HOOKS[hook]\n  },\n  default() { return DEFAULT_HOOKS.slice() },\n}\n", "import i18n from './locales'\nimport guid from '../../base/guid'\nimport raise from '../../base/exception'\nimport { isnt } from '../../base/type'\nimport { Exception } from '../../base/exception'\nimport Calculator from '../../calculator'\nimport Validator from '../../validator'\nimport {\n  validationDefinationError,\n} from '../../reactive/helpers/essential-hook-process-schema'\nimport Field from './field'\n\n\n\nconst DEFAULT_SCHEMA = {\n  FALLBACK: {\n    prop: () => guid(),\n    label: () => guid(),\n    default: null,\n    schemable: false,\n    calculable: false,\n    validation: null,\n    placeholder: () => i18n.t('form.field.schema.fallback.placeholder'),\n    hint: () => i18n.t('form.field.schema.fallback.hint'),\n  },\n  PROPS: [{\n    prop: 'name',\n    validation: [{ dataType: 'String' }],\n    label: () => i18n.t('form.field.schema.props.name.label'),\n    placeholder: () => i18n.t('form.field.schema.props.name.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.name.placeholder'),\n  }, {\n    prop: 'label',\n    schemable: false,\n    calculable: false,\n    validation: [{ presence: true }, { dataType: 'String' }],\n    default: () => i18n.t('form.field.schema.props.label.default'),\n    label: () => i18n.t('form.field.schema.props.label.label'),\n    placeholder: () => i18n.t('form.field.schema.props.label.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.label.hint'),\n  },\n// [TODO] Add order to field schemas?\n  {\n    prop: 'value',\n    schemable: false,\n    calculable: false,\n    validation: null,\n    default: null,\n    label: () => i18n.t('form.field.schema.props.value.label'),\n    placeholder: () => i18n.t('form.field.schema.props.value.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.value.hint'),\n  }, {\n    prop: 'placeholder',\n    schemable: false,\n    calculable: false,\n    validation: [{ dataType: 'String' }],\n    default: () => i18n.t('form.field.schema.props.placeholder.default'),\n    label: () => i18n.t('form.field.schema.props.placeholder.label'),\n    placeholder: () => i18n.t('form.field.schema.props.placeholder.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.placeholder.hint'),\n  }, {\n    prop: 'editable',\n    schemable: true,\n    calculable: true,\n    validation: [{ presence: true }, { dataType: 'Boolean' }],\n    rawValidation: [{ presence: true }, { dataType: 'Boolean' }],\n    default: true,\n    label: () => i18n.t('form.field.schema.props.editable.label'),\n    placeholder: () => i18n.t('form.field.schema.props.editable.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.editable.hint'),\n  }, {\n    prop: 'visible',\n    schemable: true,\n    validation: [{ presence: true }, { dataType: 'Boolean' }],\n    rawValidation: [{ presence: true }, { dataType: 'Boolean' }],\n    default: true,\n    label: () => i18n.t('form.field.schema.props.visible.label'),\n    placeholder: () => i18n.t('form.field.schema.props.visible.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.visible.hint'),\n  }, {\n    prop: 'validation',\n    schemable: true,\n    calculable: true,\n    default: null,\n    label: () => i18n.t('form.field.schema.props.validation.label'),\n    placeholder: () => i18n.t('form.field.schema.props.validation.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.validation.hint'),\n    ...(() => {\n      let validation = [{ dataType: 'Array' }, function(member) {\n        let [index, item] = [-1, null]\n        while (++ index < member.value.length) {\n          item = member.value[index]\n          let error = validationDefinationError(this, item)\n          if (error) {\n            error.data.validationIndex = index\n            return error\n          }\n        }\n      }]\n      return { validation, rawValidation: validation }\n    })(),\n  }, {\n    prop: 'calculation',\n    schemable: true,\n    calculable: true,\n    default: null,\n    label: () => i18n.t('form.field.schema.props.calculation.label'),\n    placeholder: () => i18n.t('form.field.schema.props.calculation.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.calculation.hint'),\n    validation: null,\n    rawValidation: [function(member) {\n      if (!this.calculator.isSupported(member.value, { strict: true })) {\n        return Exception.create({\n          type: Calculator.exceptions.UNSUPPORTED_CALCULATION,\n          message: i18n.t('form.field.schema.props.calculation.notSupported', {\n            variables: { name: member.value },\n          }),\n        })\n      }\n    }],\n  }],\n}\n// [TODO] Test & Doc update\nconst ADDITIONAL_SCHEMA = {\n  PROPS: [{\n    prop: 'options',\n    schemable: false,\n    calculable: false,\n    default: () => {\n      let value = '1'\n      let i18nKey = 'form.field.schema.props.options.each.label'\n      return [{ value, label: `${i18n.t(i18nKey)} ${value}` }]\n    },\n    label: () => i18n.t('form.field.schema.props.options.label'),\n    placeholder: () => i18n.t('form.field.schema.props.options.placeholder'),\n    hint: () => i18n.t('form.field.schema.props.options.hint'),\n    rawValidation: null,\n    validation: [{ presence: true }, { dataType: 'Array' }, function(member) {\n      let options = member.value\n      options.forEach((opt, index) => {\n        let [valid, i18nKey, idx] = [true, '', -1]\n        if (isnt.object(opt)) {\n          valid = false\n          i18nKey = 'form.field.schema.props.options.each.mustbeObject'\n        } else if (isnt.nonblankString(opt.label)) {\n          valid = false\n          i18nKey = 'form.field.schema.props.options.each.labelMustbeNonblankString'\n        } else if (isnt.nonblankString(opt.value)) {\n          valid = false\n          i18nKey = 'form.field.schema.props.options.each.valueMustbeNonblankString'\n        } else {\n          idx = options.findIndex((o, i) => i!== index && o.value === opt.value)\n          if (idx >= 0) {\n            valid = false\n            i18nKey = 'form.field.schema.props.options.each.mustbeUnique'\n          }\n        }\n        !valid && raise({\n          data: { optionIndex: idx >= 0 ? idx : index },\n          type: Validator.exceptions.VALIDATION_FAILED,\n          message: i18n.t(i18nKey),\n        })\n      })\n    }],\n  }]\n}\n\n\n\nField.schema = {\n  use(prop) {\n    return { ...findPropSchema(prop) }\n  },\n  extend(prop, schema = {}) {\n    return { ...findPropSchema(prop), ...schema }\n  },\n  default(type) {\n    if (type === 'fallback') { return { ...DEFAULT_SCHEMA.FALLBACK } }\n    if (type === 'props') { return DEFAULT_SCHEMA.PROPS.slice() }\n    return {\n      fallback: { ...DEFAULT_SCHEMA.FALLBACK },\n      props: DEFAULT_SCHEMA.PROPS.slice(),\n    }\n  },\n}\n\nfunction findPropSchema(prop) {\n  let SCHEMAS = DEFAULT_SCHEMA.PROPS.concat(ADDITIONAL_SCHEMA.PROPS)\n  let SCHEMA = SCHEMAS.find((schema) => schema.prop === prop)\n  !SCHEMA && raise({\n    type: Field.exceptions.PROP_SCHEMA_NOT_EXIST,\n    message: `Prop schema of '${prop}' does not exist.`,\n  })\n  return SCHEMA\n}\n", "import { is } from '../../../../base/type'\nimport { object } from '../../../../base/struct'\nimport i18n from '../../locales'\n\n\n\nexport default function i18nConf(fieldType = '', prop = '', confs) {\n  is.undefined(confs) && (confs = ['label', 'placeholder', 'hint'])\n  return object.from(confs.map((conf) => {\n    return [conf, getConf(fieldType, prop, conf)]\n  }))\n}\n\n\n\nfunction getConf(fieldType, prop, conf) {\n  return () => i18n.try([\n    `form.field.${fieldType}.schema.props.${prop}.${conf}`,\n    `form.field.schema.props.${prop}.${conf}`,\n  ])\n}\n", "import Reactive from '../../../reactive'\nimport Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'CheckboxField',\n  hooks: [\n    Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: Field.PARENT_TYPE }),\n    Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n    Field.hooks.use('ENABLE_VALUE_CALCULATION'),\n    Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n    Field.hooks.use('ENSURE_VALUE_WITHIN_OPTIONS'),\n    Field.hooks.use('ENABLE_VALUE_VALIDATION'),\n  ],\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('checkboxField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('checkboxField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('checkboxField', 'value'),\n        validation: [{ dataType: 'Array' }],\n      }),\n      Field.schema.extend('options', {\n        ...i18nConf('checkboxField', 'options'),\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('checkboxField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('checkboxField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('checkboxField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('checkboxField', 'calculation'),\n      }),\n    ],\n  },\n})\n", "import Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n// [TODO] Test\nexport default Field.extend({\n  type: 'MultilineTextField',\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('multilineTextField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('multilineTextField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('placeholder', {\n        ...i18nConf('multilineTextField', 'placeholder', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('multilineTextField', 'value'),\n        validation: [{ dataType: 'String' }],\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('multilineTextField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('multilineTextField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('multilineTextField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('multilineTextField', 'calculation'),\n      }),\n    ],\n  },\n})\n", "import Reactive from '../../../reactive'\nimport Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'MultipleSelectField',\n  hooks: [\n    Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: Field.PARENT_TYPE }),\n    Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n    Field.hooks.use('ENABLE_VALUE_CALCULATION'),\n    Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n    Field.hooks.use('ENSURE_VALUE_WITHIN_OPTIONS'),\n    Field.hooks.use('ENABLE_VALUE_VALIDATION'),\n  ],\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('multipleSelectField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('multipleSelectField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('multipleSelectField', 'value'),\n        validation: [{ dataType: 'Array' }],\n      }),\n      Field.schema.extend('options', {\n        ...i18nConf('multipleSelectField', 'options'),\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('multipleSelectField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('multipleSelectField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('multipleSelectField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('multipleSelectField', 'calculation'),\n      }),\n    ],\n  },\n})\n", "import Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'NumberField',\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('numberField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('numberField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('placeholder', {\n        ...i18nConf('numberField', 'placeholder', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('numberField', 'value'),\n        validation: [{ dataType: 'Number' }],\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('numberField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('numberField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('numberField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('numberField', 'calculation'),\n      }),\n    ],\n  },\n})\n\n", "import Reactive from '../../../reactive'\nimport Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'RadioField',\n  hooks: [\n    Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: Field.PARENT_TYPE }),\n    Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n    Field.hooks.use('ENABLE_VALUE_CALCULATION'),\n    Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n    Field.hooks.use('ENSURE_VALUE_WITHIN_OPTIONS'),\n    Field.hooks.use('ENABLE_VALUE_VALIDATION'),\n  ],\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('radioField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('radioField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('radioField', 'value'),\n        validation: [{ dataType: 'String' }],\n      }),\n      Field.schema.extend('options', {\n        ...i18nConf('radioField', 'options'),\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('radioField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('radioField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('radioField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('radioField', 'calculation'),\n      }),\n    ],\n  },\n})\n\n\n\n\n\n\n", "import Reactive from '../../../reactive'\nimport Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'SingleSelectField',\n  hooks: [\n    Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: Field.PARENT_TYPE }),\n    Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n    Field.hooks.use('ENABLE_VALUE_CALCULATION'),\n    Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n    Field.hooks.use('ENSURE_VALUE_WITHIN_OPTIONS'),\n    Field.hooks.use('ENABLE_VALUE_VALIDATION'),\n  ],\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('singleSelectField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('singleSelectField', 'label', [\n          'label', 'placeholder', 'hint', 'default'\n        ]),\n      }),\n      Field.schema.extend('placeholder', {\n        ...i18nConf('singleSelectField', 'placeholder', [\n          'label', 'placeholder', 'hint', 'default'\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('singleSelectField', 'value'),\n        validation: [{ dataType: 'String' }],\n      }),\n      Field.schema.extend('options', {\n        ...i18nConf('singleSelectField', 'options'),\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('singleSelectField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('singleSelectField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('singleSelectField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('singleSelectField', 'calculation'),\n      }),\n    ],\n  },\n})\n\n\n\n\n\n\n", "import Field from '../field'\nimport i18nConf from './helpers/i18n-conf'\n\n\n\nexport default Field.extend({\n  type: 'TextField',\n  schema: {\n    props: [\n      Field.schema.extend('name', {\n        ...i18nConf('textField', 'name'),\n      }),\n      Field.schema.extend('label', {\n        ...i18nConf('textField', 'label', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('placeholder', {\n        ...i18nConf('textField', 'placeholder', [\n          'label', 'placeholder', 'hint', 'default',\n        ]),\n      }),\n      Field.schema.extend('value', {\n        ...i18nConf('textField', 'value'),\n        validation: [{ dataType: 'String' }],\n      }),\n      Field.schema.extend('editable', {\n        ...i18nConf('textField', 'editable'),\n      }),\n      Field.schema.extend('visible', {\n        ...i18nConf('textField', 'visible'),\n      }),\n      Field.schema.extend('validation', {\n        ...i18nConf('textField', 'validation'),\n      }),\n      Field.schema.extend('calculation', {\n        ...i18nConf('textField', 'calculation'),\n      }),\n    ],\n  },\n})\n", "import CheckboxField from './checkbox'\nimport MultilineTextField from './multiline-text'\nimport MultipleSelectField from './multiple-select'\nimport NumberField from './number'\nimport RadioField from './radio'\nimport SingleSelectField from './single-select'\nimport TextField from './text'\n\n\n\nexport default [\n  TextField,\n  MultilineTextField,\n  NumberField,\n  SingleSelectField,\n  MultipleSelectField,\n  RadioField,\n  CheckboxField,\n]\n", "export default {\n  type: 'Subform',\n  group: 'FieldsetChild',\n}\n", "import Subform from './subform'\n\n\n\nSubform.collect = function(subform) {\n  let subformState = this.get({ id: subform.id }, { include: 'raw' })\n  let [subformValues, subformRawValues] = [[], []]\n  let [subformChildren, subformRawChildren] = [[], []];\n  (this.family.descendant(subform) || []).forEach((fieldset, fieldsetIndex) => {\n    let [fieldsetValue, fieldsetRawValue] = [{}, {}];\n    (this.family.descendant(fieldset) || []).forEach((field) => {\n      let fieldState = this.collect({ id: field.id }, { errors: false })\n      fieldsetValue[fieldState.values.name] = fieldState.values.value\n      fieldsetRawValue[fieldState.values.name] = fieldState.raw.values.value\n      if (fieldsetIndex !== 0) { return }\n      delete fieldState.values.value\n      delete fieldState.raw.values.value\n      subformChildren.push(fieldState.values)\n      subformRawChildren.push(fieldState.raw.values)\n    })\n    subformValues.push(fieldsetValue)\n    subformRawValues.push(fieldsetRawValue)\n  })\n  subformState.values.value = subformValues\n  subformState.raw.values.value = subformRawValues\n  subformState.values.children = subformChildren\n  subformState.raw.values.children = subformRawChildren\n  return subformState\n}\n", "import Reactive from '../../../reactive'\nimport Subform from './subform'\n\n\n\nSubform.hooks = [\n  Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: 'Fieldset' }),\n  Reactive.hooks.use('ENABLE_SCHEMA_DEFAULT'),\n  Reactive.hooks.use('ENABLE_SCHEMA_VALIDATION'),\n]\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: 'Name',\n      },\n      label: {\n        label: 'Label',\n        default: 'Subform',\n      },\n      editable: {\n        label: 'If Editable',\n      },\n      visible: {\n        label: 'If Visible',\n      },\n    }\n  },\n  fieldSizeIsInvalid: 'Each subform must contain one field at least.',\n}\n", "export default {\n  schema: {\n    props: {\n      name: {\n        label: '\u5B50\u8868\u5355Name',\n      },\n      label: {\n        label: '\u5B50\u8868\u5355\u6807\u9898',\n        default: '\u5B50\u8868\u5355',\n      },\n      editable: {\n        label: '\u662F\u5426\u53EF\u7F16\u8F91',\n      },\n      visible: {\n        label: '\u662F\u5426\u53EF\u89C1',\n      },\n    }\n  },\n  fieldSizeIsInvalid: '\u5B50\u8868\u5355\u81F3\u5C11\u8981\u5305\u542B\u4E00\u4E2A\u8F93\u5165\u9879\u3002',\n}\n", "import { i18n } from '../../../i18n'\nimport EN from './en'\nimport ZH from './zh'\n\n\n\ni18n.define({\n  en: { form: { subform: EN } },\n  zh: { form: { subform: ZH } },\n})\n\n\n\nexport default i18n\n", "import i18n from '../locales'\nimport Reactive from '../../../reactive'\nimport Subform from './subform'\n\n\n\nSubform.schema = {\n  fallback: {\n    prop: () => Reactive.guid(),\n    label: '',\n    default: null,\n    schemable: false,\n    calculable: false,\n    validation: null,\n    placeholder: () => i18n.t('form.subform.schema.fallback.placeholder'),\n    hint:  () => i18n.t('form.subform.schema.fallback.hint'),\n  },\n  props: [{\n    prop: 'name',\n    validation: [{ dataType: 'String' }],\n    label: () => i18n.t('form.subform.schema.props.name.label'),\n    placeholder: () => i18n.t('form.subform.schema.props.name.placeholder'),\n    hint: () => i18n.t('form.subform.schema.props.name.hint'),\n  }, {\n    prop: 'label',\n    schemable: false,\n    calculable: false,\n    validation: [{ presence: true }, { dataType: 'String' }],\n    default: () => i18n.t('form.subform.schema.props.label.default'),\n    label: () => i18n.t('form.subform.schema.props.label.label'),\n    placeholder: () => i18n.t('form.subform.schema.props.label.placeholder'),\n    hint: () => i18n.t('form.subform.schema.props.label.hint'),\n  }, {\n    prop: 'editable',\n    default: true,\n    schemable: true,\n    calculable: true,\n    validation: [{ presence: true }, { dataType: 'Boolean' }],\n    label: () => i18n.t('form.subform.schema.props.editable.label'),\n    placeholder: () => i18n.t('form.subform.schema.props.editable.placeholder'),\n    hint: () => i18n.t('form.subform.schema.props.editable.hint'),\n  }, {\n    prop: 'visible',\n    default: true,\n    schemable: true,\n    validation: [{ presence: true }, { dataType: 'Boolean' }],\n    label: () => i18n.t('form.subform.schema.props.visible.label'),\n    placeholder: () => i18n.t('form.subform.schema.props.visible.placeholder'),\n    hint: () => i18n.t('form.subform.schema.props.visible.hint'),\n  }],\n}\n", "import { is } from '../../../base/type'\nimport Subform from './subform'\n\n\n\nSubform.seed = function(subform, props) {\n  let children = props.children || []\n  let value = props.value || []\n  !value.length && value.push({})\n  let createFieldsets = value.map(() => {\n    let [id, type] = [this.guid(), 'SubformFieldset']\n    return { action: 'add', parentId: subform.id, id, props: { type } }\n  })\n  let seedSubform = Object.keys(props).map((prop) => {\n    if (['children', 'value'].includes(prop)) { return }\n    return { action: 'set', id: subform.id, prop, value: props[prop] }\n  }).filter((i) => i)\n  let seedFields = createFieldsets.map((mu, index) => {\n    children = children.map((chd, chdOrder) => {\n      let hasChdVal = is.object(value[index]) && chd.name in value[index]\n      let chdValue =  hasChdVal ? value[index][chd.name] : null\n      return { ...chd, order: chdOrder, value: chdValue }\n    })\n    return this.seed({ id: mu.id }, { children }, { execute: false })\n  }).flat()\n  return createFieldsets.concat(seedSubform, seedFields).map((mutation) => {\n    return { ...mutation, __syncSubformField__: true }\n  })\n}\n", "export default {\n  type: 'SubformFieldset',\n  group: 'SubformChild',\n}\n", "import Reactive from '../../../reactive'\nimport SubformFieldset from './fieldset'\n\n\n\nSubformFieldset.hooks = [\n  Reactive.hooks.use('BLOCK_INVALID_PARENT', { accept: 'Subform' }),\n]\n", "class SubformField {\n\n  static TYPE_PREFIX = 'Subform'\n  static LABEL_PREFIX = 'Subform '\n  static PARENT_TYPE = 'SubformFieldset'\n  static GROUP_NAMES = {\n    SubformField: 'SubformField',\n    SubformFieldsetChild: 'SubformFieldsetChild',\n  }\n\n  static exceptions = {\n    INVALID_PARENT: 'SUBFORM_FIELD_INVALID_PARENT',\n    INVALID_FIELD_INSTALLER: 'SUBFORM_FIELD_INVALID_FIELD_INSTALLER',\n    INVALID_FIELD_SIZE: 'SUBFORM_FIELD_INVALID_FIELD_SIZE',\n  }\n\n}\n\n\n\nexport { SubformField, SubformField as default }\n", "import SubformFieldset from '../../fieldset'\n\n\n\nconst HOOKS = [{\n  hook: 'before-add',\n  handler(member) {\n    let { parentId, props, __syncSubformField__ } = member\n    if (__syncSubformField__) { return }\n    let mutations = [{ ...member, action: 'add', __syncSubformField__: true }]\n    let fieldsetSiblings = this.family.sibling({ id: parentId }) || []\n    mutations = mutations.concat(fieldsetSiblings.map((fieldset) => ({\n      action: 'add', __syncSubformField__: true,\n      parentId: fieldset.id, id: this.guid(), props,\n    })))\n    this.executor.run(mutations)\n    return false\n  },\n}, {\n  hook: 'before-del',\n  handler(member) {\n    let { id, __syncSubformField__ } = member\n    if (__syncSubformField__) { return }\n    let mutations = [{ ...member, action: 'del', __syncSubformField__: true }]\n    let siblings = this.family.sibling({ id }, { self: true })\n    let position = siblings.findIndex((i) => i.id === id)\n    let fieldset = this.family.ancestor({ id })\n    let fieldsetSiblings = this.family.sibling(fieldset) || []\n    mutations = mutations.concat(fieldsetSiblings.map((fieldset) => ({\n      action: 'del', __syncSubformField__: true,\n      id: this.family.descendant(fieldset)[position].id,\n    })))\n    this.executor.run(mutations)\n    return false\n  },\n}, {\n  hook: 'before-set',\n  handler(member) {\n    let { id, prop, value, __syncSubformField__ } = member\n    if (__syncSubformField__) { return }\n    if (prop === 'value') { return }\n    let mutations = [{ ...member, action: 'set', __syncSubformField__: true }]\n    let siblings = this.family.sibling({ id }, { self: true })\n    let position = siblings.findIndex((i) => i.id === id)\n    let fieldset = this.family.ancestor({ id })\n    let fieldsetSiblings = this.family.sibling(fieldset) || []\n    mutations = mutations.concat(fieldsetSiblings.map((fieldset) => ({\n      action: 'set', __syncSubformField__: true,\n      id: this.family.descendant(fieldset)[position].id, prop, value,\n    })))\n    this.executor.run(mutations)\n    return false\n  },\n}, {\n  scope: SubformFieldset.type,\n  hook: 'after-add',\n  handler(member) {\n    let { id, props } = member\n    let siblings = this.family.sibling({ id })\n    if (!siblings) { return }\n    let children = this.collect({ id: siblings[0].id }).raw.values.children\n    if (!children.length) { return }\n    let mutations = children.map((chd, order) => {\n      let chdProps = (props?.children || [])[order] || {}\n      let chdValue = 'value' in chdProps ? chdProps.value : null\n      return {\n        action: 'add', __syncSubformField__: true, parentId: id,\n        id: this.guid(), props: { ...chd, order, value: chdValue },\n      }\n    })\n    this.executor.run(mutations)\n  },\n}]\n\n\n\nexport default HOOKS\n", "import { object } from '../../../../base/struct'\nimport SubformFieldset from '../../fieldset'\nimport Subform from '../../subform'\n\n\n\nconst HOOKS = [{\n  hook: 'after-add',\n  handler(member) {\n    let { id } = member\n    let { family, dependency, schema } = this\n    let schemas = schema.for({ id })\n    if (!schemas.find((s) => s.prop === 'value')) { return }\n    let fieldset = family.ancestor({ id })\n    let subform = family.ancestor(fieldset)\n    let relier = { id: subform.id, prop: 'value' }\n    dependency.add({ relier, provider: { id, prop: 'name' } })\n    dependency.add({ relier, provider: { id, prop: 'value' } })\n  },\n}, {\n  scope: SubformFieldset.type,\n  hook: 'after-add',\n  handler(member) {\n    let { id } = member\n    let { family, dependency } = this\n    let subform = family.ancestor({ id })\n    let relier = { id: subform.id, prop: 'value' }\n    dependency.add({ relier, provider: { id, prop: 'order' } })\n  },\n}, {\n  scope: Subform.type,\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (prop !== 'value') { return }\n    let { family } = this\n    let value = (family.descendant({ id }) || []).map((fieldset) => {\n      return object.from((family.descendant(fieldset) || []).map((field) => {\n        let name = this.get({ id: field.id, prop: 'name' })\n        let value = this.get({ id: field.id, prop: 'value' })\n        return [name, value]\n      }))\n    })\n    let [store, naming] = [this.members[id], this.naming(prop)]\n    store[naming.prop] = store[naming.raw.prop] = value\n  },\n}]\n\n\n\nexport default HOOKS\n", "import { isnt } from '../../../../base/type'\nimport { Exception } from '../../../../base/exception'\nimport i18n from '../../locales'\nimport Subform from '../../subform'\nimport SubformField from '../field'\n\n\n\nconst HOOKS = [{\n  scope: Subform.type,\n  hook: 'after-add',\n  handler(member) {\n    let [id, prop] = [member.id, 'value']\n    let [store, naming] = [this.members[id], this.naming(prop)]\n    let { error } = this.get({ id, prop }, { include: 'error' })\n    store[naming.error] = addBlankValueError(error)\n  },\n}, {\n  scope: Subform.type,\n  hook: 'after-calc',\n  handler(member) {\n    let { id, prop } = member\n    if (prop !== 'value') { return }\n    let errorType = SubformField.exceptions.INVALID_FIELD_SIZE\n    let { error } = this.get({ id, prop }, { include: ['error'] })\n    if (hasError(error, { except: [errorType] })) {\n      let message = `Skipping checking subform*Field exists of member ${id},`\n          message += ' since previous errors exist.'\n      return console.warn(message, error)\n    }\n    let value = this.get({ id, prop })\n    let [store, naming] = [this.members[id], this.naming(prop)]\n    let hasNoField = !value || !value.length || !Object.keys(value[0]).length\n    error = hasNoField ? addBlankValueError(error) : delBlankValueError(error)\n    store[naming.error] = error\n  },\n}]\n\nfunction addBlankValueError(error) {\n  let errors = error || []\n  let errorType = SubformField.exceptions.INVALID_FIELD_SIZE\n  isnt.array(errors) && (errors = [errors])\n  !hasError(errors, { include: [errorType] }) && errors.push(Exception.create({\n    type: errorType, message: i18n.t('form.subform.fieldSizeIsInvalid'),\n  }))\n  return errors\n}\n\nfunction delBlankValueError(error) {\n  if (!error || !error.length) { return null }\n  isnt.array(errors) && (errors = [errors])\n  let errorType = SubformField.exceptions.INVALID_FIELD_SIZE\n  errors = errors.filter((e) => e.type === errorType)\n  return errors.length ? errors : null\n}\n\nfunction hasError(errors, options = {}) {\n  if (!errors || !errors.length) { return false }\n  isnt.array(errors) && (errors = [errors])\n  let { include, except } = options\n  if (include) { return errors.some((e) => include.includes(e.type)) }\n  if (except) { return errors.some((e) => !except.includes(e.type)) }\n  return true\n}\n\n\n\nexport default HOOKS\n", "import { is } from '../../../base/type'\nimport raise from '../../../base/exception'\nimport Reactive from '../../../reactive'\nimport Field from '../../field'\nimport SubformField from './field'\nimport HOOK_BATCH_PERSIST_STATE from './helpers/hook-batch-persist-state'\nimport HOOK_CALC_SUBFORM_VALUE from './helpers/hook-calc-subform-value'\nimport HOOK_ENSURE_SUBFORM_VALUE from './helpers/hook-ensure-subform-value'\n\n\n\nSubformField.generate = function(installer = {}) {\n  let { type, hooks, group } = installer\n  group = !group ? [] : (is.array(group) ? group.slice() : [group])\n  !group.includes(Field.GROUP_NAMES.Field) && raise({\n    type: SubformField.exceptions.INVALID_FIELD_INSTALLER,\n    message: `SubformField.generate only accepts field installer\n             to generate a subform field installer.`,\n  })\n  let invalidGroups = Object.values(Field.GROUP_NAMES)\n  group = group.filter((g) => !invalidGroups.includes(g))\n  Object.values(SubformField.GROUP_NAMES).forEach((g) => {\n    !group.includes(g) && group.push(g)\n  })\n  type = SubformField.TYPE_PREFIX + type\n  hooks = !hooks ? [] : hooks.slice()\n  let hName = 'BLOCK_INVALID_PARENT'\n  let oldHook = Reactive.hooks.use(hName, { accept: Field.PARENT_TYPE })\n  let newHook = Reactive.hooks.use(hName, { accept: SubformField.PARENT_TYPE })\n  let index = hooks.indexOf(oldHook)\n  index > -1 && (hooks[index] = newHook)\n  hooks = hooks.concat(\n    HOOK_BATCH_PERSIST_STATE,\n    HOOK_CALC_SUBFORM_VALUE,\n    HOOK_ENSURE_SUBFORM_VALUE,\n  )\n  return { ...installer, type, hooks, group }\n}\n", "import Reactive from '../reactive'\nimport I18n from '../i18n'\nimport Field from './field'\n\n\n\nclass Form {\n\n  static MEMBERS = []\n\n  static Field = Field\n\n  constructor() {\n    this.i18n = I18n.create()\n    this.reactive = Reactive({ i18n: this.i18n })\n    Form.MEMBERS.forEach((m) => this.reactive.install(m))\n  }\n\n  static create(...args) { return new Form(...args) }\n\n}\n\n\n\nexport { Form, Form as default }\n", "import Form from './form'\n\n\n\nForm.group = function(group = '') {\n  let members = Form.MEMBERS.filter((m) => {\n    return group ? m.group.includes(group) : !m.group.length\n  })\n  return members.length ? members : null\n}\n", "import { mustbe, isnt } from '../base/type'\nimport Form from './form'\nimport Field from './field'\nimport { SubformField } from './subform'\n\n\n\n// [TODO] options.force & options.merge\nForm.install = function(installer = {}) {\n  isnt.array(installer) && (installer = [installer])\n  installer.forEach((i) => {\n    let { type, group, providers, validators } = { ...i }\n    group = 'group' in i ? group : []\n    isnt.array(group) && (group = [group])\n    mustbe.nonblankString(type, 'Form Member \"Type\"')\n    providers && mustbe.function(providers, 'Form Member \"providers\"')\n    validators && mustbe.function(validators, 'Form Member \"validators\"')\n    group.forEach((g) => mustbe.nonblankString(g, 'Form Member \"group\"'))\n    Form.MEMBERS.push({ ...i, group })\n    if (!group.includes(Field.GROUP_NAMES.Field)) { return }\n    Form.MEMBERS.push(SubformField.generate(i))\n  })\n}\n", "import Form from './form'\nimport Fieldset from './fieldset'\n\n\n\n// [TODO] Extract to UI?\nForm.providers = function(reactive, member = {}, options = {}) {\n  let { id, prop } = member\n  let referenceable = []\n  let type = reactive.get({ id, prop: 'type' })\n  let customProviders = Form.MEMBERS.find((m) => m.type === type)?.providers\n  if (customProviders) {\n    return customProviders.call(reactive, { id, prop }, options)\n  }\n  Object.keys(reactive.members).forEach((memberId) => {\n    if (memberId === id) { return }\n    let memberParent = reactive.family.ancestor({ id: memberId })\n    if (!memberParent) { return }\n    let memberParentType = reactive.get({ id: memberParent.id, prop: 'type' })\n    if (memberParentType !== Fieldset.type) { return }\n    let hasValue = reactive.naming('value').prop in reactive.members[memberId]\n    if (!hasValue) { return }\n    referenceable.push({ id: memberId, prop: 'value' })\n  })\n  if (!referenceable.length) { return null }\n  let reliers = reactive.dependency.reliers({ id, prop })\n  if (!reliers) { return referenceable }\n  let providers = referenceable.filter((p) => {\n    return !reliers.some((r) => p.id === r.id && p.prop === r.prop)\n  })\n  return providers.length ? providers : null\n}\n", "import Form from './form'\n\n\n\nForm.uninstall = function(type = '') {\n  if (!type) { return }\n  Form.MEMBERS = Form.MEMBERS.filter((m) => m.type !== type)\n}\n", "import { isnt } from '../base/type'\nimport Form from './form'\n\n\n\n// [TODO] Extract to UI?\nForm.validators = function(reactive, member = {}, options = {}) {\n  let { id, prop } = member\n  prop = 'value'\n  let type = reactive.get({ id, prop: 'type' })\n  let customValidators = Form.MEMBERS.find((i) => i.type === type)?.validators\n  if (customValidators) {\n    return customValidators.call(reactive, { id, prop }, options)\n  }\n  let validation = reactive.schema.for({ id, prop }).validation || []\n  isnt.array(validation) && (validation = [validation])\n  let typeRule = validation.find((v) => 'dataType' in v)\n  if (!typeRule) { return [reactive.validator.get('presence')] }\n  return reactive.validator.for(typeRule.dataType, { except: 'dataType' })\n}\n", "import Fieldset from './fieldset'\nimport { FIELDS } from './field'\nimport { Subform, SubformFieldset } from './subform'\nimport Form from './form'\nimport './group'\nimport './install'\nimport './providers'\nimport './uninstall'\nimport './validators'\n\n\n\nForm.install(Fieldset)\nForm.install(Subform)\nForm.install(SubformFieldset)\nForm.install(FIELDS)\n\n\n\nexport { Form, Form as default }\n"],
  "mappings": ";;;;mnBAAA,yKCAA,oBAAwB,MAAM,CAM5B,YAAY,EAAU,GAAI,CACxB,MAAO,IAAY,UAAa,GAAU,CAAE,KAAM,IAClD,GAAI,CAAE,OAAM,UAAS,QAAS,EAC9B,MAAM,GAGN,GAFA,KAAK,KAAO,KAAK,KAAO,EACxB,KAAK,KAAO,GAAQ,GAChB,MAAO,MAAK,MAAS,UAAY,MAAM,QAAQ,KAAK,MACtD,KAAM,IAAI,OAAM,uDAIb,WAAU,EAAM,CACrB,MAAO,IAAI,IAAU,GAAG,SAGnB,UAAS,EAAM,CACpB,KAAM,IAAI,IAAU,GAAG,SAGlB,aAAY,EAAK,CAAE,MAAO,aAAe,UAEzC,eAAc,EAAK,CAAE,MAAO,CAAC,GAAU,YAAY,SAEnD,iBAAgB,EAAK,EAAM,GAAI,CACpC,GAAU,cAAc,IAAQ,GAAU,MAAM,CAC9C,KAAM,GAAU,WAAW,iBAC3B,QAAS,GAAO,kCAhCtB,KAES,EAFT,EAES,aAAa,CAClB,iBAAkB,+BAmCtB,GAAM,GAAQ,EAAU,MCtCxB,GAAI,IAAM,EAIV,YAAgB,CACd,MAAO,GAAG,KAAK,QAAQ,IAAO,ICDhC,GAAM,GAAO,CAEX,SAAU,IACV,eAAgB,CACd,SAAU,SAAU,UAAW,QAAS,SAAU,SAAU,WAC5D,OAAQ,YAAa,MAAO,UAAW,SAAU,OAAQ,OAAQ,WAEnE,WAAY,CACV,kBAAmB,0BAGrB,IAAI,EAAK,CACP,GAAI,GAAU,oBAEd,MAAO,AADO,QAAO,UAAU,SAAS,KAAK,GAC9B,MAAM,GAAS,IAGhC,OAAO,EAAU,GAAI,CACnB,GAAI,CAAE,OAAM,SAAU,EAItB,MAHA,CAAC,MAAM,QAAQ,IAAU,GAAO,CAAC,IACjC,CAAC,MAAM,QAAQ,IAAW,GAAQ,CAAC,IAC/B,EAAK,SAAS,EAAK,WACnB,EAAM,SAAS,EAAK,UAAoB,GACrC,CAAC,EAAK,KAAK,AAAC,GAAM,CAAC,EAAM,SAAS,KAG3C,WAAW,EAAU,GAAI,EAAM,GAAI,CACjC,CAAC,EAAK,OAAO,IAAY,EAAM,CAC7B,KAAM,EAAK,WAAW,kBACtB,QAAS,GAAO,aAAa,EAAQ,qBAAqB,EAAQ,YAQlE,EAAK,EAAK,GAAK,CAEnB,KAAK,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,QACrC,UAAU,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,aAC1C,OAAO,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,UACvC,QAAQ,EAAK,CAAE,MAAO,QAAO,UAAU,IACvC,OAAO,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,UACvC,QAAQ,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,WACxC,MAAM,EAAK,CAAE,MAAO,OAAM,QAAQ,IAClC,OAAO,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,UACvC,OAAO,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,UACvC,SAAS,EAAK,CAAE,MAAO,GAAK,IAAI,KAAS,YAEzC,gBAAgB,EAAK,CAAE,MAAO,GAAG,QAAQ,IAAQ,EAAM,GACvD,gBAAgB,EAAK,CAAE,MAAO,GAAG,QAAQ,IAAQ,EAAM,GAEvD,WAAW,EAAK,CAAE,MAAO,GAAG,MAAM,IAAQ,EAAI,SAAW,GACzD,YAAY,EAAK,CAAE,MAAO,GAAG,OAAO,IAAQ,CAAC,CAAC,EAAI,MAAM,UACxD,YAAY,EAAK,CAAE,MAAO,GAAG,OAAO,IAAQ,OAAO,KAAK,GAAK,SAAW,GACxE,cAAc,EAAK,CAAE,MAAO,GAAG,MAAM,IAAQ,EAAI,OAAS,GAC1D,eAAe,EAAK,CAAE,MAAO,GAAG,OAAO,IAAQ,CAAC,CAAC,EAAI,MAAM,OAC3D,eAAe,EAAK,CAAE,MAAO,GAAG,OAAO,IAAQ,OAAO,KAAK,GAAK,OAAS,GAEzE,WAAW,EAAK,CACd,MAAI,KAAQ,EAAK,SAAmB,GAC7B,EAAK,eAAe,SAAS,IAGtC,UAAU,EAAK,CACb,MAAK,GAAG,cAAc,GACf,EAAI,MAAM,AAAC,GACZ,IAAM,EAAK,SAAmB,GAC3B,EAAK,OAAO,CAAE,KAAM,EAAG,MAAO,EAAK,kBAHP,IAOvC,KAAK,EAAK,CAAE,MAAO,GAAG,WAAW,IAAQ,EAAG,UAAU,IAEtD,MAAM,EAAK,CAIT,MAHI,IAAC,KAAM,OAAW,KAAK,SAAS,IAChC,EAAG,YAAY,IACf,EAAG,WAAW,IACd,EAAG,YAAY,MAQjB,EAAO,EAAK,KAAQ,KAAM,CAC9B,GAAI,GAAO,GACX,cAAO,KAAK,GAAI,QAAQ,AAAC,GAAa,CACpC,EAAK,GAAY,SAAS,EAAK,CAAE,MAAO,CAAC,EAAG,GAAU,MAEjD,MAKH,EAAS,EAAK,OAAU,KAAM,CAClC,GAAI,GAAO,GACX,cAAO,KAAK,GAAM,QAAQ,AAAC,GAAa,CACtC,EAAK,GAAY,SAAS,EAAK,EAAS,eAAgB,CACtD,GAAI,GAAM,EAAG,OAAO,GAAU,EAAO,QAAU,GAC/C,EAAK,GAAU,IAAQ,EAAM,CAC3B,KAAM,EAAK,WAAW,kBACtB,QAAS,GAAO,GAAG,cAAmB,EAAS,sBAI9C,MAKH,GAAU,EAAK,QAAW,KAAM,CACpC,GAAI,GAAO,GACX,cAAO,KAAK,GAAI,QAAQ,AAAC,GAAa,CACpC,EAAK,GAAY,SAAS,EAAK,EAAS,eAAgB,CACtD,GAAI,GAAM,EAAG,OAAO,GAAU,EAAO,QAAU,GAC/C,EAAG,GAAU,IAAQ,EAAM,CACzB,KAAM,EAAK,WAAW,kBACtB,QAAS,GAAO,GAAG,kBAAuB,EAAS,sBAIlD,MC5HT,GAAM,IAAS,GAIT,GAAU,GAAO,MAAQ,CAE7B,OAAO,EAAM,GAAI,CACf,MAAO,GAAI,OAAO,CAAC,EAAG,IAAM,EAAI,QAAQ,KAAO,KAO7C,EAAW,GAAO,OAAS,CAE/B,KAAK,EAAM,GAAI,CACb,EAAO,MAAM,GACb,GAAI,GAAM,GACV,SAAI,QAAQ,AAAC,GAAM,EAAI,EAAE,IAAM,EAAE,IAC1B,GAGT,QAAQ,EAAM,GAAI,EAAQ,GAAI,CAC5B,EAAO,OAAO,GACd,EAAO,MAAM,GACb,GAAI,GAAY,GAChB,cAAO,KAAK,GAAK,QAAQ,AAAC,GAAQ,CAChC,EAAM,SAAS,IAAS,GAAU,GAAO,EAAI,MAExC,GAGT,QAAQ,EAAM,GAAI,EAAQ,GAAI,CAC5B,EAAO,OAAO,GACd,EAAO,MAAM,GACb,GAAI,GAAY,GAChB,cAAO,KAAK,GAAK,QAAQ,AAAC,GAAQ,CAChC,CAAC,EAAM,SAAS,IAAS,GAAU,GAAO,EAAI,MAEzC,IAOL,GAAW,GAAO,OAAS,CAE/B,WAAW,EAAM,GAAI,CACnB,MAAO,GAAI,QAAQ,QAAS,GAAK,EAAE,gBAIrC,SAAS,EAAM,GAAI,CACjB,GAAI,GAAU,SACV,EAAW,AAAC,GAAM,IAAI,EAAE,gBAC5B,MAAO,GAAI,GAAG,cAAgB,EAAI,MAAM,GAAG,QAAQ,EAAS,KC7DhE,GAAO,IAAQ,CACb,KAAM,MACN,aAAc,CAAC,EAAG,KAClB,aAAc,SACd,aAAc,EAAM,CAClB,MAAO,GAAK,OAAO,CAAC,EAAK,IAAQ,EAAM,KCL3C,GAAO,IAAQ,CACb,KAAM,SACN,aAAc,CAAC,EAAG,KAClB,aAAc,SACd,aAAc,EAAM,CAClB,MAAO,GAAK,OAAO,CAAC,EAAK,IAAQ,EAAM,KCL3C,GAAO,IAAQ,CACb,KAAM,MACN,aAAc,EACd,aAAc,IACd,UAAW,EAAK,CAAE,MAAO,KCJ3B,GAAO,IAAQ,CACb,KAAM,QACN,aAAc,CAAC,EAAG,KAClB,aAAc,SACd,aAAc,EAAM,CAClB,MAAO,GAAK,OAAO,CAAC,EAAK,IAAQ,EAAM,KCL3C,GAAO,IAAQ,CACb,KAAM,WACN,aAAc,CAAC,EAAG,KAClB,aAAc,SACd,aAAc,EAAM,CAClB,MAAO,GAAK,OAAO,CAAC,EAAK,IAAQ,EAAM,KCG3C,GAAO,IAAQ,CACb,GACA,GACA,GACA,GACA,ICba,YAAe,EAAa,GAAI,EAAU,GAAI,CAC3D,MAAO,GAAW,aAAgB,GAAW,YAAc,KAAK,ICIlE,YAAiB,CASf,aAAc,CACZ,GAAM,KAAM,CAAE,UAAW,KACzB,GAAY,QAAQ,AAAC,GAAM,KAAK,QAAQ,UAGnC,WAAU,EAAM,CAAE,MAAO,IAAI,IAAW,GAAG,KAdpD,KAES,EAFT,EAES,aAAa,CAClB,gBAAiB,6BACjB,wBAAyB,qCACzB,sBAAuB,mCACvB,sBAAuB,qCCPZ,YAA4B,EAAc,GAAI,CAC3D,GAAI,GAAO,OAAO,KAAK,GAAa,GAChC,EAAO,EAAY,GACvB,SAAK,MAAM,IAAU,GAAO,CAAC,IACtB,CAAE,OAAM,QCRF,YAAwB,EAAM,EAAS,CACpD,MAAO,GAAK,QAAU,EAAQ,ICGjB,YAAwB,EAAO,GAAI,EAAa,CAC7D,MAAO,CAAC,EAAK,KAAK,CAAC,EAAK,IAAU,CAChC,GAAI,GAAQ,EACZ,SAAK,KAAK,IAAW,GAAQ,EAAM,IAAU,EAAM,EAAM,OAAS,IAC3D,CAAC,EAAK,OAAO,CAAE,KAAM,EAAK,IAAI,GAAM,YCA/C,EAAW,UAAU,gBAAkB,SAAS,EAAc,GAAI,EAAO,GAAI,CAC3E,EAAO,OAAO,EAAa,sBAC3B,GAAI,GAAS,UAAY,GAAO,EAAK,OAAS,GAC1C,CAAE,OAAM,QAAS,GAAmB,GACpC,CAAE,aAAc,GAAM,MAK1B,AAJA,CAAC,EAAU,IAAS,EAAM,CACxB,KAAM,EAAW,WAAW,wBAC5B,QAAS,2BAA2B,QAElC,EAAC,GACL,EAAK,QAAQ,AAAC,GAAQ,EAAG,OAAO,IAAQ,KAAK,gBAAgB,EAAK,KCbpE,EAAW,UAAU,YAAc,SAAS,EAAc,GAAI,EAAU,GAAI,CAC1E,GAAI,CAAE,KAAK,gBAAgB,EAAa,SAAkB,EAAP,CAAY,MAAO,GACtE,MAAO,ICFT,EAAW,UAAU,cAAgB,SAAS,EAAc,GAAI,EAAU,GAAI,CAC5E,MAAO,CAAC,KAAK,YAAY,EAAa,ICIxC,EAAW,UAAU,UAAY,SAAS,EAAc,GAAI,CAC1D,GAAI,KAAK,cAAc,GAAgB,MAAO,MAC9C,GAAI,CAAE,aAAc,GAAM,MACtB,CAAE,OAAM,QAAS,GAAmB,GACpC,CAAE,eAAc,eAAc,aAAc,EAAU,GAK1D,MAJI,CAAC,GAAe,EAAM,IAC1B,GAAO,EAAK,MAAM,EAAG,EAAa,KAAK,IAAI,AAAC,GACnC,KAAK,YAAY,GAAO,KAAK,UAAU,GAAO,GAEnD,CAAC,GAAe,EAAM,IAAwB,KAC3C,EAAU,GAAG,IChBP,YAAwB,EAAK,CAC1C,MAAI,KAAQ,IAAmB,GAC3B,EAAG,gBAAgB,GAAe,GAClC,CAAC,EAAG,cAAc,IAClB,EAAI,SAAW,GACf,CAAC,EAAG,gBAAgB,EAAI,IAAc,GACtC,EAAI,KAAO,IAAmB,GAC3B,EAAI,GAAK,EAAI,GCPP,YAAwB,EAAM,CAC3C,MAAI,GAAG,KAAK,GAAgB,GACxB,EAAK,cAAc,GAAgB,GAChC,EAAK,MAAM,AAAC,GAAS,EAAG,UAAU,ICH5B,YAAwB,EAAS,CAC9C,MAAO,CACL,IAAK,EAAG,QAAQ,GAAW,EAAU,EAAQ,GAC7C,IAAK,EAAG,QAAQ,GAAW,EAAU,EAAQ,ICuCjD,EAAW,UAAU,QAAU,SAAS,EAAY,GAAI,CACtD,EAAO,OAAO,EAAW,wBACzB,GAAI,CAAE,OAAM,eAAc,eAAc,aAAc,EACtD,EAAO,eAAe,EAAM,+BAC5B,EAAO,SAAS,EAAW,oCAC3B,CAAC,GAAe,IAAiB,EAAM,CACrC,KAAM,EAAW,WAAW,sBAC5B,QAAS,iDAEX,CAAC,GAAe,IAAiB,EAAM,CACrC,KAAM,EAAW,WAAW,sBAC5B,QAAS,iDAEX,GAAI,CAAE,aAAc,GAAM,MAC1B,IAAQ,IAAa,EAAM,CACzB,KAAM,EAAW,WAAW,gBAC5B,QAAS,+BAA+B,QAE1C,EAAU,GAAQ,OACb,GADa,CAEhB,OAAM,eAAc,YACpB,aAAc,GAAe,MC9DjC,EAAW,UAAU,UAAY,SAAS,EAAO,GAAI,CACnD,GAAI,CAAE,aAAc,GAAM,MAC1B,AAAI,IAAQ,IAAa,MAAO,GAAU,ICP7B,WAAe,EAAS,GAAI,EAAU,GAAI,CACvD,MAAO,GAAO,SAAY,GAAO,QAAU,KAAK,ICKlD,YAAa,CASX,aAAc,CACZ,GAAM,GAAS,IACf,EAAM,KAAM,CACV,SACA,QAAS,EAAG,GAAS,CAAE,GAAI,EAAQ,SAAU,KAAM,MAAO,YAIvD,WAAU,EAAM,CAAE,MAAO,IAAI,IAAO,GAAG,SAEvC,UAAS,EAAK,CAAE,MAAO,aAAe,UAEtC,YAAW,EAAK,CAAE,MAAO,CAAC,GAAO,SAAS,SAE1C,cAAa,EAAK,EAAM,GAAI,CACjC,GAAO,WAAW,IAAQ,EAAM,CAC9B,KAAM,GAAO,WAAW,iBACxB,QAAS,GAAO,+BA1BtB,KAES,EAFT,EAES,aAAa,CAClB,iBAAkB,0BAClB,kBAAmB,kCACnB,eAAgB,+BAChB,iBAAkB,4BCZtB,YAAsB,EAAU,GAAI,EAAW,GAAI,CACjD,EAAW,EAAS,KAAK,CAAC,EAAG,IACrB,SAAW,GACX,SAAW,GACV,EAAE,MAAQ,EAAE,MADW,GADA,GAIhC,GAAI,GAAS,EAAS,KAAK,AAAC,GAAQ,iBAAmB,IACvD,GAAI,EAAQ,CACV,GAAI,CAAC,EAAO,GAAY,CAAC,EAAS,QAAQ,GAAS,EAAO,eAC1D,EAAS,OAAO,EAAO,GACvB,AAAI,EAAW,EACb,EAAS,QAAQ,GACZ,AAAI,EAAW,EAAS,OAAS,EACtC,EAAS,KAAK,GAEd,EAAS,OAAO,EAAU,EAAG,GAGjC,SAAS,QAAQ,CAAC,EAAK,IAAU,CAC/B,MAAO,GAAQ,EAAI,IAAI,cACvB,EAAQ,EAAI,IAAI,MAAQ,IAEnB,EChBT,EAAO,UAAU,WAAa,SAAS,EAAS,GAAI,EAAU,GAAI,CAChE,GAAI,CAAE,SAAQ,WAAY,EAAM,MAC5B,EAAK,EAAO,IAAM,EAClB,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC1C,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC1C,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC9C,GAAI,CAAC,EAAQ,GAAO,MAAO,MAC3B,GAAI,CAAC,EAAa,GAAS,CAAC,CAAC,KAAK,EAAQ,KAAQ,IAClD,KAAO,EAAG,EAAQ,EAAY,QAAQ,CACpC,GAAI,CAAC,EAAQ,GAAY,CAAC,EAAY,GAAQ,IAS9C,GARA,OAAO,OAAO,GAAS,QAAQ,AAAC,GAAW,CACzC,AAAI,EAAO,KAAO,GAClB,EAAO,WAAa,EAAO,IAAM,EAAS,KAAK,KAAK,MAElD,EAAS,QACX,IAAS,GAAW,GAAa,EAAS,IAC1C,EAAc,EAAY,OAAO,IAE/B,CAAC,EAAQ,MAEf,MAAK,IAAQ,EAAY,QAClB,EAAY,OAAS,EAAc,MClB5C,EAAO,UAAU,IAAM,SAAS,EAAS,GAAI,CAC3C,GAAI,CAAE,SAAQ,WAAY,EAAM,MAC5B,EAAK,EAAO,IAAM,IAClB,EAAY,GAAO,OAAS,EAAO,OAAO,GAAK,EAAO,WAAa,EACnE,EAAQ,EAAO,OAAS,IAY5B,GAXA,EAAO,eAAe,EAAI,sBAC1B,EAAO,eAAe,EAAU,4BAChC,EAAO,OAAO,EAAO,yBACrB,IAAO,GAAY,EAAM,CACvB,KAAM,EAAO,WAAW,eACxB,QAAS,iDAEX,CAAC,EAAQ,IAAa,EAAM,CAC1B,KAAM,EAAO,WAAW,iBACxB,QAAS,iBAAiB,sBAExB,EAAQ,GAAK,CACf,GAAI,EAAQ,GAAI,WAAa,EAAY,MAAO,MAAK,EAAQ,IAC7D,EAAM,CACJ,KAAM,EAAO,WAAW,kBACxB,QAAS,kDAGb,SAAQ,GAAM,CAAE,KAAI,WAAU,cAAe,EAAO,UAAW,KAC/D,KAAK,WAAW,CAAE,GAAI,GAAY,CAAE,KAAM,KACnC,KAAK,EAAQ,KC7BtB,EAAO,UAAU,SAAW,SAAS,EAAS,GAAI,EAAU,GAAI,CAC9D,GAAI,CAAE,MAAO,EACT,CAAE,WAAY,EAAM,MACpB,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC1C,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC9C,GAAI,CAAC,EAAQ,GAAO,MAAO,MAC3B,GAAI,CAAC,EAAW,GAAS,CAAC,CAAC,KAAK,EAAQ,KAAQ,IAChD,KAAO,EAAG,EAAQ,EAAU,QAAQ,CAClC,GAAI,GAAS,EAAQ,EAAU,GAAO,UAEtC,GADA,GAAU,EAAU,KAAK,KAAK,IAC1B,CAAC,EAAQ,MAEf,MAAI,GACG,IAAQ,EAAU,QAChB,EAAU,OAAS,EAAY,MAEtC,GAAU,QACH,EAAU,GAAK,EAAU,GAAK,OChBzC,EAAO,UAAU,OAAS,SAAS,EAAS,GAAI,CAC9C,GAAI,CAAE,UAAS,UAAW,EAAM,MAChC,GAAI,EAAO,KAAO,EAAU,OAC5B,GAAI,GAAS,EAAQ,EAAO,IAC5B,GAAI,CAAC,EAAU,OACf,GAAI,CAAE,YAAa,EACnB,KAAK,WAAW,CAAE,GAAI,EAAO,IAAM,CAAE,KAAM,GAAM,KAAM,GAAM,KAAM,KAChE,QAAQ,CAAC,CAAE,QAAS,MAAO,GAAQ,IACtC,KAAK,WAAW,CAAE,GAAI,GAAY,CAAE,KAAM,MCT5C,EAAO,UAAU,IAAM,SAAS,EAAS,GAAI,CAC3C,GAAI,CAAE,WAAY,EAAM,MACxB,MAAO,GAAO,KAAM,ICFtB,EAAO,UAAU,MAAQ,SAAS,EAAS,GAAI,CAC7C,MAAO,CAAC,KAAK,IAAI,ICEnB,EAAO,UAAU,QAAU,SAAS,EAAS,GAAI,CAC/C,GAAI,CAAE,KAAI,SAAU,EAChB,CAAE,SAAQ,WAAY,EAAM,MAEhC,AADA,EAAO,OAAO,EAAO,yBACjB,GAAC,EAAQ,IAAO,IAAO,IACvB,IAAU,EAAQ,GAAI,OAC1B,GAAQ,GAAI,cAAgB,EAC5B,EAAQ,GAAI,UAAY,IACxB,KAAK,WAAW,CAAE,GAAI,EAAQ,GAAI,UAAY,CAAE,KAAM,OCXxD,EAAO,UAAU,KAAO,UAAW,CACjC,GAAI,CAAE,SAAQ,WAAY,EAAM,MAChC,MAAO,MAAK,EAAQ,KCCtB,EAAO,UAAU,QAAU,SAAS,EAAS,GAAI,EAAU,GAAI,CAC7D,GAAI,CAAE,MAAO,EACT,CAAE,UAAS,UAAW,EAAM,MAC5B,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC9C,GAAI,CAAC,EAAQ,GAAO,MAAO,MAC3B,GAAI,IAAO,EAAU,MAAO,GAAO,CAAC,KAAK,QAAU,KACnD,GAAI,GAAS,KAAK,SAAS,CAAE,OAC7B,GAAI,CAAC,EAAU,MAAO,MACtB,GAAI,GAAc,KAAK,WAAW,GAClC,MAAI,GAAe,EACnB,GAAc,EAAY,OAAO,AAAC,GAAW,EAAO,KAAO,GACpD,EAAY,OAAS,EAAc,OCnB7B,WAAe,EAAa,GAAI,EAAU,GAAI,CAC3D,MAAO,GAAW,aAAgB,GAAW,YAAc,KAAK,ICIlE,YAAiB,CAOf,aAAc,CACZ,EAAM,KAAM,CACV,aAAc,GACd,MAAO,CAAE,QAAS,IAClB,MAAO,CAAE,QAAS,YAIf,WAAU,EAAM,CAAE,MAAO,IAAI,IAAW,GAAG,SAE3C,cAAa,EAAK,CAAE,MAAO,aAAe,UAE1C,gBAAe,EAAK,CAAE,MAAO,CAAC,GAAW,aAAa,SAEtD,kBAAiB,EAAK,EAAM,GAAI,CACrC,GAAW,eAAe,IAAQ,EAAM,CACtC,KAAM,GAAW,WAAW,iBAC5B,QAAS,GAAO,mCAxBtB,MAES,EAFT,GAES,aAAa,CAClB,iBAAkB,8BAClB,iBAAkB,gCCTtB,GAAM,IAAU,IACV,GAAc,IAIpB,YAAkB,EAAS,GAAI,CAC7B,GAAI,CAAE,KAAI,QAAS,EACnB,MAAK,GACE,GAAG,IAAK,KAAU,GAAQ,KADf,GAIpB,YAAmB,EAAO,GAAI,CAC5B,GAAI,IAAS,GAAe,MAAO,CAAE,GAAI,GAAI,KAAM,IACnD,GAAI,CAAC,EAAI,GAAQ,EAAK,MAAM,IAC5B,MAAO,CAAE,KAAI,QCVA,YAAoB,EAAQ,GAAI,EAAU,CACvD,GAAI,CAAC,EAAY,MAAO,QAAO,KAAK,GAAO,QAAQ,AAAC,GAAM,MAAO,GAAM,IACvE,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,CAAC,EAAM,MAAO,OAAO,GAAM,IAC/B,GAAI,GAAO,GAAS,CAAE,KAAI,SAC1B,AAAI,EACF,OAAO,GAAM,GACb,MAAO,GAAM,GAAS,CAAE,QACxB,OAAO,KAAK,GAAO,QAAQ,AAAC,GAAM,CAChC,EAAM,GAAG,SAAS,IAAS,MAAO,GAAM,MAG1C,OAAO,KAAK,GAAO,QAAQ,AAAC,GAAM,CAChC,AAAC,IAAU,GAAG,KAAO,GAAM,EAAM,GAAG,SAAS,KAAU,MAAO,GAAM,KCjB1E,GAAM,IAAe,aCUrB,GAAW,UAAU,IAAM,SAAS,EAAkB,GAAI,EAAU,GAAI,CACtE,GAAI,GAAQ,SAAW,GAAU,EAAQ,MAAQ,GACjD,EAAO,eAAe,EAAO,uBAC7B,EAAK,MAAM,IAAqB,GAAkB,CAAC,IACnD,EAAkB,EAAgB,IAAI,CAAC,CAAE,WAAU,YAAa,CAC9D,EAAO,eAAe,EAAO,GAAI,2BACjC,EAAO,eAAe,EAAS,GAAI,6BACnC,EAAO,eAAe,EAAO,KAAM,6BACnC,EAAO,eAAe,EAAS,KAAM,+BACrC,GAAI,GAAO,CAAE,SAAU,GAAS,GAAW,OAAQ,GAAS,IAC5D,MAAO,CAAE,WAAU,SAAQ,UAE7B,GAAI,CAAE,QAAO,iBAAkB,GAAgB,KAAM,GACrD,GAAI,CAAC,EAAS,MAAO,IAAU,KAAM,EAAiB,GACtD,SAAqB,KAAM,GACrB,GAKR,YAAyB,EAAY,EAAiB,CACpD,GAAI,GAAgB,GAChB,CAAE,gBAAiB,EAAM,GACzB,EAAQ,EAAM,GAAY,MAAM,QAYpC,MAXmB,GAAgB,KAAK,CAAC,CAAE,WAAU,SAAQ,UAAW,CACtE,GAAI,EAAK,WAAa,EAAK,OAAU,MAAO,GAC5C,GAAI,GAAU,EAAW,QAAQ,EAAQ,CAAE,MAAO,KAClD,MAAI,IAAW,EAAQ,SAAS,EAAK,UAAoB,GACzD,GAAa,EAAK,WAAc,GAAa,EAAK,UAAY,IAC1D,EAAa,EAAK,UAAU,SAAS,EAAK,SAC9C,GAAa,EAAK,UAAU,KAAK,EAAK,QACtC,EAAc,KAAK,CAAE,WAAU,SAAQ,SACvC,GAAW,EAAO,IACX,MAGF,CACL,gBACA,MAAO,EAAU,OAAO,CAAE,KAAM,GAAW,WAAW,oBAH5B,CAAE,MAAO,KAAM,cAAe,MAO5D,YAA8B,EAAY,EAAe,CACvD,GAAI,CAAE,gBAAiB,EAAM,GACzB,EAAQ,EAAM,GAAY,MAAM,QACpC,EAAc,QAAQ,CAAC,CAAE,WAAU,UAAW,CAC5C,GAAI,GAAQ,EAAa,EAAK,UAAU,QAAQ,EAAK,QACrD,AAAI,EAAQ,GACZ,GAAa,EAAK,UAAU,OAAO,EAAO,GAC1C,CAAC,EAAa,EAAK,UAAU,QAAU,MAAO,GAAa,EAAK,UAChE,GAAW,EAAO,MAItB,YAAmB,EAAY,EAAiB,EAAO,CACrD,GAAI,GAAS,EAAM,GAAY,MAAM,QACrC,EAAgB,QAAQ,CAAC,CAAE,UAAW,CACpC,GAAI,GAAU,EAAO,EAAK,WAAc,GAAO,EAAK,UAAY,IAC5D,EAAU,EAAQ,EAAK,SAAY,GAAQ,EAAK,QAAU,IAC9D,CAAC,EAAQ,SAAS,IAAU,EAAQ,KAAK,KC7D7C,GAAW,UAAU,OAAS,SAAS,EAAS,GAAI,EAAU,GAAI,CAChE,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,CAAC,EAAM,OACX,GAAI,CAAE,OAAM,SAAU,EAClB,EAAO,GAAS,GAChB,CAAE,gBAAiB,EAAM,MACzB,EAAQ,EAAM,MAAM,MAAM,QAC1B,EAAS,EAAM,MAAM,MAAM,QAC3B,EAAY,EAAQ,AAAC,GAAM,IAAM,EAAS,AAAC,GAAM,GAAU,GAAG,KAAO,EAEzE,AAAI,IAAS,UACX,IAAW,EAAO,GAClB,AAAI,EACF,OAAO,GAAa,GACpB,MAAO,GAAO,IAEd,OAAO,KAAK,GAAc,IAAI,AAAC,GAAM,CACnC,AAAI,CAAC,EAAU,IACf,OAAO,GAAa,GACpB,MAAO,GAAO,OAKpB,OAAO,KAAK,GAAc,QAAQ,AAAC,GAAM,CACvC,GAAI,GAAY,EAAa,GAAG,OAChC,EAAa,GAAK,EAAa,GAAG,OAAO,AAAC,GAAM,CAC9C,GAAI,CAAC,EAAU,GAAM,MAAO,GAC5B,GAAI,IAAS,UAAY,CAAC,GAAS,IAAU,GAC3C,aAAO,GAAO,GAAG,GACV,GAET,GAAI,GAAQ,EAAO,GAAG,GAAG,UAAU,AAAC,GAAM,IAAM,GAEhD,MADI,IAAS,GAAK,EAAO,GAAG,GAAG,OAAO,EAAO,GACzC,EAAO,GAAG,GAAG,OAAiB,GAClC,OAAO,GAAO,GAAG,GACV,MAET,GAAI,GAAY,EAAa,GAAG,OAChC,AAAI,IAAc,GAClB,IAAW,EAAO,GAAU,IAC5B,CAAC,GAAa,MAAO,GAAa,GAClC,CAAC,OAAO,KAAK,EAAO,IAAI,QAAU,MAAO,GAAO,OCxCpD,GAAW,UAAU,QAAU,SAAS,EAAY,GAAI,EAAU,GAAI,CACpE,EAAK,MAAM,IAAe,GAAY,CAAC,IACvC,GAAI,GAAiB,EAAU,KAAK,AAAC,GAAM,EAAK,OAAO,IAAM,CAAC,EAAE,IAChE,GAAmB,GAAY,CAAC,KAChC,GAAI,GAAS,UAAY,GAAU,EAAQ,OAAS,GAChD,EAAQ,SAAW,GAAU,EAAQ,MAAQ,GAC7C,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC1C,EAAO,QAAU,GAAU,EAAQ,KAAO,GAC1C,EAAQ,SAAW,GAAU,EAAQ,MAAQ,GAC7C,CAAE,gBAAiB,EAAM,MACzB,EAAQ,EAAM,MAAM,MAAM,QAC1B,EAAS,EAAM,MAAM,MAAM,QAC3B,CAAC,EAAY,EAAa,GAAiB,CAAC,GAAI,GAAI,IAoBxD,GAnBA,EAAU,QAAQ,AAAC,GAAa,CAC9B,GAAI,IAAO,GAAS,GASpB,GARA,AAAI,QAAU,GACZ,EAAc,KAAK,IAEnB,OAAO,KAAK,GAAc,QAAQ,AAAC,GAAM,CACvC,GAAU,GAAG,KAAO,EAAS,IAAM,EAAc,KAAK,KAG1D,EAAY,KAAK,EAAS,IACtB,CAAC,GAAe,EAAc,GAChC,MAAO,IAAW,EAAO,GAE3B,AAAI,IAAU,CAAE,MAAQ,MACtB,GAAM,IAAQ,GAAe,EAAc,GAC3C,EAAM,IAAQ,GAAY,EAAc,EAAM,MAEhD,EAAa,EAAW,OAAO,EAAM,OAEnC,CAAC,EAAW,OAAU,MAAO,MAIjC,GAHI,EAAU,OAAS,GACrB,GAAa,GAAY,EAAc,GAAM,OAAO,KAElD,GAAmB,GAAQ,GAAS,EAAC,GAAS,IAAU,IAC1D,MAAO,GAAQ,EAAW,IAAI,AAAC,GAAM,GAAU,IAAM,EAEvD,GAAI,CAAC,EAAoB,GAAiB,CAAC,GAAI,EAAc,SACzD,EAAgB,EAAc,IAAI,AAAC,GAAM,EAAa,IAAI,OAC9D,SAAW,QAAQ,AAAC,GAAW,CAC7B,GAAI,CAAC,GAAQ,CAAC,EAAc,SAAS,GAAW,OAChD,GAAI,IAAU,GAAU,GACxB,GAAI,GAAC,GAAQ,EAAY,SAAS,GAAQ,KAC1C,IAAI,GAAS,IAAU,GAAc,CACnC,GAAI,GAAkB,OAAO,KAAK,GAAQ,KAAK,AAAC,IAC1C,CAAC,EAAc,SAAS,KAExB,CAAC,AADS,OAAO,KAAK,EAAO,KACpB,SAAS,GAAkB,GACjC,EAAO,IAAU,GAAQ,SAAS,IAG3C,GADA,EAAc,KAAK,GACf,CAAC,EAAmB,OAE1B,EAAmB,KAAK,EAAQ,GAAU,MAErC,EAAmB,OAAS,EAAqB,MAK1D,YAAwB,EAAe,GAAI,EAAW,GAAI,CACxD,GAAI,CAAE,KAAI,QAAS,EACnB,MAAK,GACD,EAAe,GAAS,IAAa,GAClC,OAAO,KAAK,GAAc,OAAO,AAAC,GAChC,GAAU,GAAG,KAAO,GAC1B,OAAS,EAJM,OAAO,KAAK,GAAc,OAAS,EAOvD,YAAwB,EAAe,GAAI,EAAW,GAAI,CACxD,GAAI,CAAE,KAAI,QAAS,EACf,EAAW,KACR,EACD,EAAgB,GAAa,GAAS,KAAc,IAAI,QACrD,GAAM,OAAO,OAAO,KAAK,GAC7B,OAAO,AAAC,GAAM,GAAU,GAAG,KAAO,GAClC,IAAI,AAAC,GAAM,EAAa,IAAI,QAJb,GAAM,OAAO,OAAO,OAAO,GAAc,WAMzD,EAAQ,GACZ,KAAO,EAAG,EAAQ,EAAQ,QAExB,AADe,GAAa,EAAQ,KAAW,IACtC,QAAQ,AAAC,GAAM,CAAC,EAAQ,SAAS,IAAM,EAAQ,KAAK,IAE/D,MAAO,GAIT,YAAqB,EAAe,GAAI,EAAU,GAAI,CACpD,GAAI,GAAQ,GACZ,KAAO,EAAG,EAAQ,EAAQ,QAExB,AADe,GAAa,EAAQ,KAAW,IACtC,QAAQ,AAAC,GAAW,CAC3B,GAAI,GAAW,EAAQ,QAAQ,GAC/B,AAAI,EAAW,GACf,GAAQ,OAAO,EAAU,GACzB,EAAQ,KAAK,GACb,OAGJ,MAAO,GC/GM,YAAe,EAAa,GAAI,EAAU,GAAI,CAC3D,MAAO,GAAW,aAAgB,GAAW,YAAc,KAAK,ICIlE,WAAiB,CAEf,YAAY,EAAU,GAAI,CACxB,UAAY,IAAW,EAAO,SAAS,EAAQ,OAAQ,kBACvD,GAAM,KAAM,CACV,UAAW,GAAO,UAAW,GAC7B,OAAQ,EAAQ,QAAU,SAAS,EAAI,CAAE,MAAO,YAI7C,WAAU,EAAM,CAAE,MAAO,IAAI,GAAW,GAAG,KCVpD,EAAW,UAAU,MAAQ,SAAS,EAAU,GAAM,CACpD,GAAM,MAAM,UAAY,IAAY,ICFvB,YAAuB,EAAY,GAAI,EAAI,EAAQ,CAChE,AAAM,IAAM,IACZ,CAAI,EACF,EAAS,EAAG,MAAM,GAAU,EAAS,CAAC,GAEtC,EAAS,OAAO,KAAK,EAAU,IAEjC,EAAO,QAAQ,AAAC,GAAU,CACxB,AAAM,IAAS,GAAU,IACzB,CAAC,EAAU,GAAI,GAAO,QAAU,MAAO,GAAU,GAAI,KAEvD,CAAC,OAAO,KAAK,EAAU,IAAK,QAAU,MAAO,GAAU,ICRzD,EAAW,UAAU,IAAM,SAAS,EAAS,GAAI,EAAU,CACzD,GAAI,CAAE,KAAI,SAAU,EAChB,CAAE,aAAc,GAAM,MAC1B,EAAO,eAAe,EAAI,mBAC1B,EAAO,eAAe,EAAO,sBAC7B,EAAO,SAAS,EAAU,wBAC1B,EAAU,IAAQ,GAAU,GAAM,IAClC,GAAI,GAAS,CAAE,YACX,EAAQ,EAAU,GAAI,IAAW,GAAU,GAAI,GAAS,IAC5D,SAAM,KAAK,GACJ,UAAW,CAChB,AAAI,CAAC,EAAM,SAAS,IACpB,GAAM,OAAO,EAAM,QAAQ,GAAS,GACpC,GAAe,EAAW,EAAI,MCdlC,EAAW,UAAU,OAAS,SAAS,EAAS,GAAI,EAAU,CAC5D,GAAI,CAAE,KAAI,SAAU,EAChB,CAAE,aAAc,GAAM,MAC1B,GAAI,EAAC,EAAU,GACf,IAAI,CAAC,EAAO,CACV,IAAM,IAAa,MAAO,GAAU,GACpC,OAEF,GAAI,EAAC,EAAU,GAAI,GACnB,IAAI,CAAC,EAAU,CACb,IAAS,GAAU,IAAO,MAAO,GAAU,GAAI,GAC/C,OAEF,EAAU,GAAI,GAAS,EAAU,GAAI,GAAO,OAAO,AAAC,GAC3C,EAAK,WAAa,GAE3B,GAAe,EAAW,EAAI,MChBhC,EAAW,UAAU,QAAU,SAAS,EAAS,GAAI,EAAS,CAC5D,GAAW,EAAO,SAAS,EAAS,wBACpC,GAAI,CAAE,KAAI,QAAO,UAAW,EACxB,CAAE,YAAW,SAAQ,aAAc,GAAM,MAG7C,GAFI,GACA,CAAC,EAAU,IACX,CAAC,EAAU,GAAI,GAAU,MAAO,GACpC,GAAI,GAAqB,GACrB,EAAc,CAAE,KAAM,EAAO,OAAQ,EAAO,GAAK,UACrD,MAAI,GAAkB,EAAQ,EAAa,KAAY,GACvD,GAAU,GAAI,GAAO,QAAQ,CAAC,CAAE,cAAe,CAC7C,GAAI,GAAc,EAAS,EAAa,KAAY,GACpD,GAAuB,GAAqB,KAEvC,CAAC,ICpBK,YAAe,EAAW,GAAI,EAAU,GAAI,CACzD,MAAO,GAAS,WAAc,GAAS,UAAY,KAAK,ICI1D,YAAe,CAEb,YAAY,EAAU,GAAI,CACxB,EAAO,SAAS,EAAQ,OAAQ,kBAChC,GAAM,KAAM,CACV,UAAW,GACX,OAAQ,CAAE,QAAS,GAAI,KAAM,IAC7B,OAAQ,EAAQ,QAAU,SAAS,EAAM,CAAE,MAAO,YAI/C,WAAU,EAAM,CAAE,MAAO,IAAI,IAAS,GAAG,KCXlD,GAAS,UAAU,MAAQ,SAAS,EAAU,GAAM,CAClD,GAAM,MAAM,UAAY,IAAY,ICCtC,GAAS,UAAU,IAAM,SAAS,EAAM,CACtC,GAAI,CAAE,SAAQ,SAAQ,aAAc,GAAM,MAO1C,GALI,UAAU,QACZ,GAAK,MAAM,IAAU,GAAO,CAAC,IAE7B,EAAO,KAAO,EAAO,KAAK,OAAO,IAE/B,IAEA,GAAO,QAAQ,QAEf,EAAC,EAAO,KAAK,OAGjB,GAAO,QAAU,EAAO,KACxB,EAAO,KAAO,GAEd,GAAI,CAAE,EAAO,EAAO,QAAQ,eAAkB,EAAP,CACrC,EAAO,QAAU,GACjB,EAAM,CAAE,KAAM,EAAM,MAAQ,EAAM,KAAM,QAAS,EAAM,UAGzD,EAAO,QAAU,GAEjB,KAAK,QChCQ,YAAe,EAAO,GAAI,EAAU,GAAI,CACrD,MAAO,GAAK,OAAU,GAAK,MAAQ,KAAK,ICG1C,WAAW,CAET,aAAc,CACZ,GAAM,KAAM,CAAE,UAAW,GAAO,MAAO,WAGlC,WAAU,EAAM,CAAE,MAAO,IAAI,GAAK,GAAG,KCL9C,EAAK,UAAU,MAAQ,SAAS,EAAU,GAAM,CAC9C,GAAM,MAAM,UAAY,IAAY,ICAtC,EAAK,UAAU,IAAM,SAAS,EAAO,GAAI,EAAU,CACjD,EAAO,eAAe,EAAM,eAC5B,EAAO,SAAS,EAAU,kBAC1B,GAAI,CAAE,SAAU,GAAM,MACtB,SAAM,IAAU,GAAM,GAAQ,IAC9B,EAAM,GAAM,KAAK,GACV,UAAW,CAChB,GAAI,GAAQ,EAAM,GAAM,QAAQ,GAChC,GAAS,GAAK,EAAM,GAAM,OAAO,EAAO,KCT5C,EAAK,UAAU,OAAS,SAAS,EAAO,GAAI,EAAU,CACpD,GAAI,CAAE,SAAU,GAAM,MACtB,AAAI,CAAC,EAAM,IACX,CAAI,EACF,EAAM,GAAQ,EAAM,GAAM,OAAO,AAAC,GAAO,IAAO,GAEhD,EAAM,GAAQ,KCLlB,EAAK,UAAU,IAAM,SAAS,EAAO,GAAI,EAAU,GAAI,CACrD,GAAI,CAAE,QAAO,aAAc,GAAM,MACjC,GAAI,EAAa,MAAO,GACxB,GAAI,CAAC,EAAM,GAAS,MAAO,GAC3B,GAAI,CAAC,EAAM,GAAe,CAAC,EAAQ,UAAW,IAO9C,MANA,GAAK,MAAM,IAAU,GAAO,CAAC,IAE7B,EAAM,GAAM,QAAQ,AAAC,GAAa,CAChC,GAAI,GAAS,EAAS,GAAG,GACzB,GAAgB,GAAc,IAAW,MAEvC,EAAoB,GACjB,CAAC,GCdK,YAAa,EAAS,GAAI,EAAU,GAAI,CACrD,GAAI,CAAE,UAAS,SAAQ,aAAY,SAAU,EACzC,EAAK,MAAQ,GAAS,EAAO,GAAK,EAAO,GAAK,IAC9C,EAAS,EAAO,OAAO,GACvB,EAAS,IAAO,EACpB,GAAI,GAAU,EAAQ,GAAO,MAAO,GACpC,GAAI,GAAW,EAAS,KAAQ,KACvB,YAAc,GAAS,EAAO,SAAW,EAAO,SAAW,KAEpE,GAAI,CAAC,GAAU,EAAO,IAAI,CAAE,OAAS,MAAO,GAC5C,GAAI,CAAC,GAAU,EAAO,MAAM,CAAE,GAAI,IAAe,MAAO,GACxD,GAAI,GAAQ,SAAW,GAAS,EAAO,MAAQ,EAAO,MAAQ,GAC9D,AAAM,YAAc,IAAU,GAAM,SAAW,IACzC,SAAW,IAAU,GAAM,MAAQ,KACzC,GAAI,GAAS,CAAE,UAAW,CAAE,IAAK,GAAI,KAAM,IAAM,QAAS,IAC1D,MAAK,GAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,gBAGnD,EAAC,GAAU,EAAO,IAAI,CAAE,KAAI,aAC5B,EAAQ,GAAM,GACd,EAAO,QAAU,CAAC,CAAE,OACpB,OAAO,KAAK,EAAO,OAAO,QAAQ,AAAC,GAAS,CAC1C,EAAO,UAAU,IAAI,KAAK,CAAE,KAAI,KAAM,EAAM,MAAO,EAAM,OAK3D,CAAC,GAAU,EAAW,IAAI,CACxB,SAAU,CAAE,KAAI,KAAM,SAAW,OAAQ,CAAE,GAAI,EAAU,KAAM,cAEjE,EAAM,IAAI,YAAa,CAAE,UAAW,CAAC,EAAQ,EAAQ,eAC9C,GAfE,GCpBX,GAAM,IAAW,gBACX,GAAY,iBACZ,GAAO,WACP,GAAQ,YAEd,YAAiB,EAAM,EAAU,GAAI,CAEnC,MAAO,AADO,GAAQ,IAAM,GAAW,IACtB,EAGnB,YAAkB,EAAM,EAAU,GAAI,CAEpC,MAAO,AADO,GAAQ,IAAM,GAAY,IACvB,ECRJ,YAAc,EAAS,GAAI,EAAU,GAAI,CACtD,GAAI,CAAE,UAAS,SAAQ,SAAU,EAC7B,CAAE,KAAI,QAAS,EACnB,GAAI,EAAO,MAAM,CAAE,OAAS,MAAO,GACnC,GAAI,GAAS,CAAE,QAAS,IACpB,EAAW,CAAE,IAAK,GAAQ,EAAM,CAAE,IAAK,KAAS,KAAM,GAAQ,IAC9D,EAAY,CAAE,IAAK,GAAS,EAAM,CAAE,IAAK,KAAS,KAAM,GAAS,IACrE,GAAI,CAAC,EAAM,IAAI,cAAe,CAAE,UAAW,CAAC,EAAQ,iBAClD,MAAO,GAET,GAAI,IAAS,WAAY,CACvB,GAAI,GAAc,EAAO,WAAW,CAAE,QAAS,GAC/C,SAAQ,GAAI,EAAS,MAAQ,EAAY,IAAI,CAAC,CAAE,QAAU,EAAE,QAC5D,EAAQ,GAAI,EAAS,KAAO,EAAQ,GAAI,EAAS,MACjD,EAAQ,GAAI,EAAU,MAAQ,EAAQ,GAAI,EAAU,KACpD,EAAO,QAAQ,KAAK,CAAE,OACtB,EAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,EAAQ,gBAC/C,EAET,SAAQ,GAAI,EAAS,MAAQ,EAAQ,GAAI,EAAS,KAClD,EAAQ,GAAI,EAAU,MAAQ,EAAQ,GAAI,EAAU,KACpD,EAAO,QAAQ,KAAK,CAAE,OACtB,EAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,EAAQ,gBAC/C,EC3BM,YAAa,EAAS,GAAI,EAAU,GAAI,CACrD,GAAI,CAAE,MAAO,EACT,CAAE,UAAS,SAAQ,aAAY,SAAU,EAC7C,GAAI,EAAO,MAAM,CAAE,OAAS,MAAO,GACnC,GAAI,IAAO,EAAO,OAAO,GAAM,MAAO,GACtC,GAAI,CAAC,EAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,gBACjD,MAAO,GAET,GAAI,GAAS,CAAE,UAAW,CAAE,IAAK,GAAI,IAAK,GAAI,KAAM,IAAM,QAAS,IAC/D,EAAS,EAAO,SAAS,CAAE,OAC3B,EAAc,EAAO,WAAW,CAAE,MAAM,CAAE,KAAM,GAAM,KAAM,KAC5D,EAAU,EAAW,QAAQ,EAAa,CAAE,KAAM,KACtD,SAAY,QAAQ,CAAC,CAAE,QAAS,CAC9B,MAAO,GAAQ,GACf,EAAO,OAAO,CAAE,OAChB,EAAW,OAAO,CAAE,OACpB,EAAO,QAAQ,KAAK,CAAE,SAExB,GAAY,GAAO,UAAU,KAAO,GACpC,GAAW,GAAO,WAAW,CAAE,GAAI,EAAO,MAAS,IAAI,QAAQ,CAAC,EAAG,IAAU,CAC3E,EAAO,UAAU,IAAI,KAAK,CAAE,GAAI,EAAE,GAAI,KAAM,QAAS,MAAO,MAE9D,GAAW,GAAO,SAAW,EAAO,IACpC,EAAM,IAAI,YAAa,CAAE,UAAW,CAAC,EAAQ,EAAQ,eAC9C,ECpBM,YAAa,EAAS,GAAI,EAAU,GAAI,CACrD,GAAI,CAAE,UAAS,SAAQ,aAAY,SAAU,EACzC,CAAE,KAAI,OAAM,SAAU,EAC1B,GAAI,EAAO,MAAM,CAAE,OAAS,MAAO,GACnC,GAAI,GAAW,CAAE,IAAK,GAAQ,EAAM,CAAE,IAAK,MACvC,EAAY,CAAE,IAAK,GAAS,EAAM,CAAE,IAAK,MAC7C,GAAI,OAAO,GAAG,EAAQ,GAAI,EAAS,KAAM,GAAU,MAAO,GAC1D,GAAI,GAAS,CAAE,UAAW,CAAE,KAAM,IAAM,QAAS,IAGjD,GAAI,IAAS,QAAS,CACpB,GAAI,GAAS,EAAO,SAAS,CAAE,OAC/B,MAAK,GACA,EAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,gBAGnD,GAAO,QAAQ,CAAE,KAAI,MAAO,EAAO,QACnC,EAAO,WAAW,GAAQ,QAAQ,CAAC,CAAE,KAAI,WAAY,CACnD,EAAQ,GAAI,EAAS,KAAO,EAC5B,EAAQ,GAAI,EAAU,KAAO,KAC7B,EAAO,QAAQ,KAAK,CAAE,OACtB,EAAO,UAAU,KAAK,KAAK,CAAE,KAAI,SACjC,GAAI,GAAU,EAAW,QAAQ,CAAE,KAAI,UAAW,GAClD,EAAO,UAAU,KAAO,EAAO,UAAU,KAAK,OAAO,KAEvD,EAAM,IAAI,YAAa,CAAE,UAAW,CAAC,EAAQ,EAAQ,eAC9C,GAZE,GAFa,GAgBxB,GAAI,CAAC,EAAM,IAAI,aAAc,CAAE,UAAW,CAAC,EAAQ,gBACjD,MAAO,GAET,EAAQ,GAAI,EAAS,KAAO,EAAO,MACnC,EAAQ,GAAI,EAAU,KAAO,KAC7B,EAAO,QAAU,CAAC,CAAE,OAMpB,GAAI,GAAU,EAAW,QAAQ,CAAE,KAAI,UAAW,GAClD,SAAO,UAAU,KAAO,CAAC,CAAE,KAAI,SAAQ,OAAO,GAC9C,EAAM,IAAI,YAAa,CAAE,UAAW,CAAC,EAAQ,EAAQ,eAC9C,ECtCT,YAAwB,EAAY,GAAI,EAAe,GAAI,CACzD,GAAI,CAAC,EAAM,GAAO,CAAC,GAAI,IACvB,SAAa,QAAQ,AAAC,GAAW,CAC/B,EAAI,GAAU,GACd,EAAK,GAAU,KAEjB,EAAU,QAAQ,AAAC,GAAa,CAC9B,GAAI,CAAE,KAAI,UAAW,EACrB,AAAI,CAAC,EAAa,SAAS,IAC3B,GAAI,GAAQ,KAAK,GACjB,EAAK,GAAQ,KAAK,MAEb,CAAE,OAAM,OAGjB,YAAsB,EAAU,GAAI,EAAQ,EAAe,GAAI,CAC7D,GAAW,GAAS,IAChB,EAAO,SACT,GAAQ,QAAU,EAAQ,QAAQ,OAAO,EAAO,UAElD,EAAa,QAAQ,AAAC,GAAM,CAC1B,EAAQ,UAAU,IAAO,GAAQ,UAAU,GAAK,IAC5C,EAAO,WAAa,EAAO,UAAU,IACvC,GAAQ,UAAU,GAAK,EAAQ,UAAU,GAAG,OAAO,EAAO,UAAU,OAK1E,YAAwB,EAAY,GAAI,CACtC,MAAO,GAAU,OAAO,CAAC,EAAI,EAAO,IAE3B,AADC,EAAI,UAAU,AAAC,GAAM,EAAE,KAAO,EAAG,IAAM,EAAE,OAAS,EAAG,QAChD,GAMF,YAAa,EAAY,GAAI,EAAU,GAAI,CACxD,GAAI,CAAE,aAAY,UAAW,EACzB,EAAU,CAAC,MAAO,MAAO,MAAO,QAChC,CAAE,OAAM,OAAQ,GAAe,EAAW,GAC1C,EAAU,CAAE,QAAS,GAAI,UAAW,IACxC,GAAa,EAAS,GAAI,GAC1B,EAAK,IAAI,QAAQ,AAAC,GAAO,CACvB,GAAa,EAAS,GAAI,EAAI,GAAU,CAAC,MAAO,MAAO,WAEzD,EAAK,IAAM,EAAQ,UAAU,IAAI,OAAO,EAAK,KAC7C,EAAK,IAAI,QAAQ,AAAC,GAAO,CACvB,GAAI,CAAE,KAAI,YAAa,EACvB,AAAI,EAAI,IAAI,SAAS,IACjB,EAAI,IAAI,SAAS,IACrB,GAAa,EAAS,GAAI,EAAI,GAAU,CAAC,MAAO,WAElD,EAAK,IAAM,EAAQ,UAAU,IAAI,OAAO,EAAK,KAC7C,EAAK,IAAM,GAAe,EAAK,IAAI,WAAW,UAC9C,EAAK,IAAI,QAAQ,AAAC,GAAO,CACvB,AAAI,EAAI,IAAI,SAAS,EAAG,KACxB,GAAa,EAAS,GAAI,EAAI,GAAU,CAAC,WAE3C,EAAK,KAAO,EAAQ,UAAU,KAAK,OAAO,EAAK,MAC/C,EAAK,KAAO,GAAe,EAAK,KAAK,WAAW,UAChD,EAAK,KAAK,QAAQ,AAAC,GAAO,CACxB,AAAI,EAAI,IAAI,SAAS,EAAG,KACxB,GAAa,EAAS,GAAK,EAAI,GAAU,MAE3C,GAAM,OAAO,EAAQ,QAAQ,IAAI,AAAC,GAAO,EAAG,KAAK,QAAQ,AAAC,GAAO,CAC/D,EAAW,QAAQ,CAAE,KAAI,MAAO,mBAC5B,EAAO,MAAM,CAAE,QAAS,EAAW,OAAO,CAAE,SCjEpD,YAAc,CAYZ,aAAc,CACZ,KAAK,QAAU,GACf,KAAK,OAAS,EAAO,SACrB,KAAK,WAAa,GAAW,SAC7B,KAAK,WAAa,EAAW,SAC7B,KAAK,MAAQ,EAAK,SAClB,KAAK,SAAW,GAAS,OAAO,CAAE,OAAQ,AAAC,GAAQ,GAAI,EAAK,QAC5D,KAAK,SAAS,IAAI,CAAE,OAAQ,MAAO,GAAI,KAAK,OAAO,OAAO,WAGrD,WAAU,EAAM,CAAE,MAAO,IAAI,IAAQ,GAAG,SAExC,WAAU,EAAK,CAAE,MAAO,aAAe,UAEvC,aAAY,EAAK,CAAE,MAAO,CAAC,GAAQ,UAAU,SAE7C,eAAc,EAAK,EAAM,GAAI,CAClC,GAAQ,YAAY,IAAQ,EAAM,CAChC,KAAM,GAAQ,WAAW,iBACzB,QAAS,GAAO,gCA/BtB,KAES,EAFT,EAES,SAAS,GACT,EAHT,EAGS,aAAa,IACb,EAJT,EAIS,WAAW,IACX,EALT,EAKS,aAAa,GACb,EANT,EAMS,OAAO,GAEP,EART,EAQS,aAAa,CAClB,iBAAkB,6BCbtB,EAAQ,UAAU,IAAM,SAAS,EAAS,CACxC,GAAI,GAAW,EAAK,MAAM,GAC1B,AAAI,GAAY,GAAU,CAAC,GAAW,KACtC,GAAI,GAAY,EAAQ,IAAI,AAAC,GACpB,OAAK,GAAL,CAAQ,GAAI,IAAQ,OAAQ,SAErC,YAAK,SAAS,IAAI,GACX,EAAW,EAAU,GAAG,GAAK,EAAU,IAAI,AAAC,GAAM,EAAE,KCR7D,EAAQ,UAAU,OAAS,SAAS,EAAS,CAC3C,GAAI,CAAC,EAAS,CACZ,KAAK,SAAS,QACd,KAAK,WAAW,QAChB,KAAK,MAAM,QACX,OAAS,KAAQ,MAAQ,MAAO,MAAK,GAErC,OAEF,EAAK,MAAM,IAAa,GAAU,CAAC,IACnC,GAAI,GAAY,EAAQ,IAAI,AAAC,GAAO,OAAK,GAAL,CAAQ,OAAQ,SACpD,KAAK,SAAS,IAAI,ICXpB,EAAQ,UAAU,KAAO,SAAS,EAAS,CACzC,MAAI,GAAK,SAAS,GAAmB,KAC9B,OAAO,KAAK,KAAK,SAAS,KAAK,AAAC,GAAO,EAAQ,CAAE,SCA1D,EAAQ,UAAU,IAAM,SAAS,EAAS,GAAI,EAAU,GAAI,CAC1D,GAAI,CAAE,WAAY,KACd,EAAU,WAAa,GAAU,EAAQ,QAAU,GACnD,EAAa,EAAQ,SAAS,SAC9B,EAAa,EAAQ,SAAS,OAClC,MAAI,QAAU,GACL,GAAS,EAAS,EAAQ,EAAY,GAEtC,GAAa,EAAS,EAAQ,EAAY,IAMrD,YAAkB,EAAS,EAAQ,EAAY,EAAY,CACzD,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,CAAC,EAAQ,GAAO,MAAO,MAC3B,GAAI,CAAC,EAAO,EAAO,EAAU,GAAY,CAAC,KAAM,KAAM,KAAM,MACxD,EAAW,GAAQ,GAEvB,GADA,EAAQ,IAAY,GAAQ,GAAM,EAAQ,GAAI,GAAY,KACtD,EAAY,CACd,GAAI,GAAY,GAAS,GACzB,EAAQ,EAAQ,GAAI,IAAc,KAEpC,GAAI,EAAY,CACd,GAAI,GAAc,GAAQ,EAAM,CAAE,IAAK,KAEvC,GADA,EAAW,IAAe,GAAQ,GAAM,EAAQ,GAAI,GAAe,KAC/D,EAAY,CACd,GAAI,GAAe,GAAS,EAAM,CAAE,IAAK,KACzC,EAAW,EAAQ,GAAI,IAAiB,MAG5C,MAAI,CAAC,GAAc,CAAC,EAAqB,EACrC,GAAc,CAAC,EAAqB,CAAE,QAAO,SAC5C,EACE,CAAE,QAAO,QAAO,IAAK,CAAE,MAAO,EAAU,MAAO,IAD5B,CAAE,QAAO,IAAK,CAAE,MAAO,IAInD,YAAsB,EAAS,EAAQ,EAAY,EAAY,CAC7D,GAAI,CAAE,MAAO,EACT,CAAC,EAAQ,EAAQ,EAAW,GAAa,CAAC,GAAI,KAAM,GAAI,MAC5D,MAAK,GAAQ,GACb,QAAO,KAAK,EAAQ,IAAK,QAAQ,AAAC,GAAQ,CACxC,GAAI,GAAQ,EAAQ,GAAI,GACxB,GAAI,EAAI,WAAW,IACjB,MAAO,GAAO,EAAI,QAAQ,GAAM,KAAO,EAEzC,GAAI,GAAS,GAAc,EAAI,WAAW,IACxC,UAAW,GAAS,IACb,EAAO,EAAI,QAAQ,GAAO,KAAO,EAE1C,GAAI,GAAc,EAAI,WAAW,IAC/B,MAAO,GAAU,EAAI,QAAQ,GAAU,KAAO,EAEhD,GAAI,GAAS,GAAc,GAAc,EAAI,WAAW,IACtD,UAAc,GAAY,IACnB,EAAU,EAAI,QAAQ,GAAW,KAAO,IAG/C,CAAC,GAAc,CAAC,EAAqB,EACrC,GAAc,CAAC,EAAqB,CAAE,SAAQ,UAC7C,EACE,CAAE,SAAQ,SAAQ,IAAK,CAAE,OAAQ,EAAW,OAAQ,IADjC,CAAE,SAAQ,IAAK,CAAE,OAAQ,KApBxB,KC3C7B,EAAQ,UAAU,OAAS,SAAS,EAAO,GAAI,CAC7C,MAAO,CACL,KAAM,GAAQ,GAAO,MAAO,GAAS,GACrC,IAAK,CACH,KAAM,GAAQ,EAAM,CAAE,IAAK,KAAS,MAAO,GAAS,EAAM,CAAE,IAAK,QCJvE,EAAQ,UAAU,IAAM,SAAS,EAAS,CACxC,GAAI,CAAC,EAAW,OAChB,EAAK,MAAM,IAAa,GAAU,CAAC,IACnC,GAAI,GAAY,EAAQ,IAAI,AAAC,GAAO,OAAK,GAAL,CAAQ,OAAQ,SACpD,KAAK,SAAS,IAAI,ICLpB,EAAQ,UAAU,UAAY,SAAS,EAAS,GAAI,EAAU,CAC5D,GAAI,GAAQ,CAAE,GAAI,EAAO,GAAI,MAAO,kBAChC,EAAc,eAAiB,GAAS,EAAO,YAAc,GAC7D,EAAc,KAAK,WAAW,IAAI,EAAO,GAC7C,MAAI,IAAe,KAAK,WAAW,QAAQ,EAAO,GAC3C,GCTT,GAAO,IAAQ,CACb,KAAM,WACN,MAAO,gBCEM,YAAe,EAAU,EAAU,GAAK,CACrD,GAAI,GAAa,EAAS,gBAAmB,GAAS,eAAiB,IACvE,MAAI,KAAY,OAAoB,EAAS,eAC7C,QAAO,OAAO,EAAY,EAAO,QAAQ,EAAS,CAChD,kBAAmB,oBAEd,GCVF,GAAM,IAAY,OACZ,GAAc,OACd,GAAiB,OAEjB,GAAM,MACN,GAAK,KACL,GAAM,MACN,GAAgB,ICFd,YAAgB,EAAK,CAClC,MAAI,GAAK,OAAO,GAAe,GACvB,KAAa,IAAS,KAAe,GCFhC,YAAmB,EAAK,CACrC,MAAI,GAAK,OAAO,GAAe,GACxB,KAAkB,GCFZ,YAA2B,EAAK,CAC7C,MAAO,IAAO,IAAQ,GAAU,GCEnB,YAA0B,EAAK,CAE5C,MADI,GAAK,MAAM,IACX,CAAC,EAAI,OAAiB,GACnB,CAAC,EAAI,KAAK,AAAC,GAAS,CAAC,GAAkB,ICLhD,YAA+B,OAMtB,mBAAkB,EAAK,CAC5B,MAAO,IAAkB,SAGpB,kBAAiB,EAAK,CAC3B,MAAO,IAAiB,SAGnB,aAAY,EAAK,CACtB,MAAO,IAAkB,IAAQ,GAAiB,SAG7C,eAAc,EAAK,CACxB,MAAO,CAAC,GAAU,YAAY,SAGzB,iBAAgB,EAAK,EAAM,GAAI,CACpC,AAAI,GAAU,YAAY,IAC1B,EAAM,CACJ,KAAM,GAAU,WAAW,kBAC3B,QAAS,GAAO,mCA1BtB,KAES,EAFT,EAES,aAAa,CAClB,kBAAmB,gCCAvB,EAAU,QAAU,SAAS,EAAU,GAAI,CACzC,GAAI,GAAW,GACX,EAAQ,EAAG,MAAM,EAAQ,OAAS,EAAQ,MAAQ,GAClD,EAAW,EAAG,OAAO,EAAQ,MAAQ,EAAQ,KAAO,GACxD,SAAM,QAAQ,AAAC,GAAW,CACxB,EAAK,OAAO,IAAY,GAAS,IACjC,EAAS,KAAK,EACX,IAAY,GAAa,EAAO,QAChC,IAAc,EAAO,WAG1B,EAAS,KAAK,EAAG,IAAiB,EAAS,SACpC,GAKT,YAAsB,EAAQ,GAAI,CAChC,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,GAAM,GAAU,CAAC,GAAK,IAAK,KAAK,IAC1B,EAAS,CAAC,GAAI,IAAK,KAAK,IACxB,EAAS,CAAC,GAAK,GAAI,GAAK,EAAS,GACvC,MAAO,GAAM,IAAI,AAAC,GAAS,CACzB,EAAK,OAAO,IAAU,GAAO,IAC7B,GAAI,GAAQ,EAAO,SAAS,EAAK,OAAS,EAAK,MAAQ,GACvD,GAAI,CAAC,EAAS,MAAO,GAAK,WAC1B,GAAI,CAAC,GAAK,IAAI,SAAS,GAAU,MAAO,EAAG,GAAQ,EAAK,YACxD,GAAI,GAAS,EAAM,MAAM,IACzB,MAAO,EAAG,EAAO,IAAK,EAAG,EAAO,IAAK,EAAK,eCzB9C,EAAU,QAAU,SAAS,EAAW,CACtC,GAAI,CAAC,EAAO,GAAY,CAAC,GAAI,CAAE,OAAQ,SACvC,MAAI,GAAU,cAAc,GACnB,CAAE,MAAO,EAAO,KAAM,GAE/B,IAAkB,IAAe,GAAY,CAAC,IAC9C,EAAU,QAAQ,AAAC,GAAW,CAC5B,AAAI,GAAO,GACT,EAAM,KAAK,CACT,OAAQ,EAAO,IACf,MAAO,GAAa,EAAO,OAEpB,GAAU,IACnB,GAAW,CAAE,OAAQ,EAAO,QAGzB,CAAE,MAAO,EAAO,KAAM,KAK/B,YAAsB,EAAQ,GAAI,CAChC,SAAK,MAAM,IAAW,GAAQ,CAAC,IACxB,EAAM,IAAI,AAAC,GAAS,CACzB,GAAI,EAAK,OAAO,GAAS,MAAO,CAAE,MAAO,GAAI,WAAY,GACzD,GAAI,GAAQ,KAAO,GAAO,GAAM,KAAM,GAAO,GAAK,GAClD,GAAI,CAAC,EAAS,MAAO,CAAE,MAAO,GAAI,WAAY,GAC9C,GAAI,GAAa,EAAK,GACtB,MAAI,GAAG,OAAO,IAAe,KAAO,IAClC,GAAQ,CAAC,EAAO,IAAK,KAAK,IAC1B,EAAa,EAAW,KAEnB,CAAE,QAAO,gBCpCL,YAAmB,EAAS,GAAI,EAAiB,CAE9D,GAAI,CAAC,EAAQ,EAAO,GAAS,CAAC,KAAM,EAAO,IAAY,IAEvD,IADI,EAAK,MAAM,IAAU,GAAQ,CAAC,IAC3B,EAAG,EAAQ,EAAM,QAAQ,CAC9B,GAAI,CAAC,EAAM,GAAU,CAAC,EAAM,GAAQ,IACpC,AAAI,EAAG,OAAO,IAAS,KAAO,GAC5B,GAAO,EAAK,IACZ,EAAO,KAAK,KACH,EAAG,OAAO,IAAS,KAAM,IAClC,GAAO,EAAK,IACZ,EAAO,KAAK,KAEV,EAAG,OAAO,IAAS,KAAO,IAC5B,GAAO,EAAK,IACZ,EAAO,KAAK,KAEd,GAAI,GAAa,EAAgB,GACjC,EAAK,QAAQ,IAAgB,GAAa,MACtC,EAAO,SAAS,KAClB,GAAa,CAAC,GAEhB,AAAI,IAAU,EACZ,EAAS,EACJ,AAAI,EAAO,SAAS,IACzB,EAAS,GAAU,EAGnB,EAAS,GAAU,EAGvB,MAAO,CAAE,SAAQ,OAAQ,EAAO,KCnCnB,YAAsB,EAAS,GAAI,CAChD,MAAO,CAAE,OAAQ,EAAO,KCK1B,YAA0B,EAAK,CAC7B,GAAI,EAAG,QAAQ,GAAQ,MAAO,GAKhC,EAAU,MAAQ,SAAS,EAAW,EAAiB,CACrD,EAAU,gBAAgB,GACtB,IAAoB,QAAa,GAAkB,IACvD,EAAO,SAAS,EAAiB,+BACjC,GAAkB,IAAe,GAAY,CAAC,IAC9C,GAAI,GACJ,SAAU,KAAK,AAAC,GAAW,CACzB,GAAI,GAAO,GAAS,CAClB,GAAI,CAAE,SAAQ,UAAW,GAAU,EAAQ,GAC3C,GAAI,IAAW,GACb,SAAkB,EACX,WAEA,GAAU,GAAS,CAC5B,GAAI,CAAE,UAAW,GAAa,GAC9B,SAAkB,EACX,GAET,MAAO,KAEF,GC3BT,EAAU,cAAgB,SAAS,EAAW,CAC5C,EAAU,gBAAgB,GAC1B,GAAkB,IAAe,GAAY,CAAC,IAC9C,GAAI,GAAa,GACb,EAAa,EAAU,IAAI,AAAC,GAAW,CACzC,GAAI,GAAO,GACT,MAAO,GAAO,IACT,GAAI,GAAU,GACnB,SAAa,GACN,EAAO,MAIlB,MADA,GAAa,GAAM,OAAO,GACtB,GACJ,CAAC,EAAW,SAAS,SAAc,EAAW,KAAK,QAC5C,GChBT,GAAO,IAAQ,ECJf,GAAM,IAAU,6BAKV,GAAiB,GAAI,QAAO,GAAS,KAQ3C,YAAqB,EAAM,GAAI,EAAU,GAAI,CAC3C,GAAI,CAAE,MAAK,OAAM,UAAW,EAC5B,GAAI,EAAO,MAAO,MAAM,OACxB,GAAI,GAAU,SAAS,UACvB,MAAI,IAAU,GAAU,IAAI,MACrB,GAAI,QAAO,EAAS,GCjBd,YAAkC,EAAK,CACpD,MAAI,GAAK,OAAO,GAAe,GACxB,CAAC,CAAC,EAAI,MAAM,ICFrB,YAAmC,OAM1B,iBAAgB,EAAK,CAC1B,MAAO,IAAyB,SAG3B,mBAAkB,EAAK,CAC5B,MAAO,CAAC,GAAc,gBAAgB,SAGjC,qBAAoB,EAAK,EAAM,GAAI,CACxC,AAAI,GAAc,gBAAgB,IAClC,EAAM,CACJ,KAAM,GAAc,WAAW,sBAC/B,QAAS,GAAO,uCAlBtB,KAES,EAFT,EAES,aAAa,CAClB,sBAAuB,0BCJZ,YAA+B,EAAY,GAAI,CAC5D,MAAO,GAAU,MAAM,ICDV,YAA0B,EAAY,GAAI,CACvD,GAAI,GAAU,EAAU,MAAM,IAC9B,MAAO,GAAU,EAAQ,GAAK,KCChC,EAAc,WAAa,SAAS,EAAY,GAAI,EAAU,GAAI,CAChE,GAAI,EAAc,kBAAkB,GAAc,MAAO,MAEzD,GAAI,GAAa,AADI,IAAsB,IAAc,IACzB,IAAI,AAAC,GAAM,GAAiB,IAC5D,MAAI,GAAQ,SAAW,IAAS,GAAa,GAAM,OAAO,IACnD,EAAW,OAAS,EAAa,MCJ1C,EAAc,MAAQ,SAAS,EAAY,GAAI,EAAO,GAAI,CACxD,EAAc,oBAAoB,GAClC,GAAI,GAAiB,GAAsB,GACvC,EAAa,EAAc,WAAW,EAAW,CAAE,OAAQ,KAC3D,EAAW,AAAC,GAAQ,EAAG,SAAS,GAAQ,EAAK,GAAO,EAAK,GAI7D,GAAI,EAAe,SAAW,EAAG,CAC/B,GAAI,GAAU,GAAY,EAAW,GAAI,CAAE,OAAQ,KACnD,GAAI,EAAU,MAAM,GAAY,MAAO,GAAY,EAAS,EAAW,IAEzE,SAAW,QAAQ,CAAC,EAAK,IAAU,CACjC,EAAY,EAAU,QAAQ,EAAe,GAAQ,EAAS,MAEzD,GClBT,EAAc,QAAU,SAAS,EAAY,GAAI,EAAQ,GAAI,CAC3D,SAAc,oBAAoB,GAClC,OAAO,KAAK,GAAO,QAAQ,AAAC,GAAY,CACtC,GAAI,GAAW,GAAY,EAAM,GAAU,CAAE,IAAK,KAClD,EAAU,GAAY,EAAS,CAAE,KAAM,MACvC,EAAY,EAAU,QAAQ,EAAS,KAElC,GCLT,GAAO,IAAQ,ECDf,YAA4B,CAK1B,YAAY,EAAU,GAAI,CACxB,GAAM,KAAM,SAGP,WAAU,EAAM,CAAE,MAAO,IAAI,IAAO,GAAG,KAThD,MAES,EAFT,GAES,YAAY,IACZ,EAHT,GAGS,gBAAgB,ICAzB,YAA6B,EAAQ,EAAgB,CACnD,MAAI,GAAG,MAAM,GACX,EAAS,EAAO,IAAI,AAAC,GACZ,GAAoB,EAAM,IAE9B,AAAI,EAAG,OAAO,GACnB,EAAS,EAAO,KAAK,OAAO,KAAK,GAAQ,IAAI,AAAC,GACrC,CAAC,EAAM,GAAoB,EAAO,GAAO,MAEzC,GAAc,gBAAgB,IACvC,GAAS,GAAc,MAAM,EAAQ,IAEhC,EAGT,YAAyB,EAAQ,EAAiB,EAAoB,CACpE,GAAI,EAAG,MAAM,GAAS,CACpB,GAAI,GAAoB,GAAU,iBAAiB,GACnD,EAAS,EAAO,IAAI,AAAC,GACZ,GAAgB,EAAM,EAAiB,QAE3C,AAAI,GAAG,OAAO,IACnB,GAAS,EAAO,KAAK,OAAO,KAAK,GAAQ,IAAI,AAAC,GACrC,CAAC,EAAM,GAAgB,EAAO,GAAO,OAGhD,MAAI,IAAU,iBAAiB,GAC7B,EAAS,GAAU,MAAM,EAAQ,GACxB,GAAU,kBAAkB,IACrC,CAAC,GAAuB,GAAS,GAAU,MAAM,EAAQ,IAEpD,EAKT,GAAO,UAAU,MAAQ,SAAS,EAAQ,CACxC,GAAI,CAAE,iBAAgB,mBAAoB,GAAM,MAChD,SAAS,GAAoB,EAAQ,GACrC,EAAS,GAAgB,EAAQ,GAC1B,GC1CT,GAAO,UAAU,cAAgB,SAAS,EAAQ,CAChD,GAAI,GAAa,KAoBjB,MAnBA,AAAI,IAAU,YAAY,GACxB,GAAa,GACb,GAAU,cAAc,GAAQ,QAAQ,AAAC,GAAW,CAClD,GAAI,CAAC,GAAU,YAAY,GAAW,MAAO,GAAW,KAAK,GAC7D,EAAa,EAAW,OAAO,KAAK,cAAc,OAE/C,AAAI,EAAG,OAAO,GACnB,OAAO,KAAK,GAAQ,QAAQ,AAAC,GAAS,CACpC,GAAI,GAAU,KAAK,cAAc,EAAO,IACxC,AAAI,CAAC,GACL,GAAa,EAAa,EAAW,OAAO,GAAW,KAEhD,EAAG,MAAM,IAClB,EAAO,QAAQ,AAAC,GAAS,CACvB,GAAI,GAAU,KAAK,cAAc,GACjC,AAAI,CAAC,GACL,GAAa,EAAa,EAAW,OAAO,GAAW,KAGtD,GACE,GAAM,OAAO,ICtBtB,GAAO,UAAU,WAAa,SAAS,EAAQ,EAAU,GAAK,CAC5D,GAAI,GAAa,GACjB,GAAI,EAAG,MAAM,GACX,EAAO,QAAQ,AAAC,GAAS,CACvB,GAAI,GAAO,KAAK,WAAW,EAAM,GACjC,GAAS,GAAa,EAAW,OAAO,cAEjC,EAAG,OAAO,GACnB,OAAO,KAAK,GAAQ,QAAQ,AAAC,GAAS,CACpC,GAAI,GAAO,KAAK,WAAW,EAAO,GAAO,GACzC,GAAS,GAAa,EAAW,OAAO,cAEjC,GAAc,gBAAgB,GAAS,CAChD,GAAI,GAAO,GAAc,WAAW,EAAQ,GAC5C,GAAS,GAAa,EAAW,OAAO,IAE1C,MAAI,GAAQ,SAAW,IAAS,GAAa,GAAM,OAAO,IACnD,EAAW,OAAS,EAAa,MCjB1C,GAAO,UAAU,QAAU,SAAS,EAAQ,EAAQ,GAAI,CACtD,MAAI,GAAG,MAAM,GACX,EAAS,EAAO,IAAI,AAAC,GACZ,KAAK,QAAQ,EAAM,IAEvB,AAAI,EAAG,OAAO,GACnB,EAAS,EAAO,KAAK,OAAO,KAAK,GAAQ,IAAI,AAAC,GACrC,CAAC,EAAK,KAAK,QAAQ,EAAO,GAAM,MAEhC,GAAc,gBAAgB,IACvC,GAAS,GAAc,QAAQ,EAAQ,IAElC,GCXT,GAAO,IAAQ,GCRA,WAAe,EAAW,GAAI,EAAU,GAAI,CACzD,MAAO,GAAS,WAAc,GAAS,UAAY,KAAK,ICG1D,GAAM,IAAS,CACb,KAAM,IAAM,IACZ,QAAS,KACT,UAAW,GACX,WAAY,GACZ,WAAY,KACZ,cAAe,MAKV,GAAQ,GCfA,YAAe,EAAO,GAAI,EAAU,GAAI,CACrD,MAAO,GAAK,OAAU,GAAK,MAAQ,KAAK,ICI1C,YAAW,CAOT,aAAc,CACZ,GAAM,KAAM,CAAE,QAAS,GAAI,OAAQ,aAG9B,WAAU,EAAM,CAAE,MAAO,IAAI,IAAK,GAAG,SAErC,QAAO,EAAK,CAAE,MAAO,aAAe,UAEpC,UAAS,EAAK,CAAE,MAAO,CAAC,GAAK,OAAO,SAEpC,YAAW,EAAK,EAAK,CAC1B,GAAK,SAAS,IAAQ,EAAM,CAC1B,KAAM,GAAK,WAAW,gBACtB,QAAS,GAAO,6BApBtB,KAES,EAFT,EAES,aAAa,CAClB,gBAAiB,+BACjB,mBAAoB,4BCTxB,GAAM,IAAU,IAIhB,YAAmB,EAAO,GAAI,CAC5B,MAAO,GAAK,MAAM,IAAS,IAAI,AAAC,GAAM,EAAE,QAAQ,OAAO,AAAC,GAAM,EAAE,QAGlE,YAAkB,EAAQ,GAAI,CAC5B,MAAO,GAAM,IAAI,AAAC,GAAM,EAAE,QAAQ,OAAO,AAAC,GAAM,EAAE,QAAQ,KAAK,ICDjE,EAAK,UAAU,OAAS,SAAS,EAAO,GAAI,EAAW,GAAI,CACzD,GAAI,GAAU,GAAM,MAAM,QAC1B,GAAI,CAAC,UAAU,OAAU,MAAO,MAAK,MAAM,KAAK,UAAU,IAC1D,GAAI,EAAK,OAAO,GAAS,MAAO,IAAY,EAAS,EAAM,GAC3D,OAAO,KAAK,GAAM,QAAQ,AAAC,GAAM,CAC/B,GAAI,EAAK,OAAO,EAAK,IAAO,MAAO,IAAY,EAAS,EAAG,EAAK,IAChE,GAAI,GAAQ,OAAO,KAAK,EAAK,IAAI,IAAI,AAAC,GAAM,CAAC,GAAS,CAAC,EAAG,IAAK,EAAK,GAAG,KACvE,KAAK,OAAO,EAAO,KAAK,OAM5B,YAAqB,EAAU,GAAI,EAAO,GAAI,EAAW,GAAI,CAC3D,EAAO,eAAe,EAAM,oBAC5B,EAAO,OAAO,EAAU,wBACxB,GAAI,CAAC,EAAK,GAAQ,CAAC,GAAI,GAAU,IACjC,KAAO,EAAM,EAAK,SAAS,CACzB,GAAI,CAAE,KAAO,IACX,EAAQ,GAAO,EAAK,OAAS,GAAK,MAC7B,CACL,GAAI,GAAM,EAAQ,GAClB,AAAI,EAAK,OACP,EAAG,OAAO,IAAS,GAAQ,GAAO,CAAE,EAAG,IAEvC,EAAG,OAAO,GAAO,EAAQ,GAAO,EAAW,EAAQ,GAAK,EAAI,EAGhE,EAAU,EAAQ,IC9BtB,EAAK,UAAU,OAAS,SAAS,EAAQ,CAEvC,GAAI,CAAC,EAAU,MAAO,IAAM,MAAM,OAKlC,GAAM,MAAM,OAAS,GCTvB,YAAyB,EAAM,GAAI,EAAU,GAAI,EAAW,GAAI,CAC9D,GAAI,GAAU,GAAI,QAAO,QAAQ,SAAgB,KACjD,GAAI,EAAG,OAAO,GAAa,MAAO,GAAI,QAAQ,EAAS,GACvD,GAAI,CACF,EAAW,KAAK,UAAU,SACnB,EAAP,CACA,EAAW,OAAO,GAEpB,MAAO,GAAI,QAAQ,EAAS,GCJ9B,EAAK,UAAU,UAAY,SAAS,EAAO,GAAI,EAAU,GAAI,CAC3D,GAAI,GAAa,WAAa,GAAU,EAAQ,QAAU,GACtD,EAAY,aAAe,GAAU,EAAQ,UAAY,KAC7D,EAAO,OAAO,EAAY,yBAC1B,GAAa,EAAO,OAAO,EAAW,kBACtC,GAAI,CAAC,EAAM,GAAW,CAAC,GAAU,GAAO,GAAM,MAAM,SAChD,EAAW,GAAa,EAAS,CAAC,GAAM,MAAM,QAAQ,OAAO,IAGjE,MAFI,GAAG,KAAK,IAAa,GAAW,GAChC,CAAC,GACD,CAAC,EAAoB,EAClB,GAAc,EAAU,IAEjC,EAAK,UAAU,EAAI,EAAK,UAAU,UAIlC,YAAsB,EAAU,GAAI,EAAO,GAAI,CAC7C,GAAI,GAAW,GAQf,MAAO,AAPS,GAAK,MAAM,CAAC,EAAK,IACzB,IAAO,GACb,GAAU,EAAQ,GACd,IAAU,EAAK,OAAS,GAC5B,GAAW,EAAG,OAAO,GAAW,EAAU,EAAQ,GAC3C,IAJyB,IAMf,EAAW,KAGhC,YAAuB,EAAW,GAAI,EAAY,GAAI,CACpD,cAAO,KAAK,GAAW,QAAQ,AAAC,GAAa,CAC3C,EAAW,GAAgB,EAAU,EAAU,EAAU,MAEpD,ECnCT,EAAK,UAAU,IAAM,SAAS,EAAQ,GAAI,EAAU,GAAI,CACtD,GAAI,GAAS,GACb,SAAM,KAAK,AAAC,GAAM,CAEhB,GADA,EAAS,KAAK,UAAU,EAAG,GACvB,EAAU,MAAO,KAEhB,GCHT,GAAI,GAAO,EAAK,OAAS,EAAK,SCR9B,GAAO,IAAQ,CACb,mBAAoB,wCACpB,qBAAsB,0CACtB,mBAAoB,+BACpB,yBAA0B,oFAC1B,kBAAmB,qDACnB,qBAAsB,4CACtB,2BAA4B,mDAC5B,8BAA+B,uCAC/B,2BAA4B,gCAC5B,gCAAiC,oCACjC,oCAAqC,2DCXvC,GAAO,IAAQ,CACb,mBAAoB,qEACpB,qBAAsB,iEACtB,mBAAoB,yDACpB,yBAA0B,sHAC1B,kBAAmB,4EACnB,qBAAsB,uFACtB,2BAA4B,6FAC5B,8BAA+B,yDAC/B,2BAA4B,qEAC5B,gCAAiC,4DACjC,oCAAqC,iFCLvC,EAAK,OAAO,CACV,GAAI,CAAE,SAAU,IAChB,GAAI,CAAE,SAAU,MAKlB,GAAO,GAAQ,ECPf,GAAM,IAAU,IACV,GAAoB,CAAC,WAAY,QAAS,OAAQ,QAClD,GAAkB,gCAIxB,YAAwB,EAAM,GAAI,CAChC,GAAI,GAAO,EAAI,MAAM,IACjB,EAAO,EAAK,MAChB,MAAO,CAAE,MAAO,EAAM,QAGxB,YAAuB,EAAQ,GAAI,EAAO,GAAI,CAC5C,MAAQ,GAAO,EAAM,OAAO,GAAQ,GAAO,KAAK,IAGlD,YAAwB,EAAU,EAAO,EAAQ,CAC/C,GAAI,CAAC,EAAY,GAAS,CAAC,EAAS,OAAO,WAAW,GAAQ,IAC9D,MAAK,GACL,GAAW,QAAQ,AAAC,GAAc,CAChC,GAAI,GAAW,EAAS,OAAO,UAAU,MAAM,EAAW,CAAE,WACxD,EAAU,EAAG,OAAO,GAGxB,GAFA,GAAY,GAAU,EAAG,eAAe,EAAS,KACjD,GAAY,GAAU,EAAG,eAAe,EAAS,OAC7C,EAAW,MAAO,GAAM,GAAa,KAAK,UAAU,GACxD,EAAM,CACJ,KAAM,EAAS,WAAW,8BAC1B,QAAS,EAAK,EAAE,6BAA8B,CAC5C,UAAW,CAAE,mBAIZ,EAAS,OAAO,QAAQ,EAAO,IAdZ,EAiB5B,YAA4B,EAAU,EAAO,EAAQ,CACnD,GAAI,CAAC,EAAW,GAAS,CAAC,EAAS,OAAO,WAAW,GAAQ,IAC7D,MAAK,GACL,GAAU,QAAQ,AAAC,GAAa,CAC9B,GAAI,GAAS,KACb,GAAI,CAAE,EAAS,KAAK,MAAM,SAAkB,EAAN,CAAe,OACrD,GAAI,GAAY,EAAS,OAAO,UAAU,UAAU,EAAQ,CAAE,WAE9D,GADc,EAAG,eAAe,GACjB,MAAO,GAAM,GAAY,EACxC,EAAM,CACJ,KAAM,EAAS,WAAW,8BAC1B,QAAS,EAAK,EAAE,6BAA8B,CAC5C,UAAW,CAAE,UAAW,SAIvB,EAAS,OAAO,QAAQ,EAAO,IAdb,ECpC3B,YAAwB,EAAS,GAAI,EAAW,GAAI,CAClD,MAAO,UAAK,IAAqB,GAAa,GAGhD,YAAwB,EAAS,GAAI,CACnC,cAAO,KAAK,GAAQ,QAAQ,AAAC,GAAQ,CACnC,AAAI,EAAK,SAAS,EAAO,KACzB,GAAO,GAAO,EAAO,QAEhB,EAKM,YAAe,EAAS,GAAI,CACzC,GAAI,CAAE,KAAI,QAAS,EACf,EAAO,KAAK,IAAI,CAAE,KAAI,KAAM,SAC5B,CAAE,QAAO,YAAa,EAAM,MAAM,UAAU,GAAM,OAAO,OAC7D,GAAI,CAAC,EACH,MAAO,GAAM,IAAI,AAAC,GAAS,CACzB,GAAI,GAAS,GAAe,GAAe,EAAM,IACjD,MAAI,IAAkB,SAAS,EAAO,OACpC,GAAO,UAAY,EAAO,WAAa,IAElC,IAGX,GAAI,GAAQ,EAAM,KAAK,AAAC,GAAS,EAAK,OAAS,GAC3C,EAAS,GAAe,GAAe,GAAS,EAAU,IAC9D,SAAO,KAAO,EACV,GAAkB,SAAS,IAC7B,GAAO,UAAY,EAAO,WAAa,IAElC,ECnCM,YAAe,EAAY,GAAI,EAAU,GAAI,CAL5D,QAME,EAAa,MAAK,OAAO,WAAW,IAAc,IAAI,IAAM,EAC5D,GAAI,GAAS,EACT,CAAE,QAAO,QAAS,GAAe,GACjC,EAAQ,EAAQ,OAAS,KAAK,OAAO,OACrC,EAAS,EAAQ,QAAU,KAC3B,CAAC,EAAM,GAAM,CAAC,KAAM,EAAM,IAC9B,GAAI,CAAC,EAAM,QAAU,KAAK,OAAO,MAAM,CAAE,OAAS,MAAO,MACzD,KAAO,EAAO,EAAM,SAAS,CAI3B,GAHA,EAAK,WAAK,OAAO,WAAW,CAAE,SAAzB,cAAgC,KAAK,AAAC,GAClC,KAAK,IAAI,CAAE,GAAI,EAAI,GAAI,KAAM,WAAc,KAD/C,cAED,GACA,CAAC,EAAM,MAAO,MAClB,GAAI,GAAO,KAAK,IAAI,CAAE,KAAI,KAAM,SAE5B,EAAc,AADC,EAAM,MAAM,UAAU,GAAM,OAChB,OAAO,UAAU,MAChD,GAAI,EACF,SAAY,GAAc,EAAO,GAC1B,EAAY,KACjB,KACA,CAAE,KAAI,SAAU,EAAW,UAC3B,EAAS,CAAE,GAAI,EAAO,IAAM,GAAI,KAAM,EAAO,MAAQ,IAAO,MAIlE,MAAO,CAAE,KAAI,QCzBA,YAAmB,EAAS,GAAI,EAAU,GAAI,CAC3D,GAAI,CAAE,KAAI,QAAS,EACf,EAAS,CAAE,KAAI,QACf,EAAQ,EAAQ,OAAS,KAAK,OAAO,OACrC,EAAS,EAAQ,QAAU,KAC3B,EAAU,KACR,EAAQ,SAAW,gBAA0B,AAAC,GAAQ,EACnD,AAAC,GAAQ,GAAM,MAAM,UAE9B,GAAI,KAAK,OAAO,MAAM,CAAE,OAAS,MAAO,GACxC,GAAI,GAAY,KAAK,OAAO,SAAS,CAAE,MAAM,CAAE,KAAM,GAAM,KAAM,KAC7D,CAAC,EAAY,GAAS,CAAC,EAAU,UAAU,AAAC,GAAM,EAAE,KAAO,EAAM,IAAK,IAG1E,GAFI,EAAa,GACjB,GAAY,EAAU,MAAM,EAAG,GAC3B,CAAC,EAAU,QAAU,MAAO,GAChC,GAAI,GAAW,KACf,KAAO,EAAW,EAAU,OAAO,CACjC,EAAM,KAAK,KAAK,IAAI,CAAE,GAAI,EAAS,GAAI,KAAM,UAC7C,GAAI,GAAO,KAAK,IAAI,CAAE,GAAI,EAAS,GAAI,KAAM,SAEzC,EAAkB,AADH,EAAM,MAAM,UAAU,GAAM,OACZ,OAAO,UAAU,UACpD,GAAI,EAAiB,CACnB,GAAI,GAAY,GAAc,GAC1B,EAAM,EAAgB,KACxB,KACA,CAAE,GAAI,EAAS,GAAI,OAAQ,EAAW,SAAU,EAAM,UACtD,EAAS,CAAE,GAAI,EAAO,IAAM,GAAI,KAAM,EAAO,MAAQ,IAAO,MAE9D,MAAO,GAAO,IAGlB,MAAO,GAAO,GAAc,EAAO,IC7BtB,YAAsB,EAAU,CAC7C,GAAI,GAAS,GAAO,OAAO,CACzB,eAAe,EAAU,CACvB,MAAO,GAAS,IAAI,KAAK,MAAM,KAEjC,gBAAgB,EAAa,GAAI,CAC/B,SAAS,UAAU,gBAAgB,GAC5B,CAAC,EAAS,UAAU,MAAM,MAGrC,SAAO,IAAM,GAAM,KAAK,GACxB,EAAO,UAAY,CACjB,MAAO,GAAM,KAAK,GAClB,UAAW,GAAU,KAAK,IAErB,ECtBT,GAAO,IAAQ,CACb,WAAY,CACV,SAAU,CACR,MAAO,YACP,aAAc,wCAEhB,QAAS,CACP,MAAO,WACP,YAAa,gDACb,aAAc,8BAEhB,UAAW,CACT,MAAO,aACP,aAAc,gCAEhB,UAAW,CACT,MAAO,aACP,YAAa,6DACb,aAAc,+BAEhB,SAAU,CACR,MAAO,WACP,aAAc,oBAEhB,WAAY,CACV,MAAO,cACP,YAAa,iFACb,aAAc,iCC3BpB,GAAO,IAAQ,CACb,WAAY,CACV,SAAU,CACR,MAAO,2BACP,aAAc,4DAEhB,QAAS,CACP,MAAO,eACP,YAAa,2EACb,aAAc,0CAEhB,UAAW,CACT,MAAO,qBACP,aAAc,uDAEhB,UAAW,CACT,MAAO,2BACP,YAAa,+GACb,aAAc,sDAEhB,SAAU,CACR,MAAO,qBACP,aAAc,kCAEhB,WAAY,CACV,MAAO,2BACP,YAAa,4KACb,aAAc,wDCrBpB,EAAK,OAAO,CACV,GAAI,CAAE,UAAW,IACjB,GAAI,CAAE,UAAW,MAKnB,GAAO,GAAQ,ECRf,GAAO,IAAQ,CACb,KAAM,WACN,SAAU,CAAC,SAAU,SACrB,UAAW,IACX,SAAU,EAAO,EAAM,CACrB,GAAI,CAAC,EAAK,OAAO,CAAE,KAAM,EAAK,IAAI,GAAQ,MAAO,IAC/C,MAAO,GAAK,EAAE,6CAA8C,CAC1D,UAAW,CAAE,QAAO,YCP5B,YAAe,EAAG,EAAG,CACnB,GAAI,IAAM,EAAG,MAAO,GAEpB,GADI,MAAO,IAAK,UAAY,MAAO,IAAK,UACpC,GAAK,MAAQ,GAAK,KAAQ,MAAO,GACrC,GAAI,CAAC,EAAO,GAAS,CAAC,OAAO,KAAK,GAAI,OAAO,KAAK,IAClD,GAAI,EAAM,SAAW,EAAM,OAAU,MAAO,GAC5C,OAAS,KAAO,GAEd,GADI,CAAC,EAAM,SAAS,IAChB,CAAC,GAAM,EAAE,GAAM,EAAE,IAAO,MAAO,GAErC,MAAO,GAKT,GAAO,IAAQ,CACb,KAAM,UACN,SAAU,IACV,UAAW,IACX,aAAa,EAAM,CACjB,GAAI,EAAG,MAAM,GACX,MAAO,GAAK,EAAE,6CAGlB,SAAU,EAAO,EAAM,CACrB,GAAI,CAAC,GAAM,EAAO,GAChB,MAAO,GAAK,EAAE,4CAA6C,CACzD,UAAW,CAAE,QAAO,YC3B5B,GAAO,IAAQ,CACb,KAAM,YACN,UAAW,SACX,SAAU,EAAO,CACf,GAAI,CAAC,EAAG,QAAQ,GACd,MAAO,GAAK,EAAE,8CAA+C,CAC3D,UAAW,CAAE,aCNrB,GAAO,IAAQ,CACb,KAAM,YACN,SAAU,SACV,UAAW,CAAC,SAAU,SACtB,aAAc,EAAM,CAClB,GAAI,CAAC,EAAG,gBAAgB,GACtB,MAAO,GAAK,EAAE,+CAGlB,SAAU,EAAO,EAAM,CACrB,GAAI,EAAM,OAAS,EACjB,MAAO,GAAK,EAAE,8CAA+C,CAC3D,UAAW,CAAE,QAAO,YCZ5B,GAAO,IAAQ,CACb,KAAM,WACN,UAAW,IACX,SAAU,EAAO,CACf,GAAI,EAAG,MAAM,GACX,MAAO,GAAK,EAAE,6CAA8C,CAC1D,UAAW,CAAE,aCNrB,GAAM,IAAU,aAIT,GAAQ,CACb,KAAM,aACN,SAAU,CAAC,SAAU,UACrB,UAAW,SACX,aAAa,EAAM,CACjB,GAAI,GAAG,OAAO,IACV,IAAG,OAAO,IAAS,EAAK,MAAM,KAClC,MAAO,GAAK,EAAE,8CAA+C,CAC3D,UAAW,CAAE,WAGjB,SAAU,EAAO,EAAM,CAErB,GADI,EAAG,OAAO,IAAS,GAAO,GAAI,QAAO,EAAK,MAAM,IAAS,KACzD,CAAC,EAAM,MAAM,GACf,MAAO,GAAK,EAAE,+CAAgD,CAC5D,UAAW,CAAE,QAAO,KAAM,OAAO,QCfzC,GAAO,IAAQ,CACb,GACA,GACA,GACA,GACA,GACA,ICfa,WAAS,EAAY,GAAI,EAAU,GAAI,CACpD,MAAO,GAAU,YAAe,GAAU,WAAa,KAAK,ICI9D,YAAgB,CAWd,aAAc,CACZ,EAAM,KAAM,CAAE,UAAW,KACzB,GAAW,QAAQ,AAAC,GAAM,KAAK,QAAQ,UAGlC,WAAU,EAAM,CAAE,MAAO,IAAI,IAAU,GAAG,KAhBnD,KAES,EAFT,EAES,aAAa,CAClB,gBAAiB,4BACjB,kBAAmB,8BACnB,uBAAwB,mCACxB,4BAA6B,wCAE7B,iCAAkC,+CCbtC,GAAM,IAAgB,QAIP,YAA2B,EAAU,GAAI,CACtD,GAAI,GAAa,GAEjB,MADI,SAAW,IAAW,GAAW,IAAiB,EAAQ,OACzD,EAAQ,MACb,GAAW,EAAQ,MAAQ,OACvB,QAAU,IAAW,GAAW,EAAQ,MAAQ,EAAQ,OACrD,ECJT,EAAU,UAAU,kBAAoB,SAAS,EAAY,GAAI,CAC/D,GAAI,CAAE,aAAc,EAAM,MAC1B,MAAM,GAAU,OAAQ,GACjB,GAAkB,OACpB,GADoB,CAEvB,KAAM,EAAU,EAAU,MAAM,SAAW,EAAU,KAAO,MAHjB,GAAkB,ICPjE,GAAM,IAAgB,QAIP,YAA2B,EAAa,GAAI,CACzD,GAAI,GAAQ,EAAW,IACvB,EAAa,EAAO,QAAQ,EAAY,CAAC,KACzC,GAAI,GAAO,OAAO,KAAK,GAAY,GAC/B,EAAO,EAAW,GACtB,MAAO,CAAE,OAAM,OAAM,SCFvB,EAAU,UAAU,gBAAkB,SAAS,EAAa,GAAI,EAAU,GAAI,CAC5E,EAAO,OAAO,EAAY,qBAC1B,GAAI,GAAS,UAAY,GAAU,EAAQ,OAAS,GAChD,CAAE,OAAM,QAAS,GAAkB,GACnC,CAAE,aAAc,EAAM,MACtB,EAAY,EAAU,GAK1B,GAJA,CAAC,GAAa,EAAM,CAClB,KAAM,EAAU,WAAW,uBAC3B,QAAS,0BAA0B,OAEjC,GAAC,GAAU,CAAC,EAAU,UAC1B,IAAI,CACF,EAAK,WAAW,CAAE,KAAM,EAAK,IAAI,GAAO,MAAO,EAAU,iBAClD,EAAP,CACA,EAAM,CACJ,KAAM,EAAU,WAAW,iCAC3B,QAAS,EAAE,SAAW,2CAG1B,GAAI,EAAC,EAAU,aACf,GAAI,CACF,GAAI,GAAQ,EAAU,aAAa,GACnC,GAAI,EAAS,KAAM,IAAI,OAAM,SACtB,EAAP,CACA,EAAM,CACJ,KAAM,EAAU,WAAW,4BAC3B,QAAS,EAAE,SAAW,oCCzB5B,EAAU,UAAU,MAAQ,SAAS,EAAa,GAAI,EAAK,CACzD,GAAI,GAAQ,KACZ,GAAI,CAAE,KAAK,gBAAgB,SAAoB,EAAN,CAAW,EAAQ,EAC5D,GAAI,CAAC,EAAO,CACV,GAAI,CAAE,aAAc,EAAM,MACtB,CAAE,OAAM,OAAM,SAAU,GAAkB,GAC9C,UAAU,OAAS,GAAM,GAAQ,GACjC,GAAI,GAAY,EAAU,GACtB,CAAC,EAAW,GAAkB,CAAC,EAAK,IAAI,GAAQ,EAAU,WAC9D,GAAI,CACF,EAAK,WAAW,CAAE,KAAM,EAAW,MAAO,UACnC,EAAP,CAAY,EAAQ,EACtB,AAAK,GAAS,GAAQ,EAAU,SAAS,EAAO,IAElD,MAAO,AAAC,GAAe,EAAU,OAAO,CACtC,KAAM,EAAU,WAAW,kBAC3B,QAAU,KAAM,CACd,GAAI,GAAiB,aACrB,MAAI,GAAG,OAAO,GAAiB,EAC3B,YAAiB,QAAgB,EAAM,SAAW,QAL1C,MCjBlB,EAAU,UAAU,kBAAoB,SAAS,EAAa,GAAI,CAChE,GAAI,CAAE,aAAc,EAAM,MACtB,EAAY,GAAkB,GAClC,MAAM,GAAU,OAAQ,IACnB,GAAU,EAAU,MAAM,UAAY,GAAU,KAAO,KACrD,GCLT,EAAU,UAAU,IAAM,SAAS,EAAU,IAAK,EAAU,GAAI,CAC9D,GAAI,CAAC,EAAY,GAAa,CAAC,GAAI,EAAM,MAAM,WAC3C,EAAS,UAAY,GAAU,EAAQ,OAAS,GACpD,SAAK,MAAM,IAAY,GAAS,CAAC,IACjC,OAAO,OAAO,GAAW,QAAQ,AAAC,GAAc,CAC9C,AAAI,EAAO,SAAS,EAAU,OAC1B,CAAC,EAAK,OAAO,CAAE,KAAM,EAAS,MAAO,EAAU,aACnD,EAAW,KAAK,KAAK,MAEhB,EAAW,OAAS,EAAa,MCV1C,EAAU,UAAU,IAAM,SAAS,EAAO,GAAI,CAC5C,GAAI,GAAY,EAAM,MAAM,UAC5B,MAAO,KAAQ,GAAY,KAAK,EAAU,IAAU,MCsCtD,EAAU,UAAU,QAAU,SAAS,EAAY,GAAI,CACrD,EAAO,OAAO,EAAW,uBACzB,GAAI,CAAE,OAAM,YAAW,WAAU,WAAU,gBAAiB,EAC5D,EAAO,eAAe,EAAM,8BAC5B,EAAO,KAAK,EAAW,mCACvB,EAAO,SAAS,EAAU,kCAC1B,GAAY,EAAO,KAAK,EAAU,kCAClC,GAAgB,EAAO,SAAS,EAAc,4BAC9C,GAAI,CAAE,aAAc,EAAM,MAC1B,IAAQ,IAAa,EAAM,CACzB,KAAM,EAAU,WAAW,gBAC3B,QAAS,kBAAkB,yBAE7B,EAAU,GAAQ,OACb,GADa,CAEhB,OAAM,YAAW,WAAU,WAAU,kBCvDzC,EAAU,UAAU,YAAc,YAAY,EAAM,CAClD,GAAI,CAAE,KAAK,gBAAgB,GAAG,SAAe,EAAP,CAAY,MAAO,GACzD,MAAO,ICFT,EAAU,UAAU,QAAU,YAAY,EAAM,CAC9C,MAAO,CAAC,KAAK,MAAM,GAAG,ICDxB,EAAU,UAAU,cAAgB,YAAY,EAAM,CACpD,MAAO,CAAC,KAAK,YAAY,GAAG,ICD9B,EAAU,UAAU,UAAY,YAAY,EAAM,CAChD,MAAO,CAAC,KAAK,QAAQ,GAAG,ICD1B,EAAU,UAAU,UAAY,SAAS,EAAO,GAAI,CAClD,GAAI,CAAE,aAAc,EAAM,MAC1B,AAAI,IAAQ,IAAa,MAAO,GAAU,ICH7B,YAAyB,EAAU,CAChD,MAAO,GAAU,SCDJ,YAA0B,EAAU,CACjD,MAAO,GAAW,SCAL,YAA6B,EAAU,EAAM,CAC1D,CAAE,KAAQ,GAAM,GAAU,YAAc,EAAM,CAC5C,KAAM,EAAS,WAAW,wBAC1B,QAAS,eAAe,wBCH5B,YAAsB,EAAU,EAAO,GAAI,EAAW,CACpD,GAAI,CAAE,OAAM,WAAY,EAIxB,MAHA,GAAK,MAAM,IAAU,GAAO,CAAC,IAC7B,EAAK,MAAM,IAAa,GAAU,CAAC,IACnC,EAAU,EAAQ,IAAI,AAAC,GAAM,EAAE,KAAK,IAChC,AAAC,EACL,GAAU,EAAQ,IAAI,AAAC,GAAO,CAAC,KAAW,IAAS,CACjD,GAAI,GAAa,EAAS,IAAI,CAAE,GAAI,EAAO,GAAI,KAAM,SAGrD,GAFA,GAAe,GAAc,GAAO,OAAS,IAAI,MAAQ,WACzD,GAAoB,EAAU,GAC1B,IAAe,EAAa,MAAO,GAAG,EAAQ,GAAG,KAEhD,CAAE,OAAM,YAPU,CAAE,OAAM,WAYpB,YAAe,EAAO,EAAU,GAAI,CACjD,GAAI,CAAC,EAAS,OACd,GAAI,GAAY,EAAQ,KACxB,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,EAAM,QAAQ,AAAC,GAAS,CACtB,GAAI,CAAE,OAAM,WAAY,GAAa,KAAM,EAAM,GACjD,EAAK,QAAQ,AAAC,GAAS,EAAQ,QAAQ,AAAC,GAAO,KAAK,MAAM,IAAI,EAAM,OCxBzD,YAA0B,EAAU,CACjD,SAAS,MAAM,MAAQ,GAAM,KAAK,GAC3B,EAAS,MCCH,YAAkB,EAAU,CACzC,GAAI,GAAc,EAAS,IAC3B,MAAO,GAAS,IAAM,SAAS,EAAS,GAAI,EAAU,GAAI,CACxD,GAAI,CAAE,KAAI,QAAS,EACf,EAAS,EAAY,KAAK,EAAU,EAAQ,GAChD,GAAI,CAAC,GAAU,CAAC,EAAO,IAAO,MAAO,GACrC,GAAI,QAAU,GAAQ,CACpB,GAAI,GAAQ,EAAO,IAAI,MACvB,EAAO,IAAI,MAAQ,GAAkB,EAAU,EAAI,EAAM,OAEzD,QAAO,KAAK,EAAO,IAAI,QAAQ,QAAQ,AAAC,GAAS,CAC/C,GAAI,GAAQ,EAAO,IAAI,OAAO,GAC9B,EAAO,IAAI,OAAO,GAAQ,GAAkB,EAAU,EAAI,EAAM,KAGpE,MAAO,IAMX,YAA2B,EAAU,EAAI,EAAM,EAAO,CAEpD,MADI,IAAkB,SAAS,IAC3B,CAAC,EAAS,OAAO,IAAI,CAAE,KAAI,SAAQ,UAAoB,EACpD,GAAmB,EAAU,EAAO,CAAE,KAAI,SCzBpC,YAAS,EAAY,GAAI,CACtC,GAAI,CAAE,aAAc,EAAM,MACtB,EAAO,EAAU,KACjB,EAAU,EAAG,SAAS,EAAU,SAAW,EAAU,QAAU,KAC/D,EAAO,EAAG,SAAS,EAAU,MAAQ,EAAU,KAAO,KACtD,EAAQ,SAAW,GAAY,EAAU,MAAQ,GACjD,EAAS,UAAY,GAAY,EAAU,OAAS,GACpD,EAAQ,SAAW,GAAS,EAAO,MAAQ,GAC3C,EAAW,YAAc,GAAS,EAAO,SAAW,GACpD,EAAY,aAAe,GAAS,EAAO,UAAY,GACvD,EAAQ,SAAW,GAAY,EAAU,MAAQ,KACjD,EAAY,aAAe,GAAY,EAAU,UAAY,KACjE,EAAO,eAAe,EAAM,0BAC5B,GAAQ,EAAO,SAAS,EAAM,0BAC9B,GAAW,EAAO,SAAS,EAAS,6BACpC,GAAS,EAAO,SAAS,EAAO,4CAChC,GAAa,EAAO,SAAS,EAAW,uCACxC,EAAO,MAAM,EAAO,kCACpB,EAAO,OAAO,EAAU,qCACxB,EAAO,MAAM,EAAO,2BACpB,EAAM,QAAQ,AAAC,GAAS,EAAO,OAAO,EAAM,gCAC5C,EAAQ,EAAM,KAAK,KACnB,EAAM,QAAQ,AAAC,GAAS,CACtB,GAAI,CAAE,OAAM,UAAS,SAAU,EAC/B,GAAS,EAAO,eAAe,EAAO,gCACtC,EAAO,EAAG,MAAM,GAAQ,EAAO,CAAC,GAChC,EAAU,EAAG,MAAM,GAAW,EAAU,CAAC,GACzC,EAAK,QAAQ,AAAC,GAAM,EAAO,eAAe,EAAG,gCAC7C,EAAQ,QAAQ,AAAC,GAAM,EAAO,SAAS,EAAG,qCAE5C,IAAQ,IAAa,EAAM,CACzB,KAAM,KAAK,WAAW,uBACtB,QAAS,yBAAyB,0BAEpC,EAAU,GAAQ,CAChB,OAAQ,CACN,OAAM,QAAO,UAAS,OACtB,OAAQ,CAAE,WAAU,QAAO,UAAW,CAAE,QAAO,gBAGnD,EAAM,QAAQ,AAAC,GAAS,CACtB,GAAI,CAAC,EAAK,MAAS,MAAO,MAAK,MAAM,MAAM,EAAM,CAAE,KAAM,IACzD,GAAI,GAAO,EAAG,MAAM,EAAK,MAAQ,EAAK,KAAO,CAAC,EAAK,MAEnD,AADc,GAAG,MAAM,EAAK,SAAW,EAAK,QAAU,CAAC,EAAK,UACpD,QAAQ,AAAC,GAAO,EAAK,QAAQ,AAAC,GAAO,CAS3C,AAR4B,OAAO,KAAK,GAAW,KAAK,AAAC,IAChD,KAAM,GAAQ,EAAU,IAAG,OAAO,MAAM,KAAK,AAAC,GAAM,CACzD,GAAI,IAAM,EAAG,MAAM,EAAE,MAAQ,EAAE,KAAO,CAAC,EAAE,MACrC,GAAM,EAAG,MAAM,EAAE,SAAW,EAAE,QAAU,CAAC,EAAE,SAC/C,MAAO,GAAE,QAAU,EAAK,OAAS,GAAI,SAAS,IAAO,GAAI,SAAS,OAKtE,KAAK,MAAM,MAAM,OAAK,GAAL,CAAW,KAAM,EAAI,QAAS,IAAM,CAAE,KAAM,EAAK,aCvDzD,YAAiB,EAAO,GAAI,EAAU,GAAI,CACvD,GAAI,CAAE,MAAO,EACb,GAAI,KAAK,OAAO,MAAM,CAAE,OAAS,MAAO,MACxC,GAAI,GAAa,UAAY,GAAU,EAAQ,OAAS,GACpD,CAAC,EAAM,GAAU,CAAC,EAAQ,MAAQ,GAAI,EAAQ,QAAU,IAC5D,EAAK,MAAM,IAAU,GAAO,CAAC,IAC7B,EAAK,MAAM,IAAY,GAAS,CAAC,IACjC,GAAI,CAAE,SAAQ,OAAQ,GAAa,KAAM,GAGzC,GAFA,EAAS,GAAY,KAAM,EAAQ,EAAM,GACzC,EAAI,OAAS,GAAY,KAAM,EAAI,OAAQ,EAAM,GAC7C,CAAC,EAAc,MAAO,CAAE,SAAQ,OACpC,GAAI,CAAC,EAAQ,GAAa,GAAc,KAAM,GAC9C,MAAO,CAAE,SAAQ,SAAQ,IAAK,OAAK,GAAL,CAAU,OAAQ,KAKlD,YAAsB,EAAU,EAAI,CAClC,GAAI,GAAO,EAAS,IAAI,CAAE,KAAI,KAAM,SAChC,EAAgB,EAAM,GAAU,UAAU,GAAM,OAAO,QAC3D,GAAI,EAAe,CACjB,GAAI,GAAS,EAAc,KAAK,EAAU,CAAE,OAC5C,UAAW,GAAS,IACpB,EAAO,QAAW,GAAO,OAAS,IAClC,EAAO,KAAQ,GAAO,IAAM,IAC5B,EAAO,IAAI,QAAW,GAAO,IAAI,OAAS,IACnC,EAET,GAAI,CAAE,SAAQ,OAAQ,EAAS,IAAI,CAAE,MAAM,CAAE,QAAS,QACtD,EAAO,SAAW,GAClB,EAAI,OAAO,SAAW,GACtB,GAAI,GAAW,EAAS,OAAO,WAAW,CAAE,OAC5C,MAAK,GACL,GAAS,QAAQ,AAAC,GAAQ,CACxB,GAAI,GAAQ,GAAa,EAAU,EAAI,IACvC,EAAO,SAAS,KAAK,EAAM,QAC3B,EAAI,OAAO,SAAS,KAAK,EAAM,IAAI,UAE9B,CAAE,SAAQ,QANO,CAAE,SAAQ,OASpC,YAAqB,EAAU,EAAQ,GAAI,EAAO,GAAI,EAAS,GAAI,CACjE,cAAO,KAAK,GAAO,QAAQ,AAAC,GAAS,CACnC,EAAK,QAAU,CAAC,EAAK,SAAS,IAAS,MAAO,GAAM,GACpD,EAAO,QAAU,EAAO,SAAS,IAAS,MAAO,GAAM,KAErD,EAAM,UACR,EAAM,SAAS,QAAQ,CAAC,EAAK,IAAU,CACrC,EAAM,SAAS,GAAS,GAAY,EAAU,EAAK,EAAM,KAGtD,EAGT,YAAuB,EAAU,EAAI,CACnC,GAAI,CAAC,EAAQ,GAAa,CAAC,GAAI,IAE/B,MADU,GAAS,OAAO,WAAW,CAAE,MAAM,CAAE,KAAM,GAAM,KAAM,KAC7D,QAAQ,CAAC,CAAE,QAAS,CACtB,GAAI,GAAQ,EAAS,IAAI,CAAE,MAAM,CAAE,QAAS,CAAC,MAAO,WACpD,EAAM,QAAU,EAAO,KAAK,CAAE,KAAI,OAAQ,EAAM,SAChD,EAAM,IAAI,QAAU,EAAU,KAAK,CAAE,KAAI,OAAQ,EAAM,IAAI,WAEtD,CAAC,EAAO,OAAS,EAAS,KAAM,EAAU,OAAS,EAAY,MC9DzD,YAAc,EAAO,GAAI,EAAQ,GAAI,EAAU,GAAI,CAChE,GAAI,GAAU,WAAa,GAAU,EAAQ,QAAU,GACvD,GAAI,GAAW,KAAK,OAAO,MAAM,CAAE,GAAI,EAAK,KAAS,OACrD,GAAI,CAAC,EAAQ,EAAS,GAAa,CAAC,KAAM,CAAC,CAAE,GAAI,EAAK,GAAI,UAAU,IACpE,KAAO,EAAS,EAAQ,SAAS,CAC/B,GAAI,CAAC,EAAI,GAAe,CAAC,EAAO,GAAI,EAAO,OACvC,EAAY,KAAK,OAAO,IAAI,CAAE,OAC9B,EAAQ,KACN,EAAoB,KAAK,IAAI,CAAE,KAAI,KAAM,SACtC,EAAY,MAAQ,aAEzB,EAAa,EAAM,MAAM,UAAU,GAAM,OAAO,KACpD,GAAI,EAAY,CACd,GAAI,GAAS,EAAW,KAAK,KAAM,CAAE,MAAM,GAC3C,GAAW,GAAY,EAAU,OAAO,QAExC,QAAO,KAAK,GAAa,QAAQ,AAAC,GAAS,CACzC,GAAI,IAAS,WAAY,CACvB,GAAI,GAAW,CAAE,OAAQ,MAAO,KAAI,OAAM,MAAO,EAAY,IAC7D,MAAO,GAAU,KAAK,GAExB,GAAI,CAAC,EAAU,GAAO,CAAC,EAAI,KAAK,OAAO,WAAW,CAAE,QAAS,IAC7D,EAAY,SAAS,QAAQ,CAAC,EAAG,IAAM,CACrC,GAAI,EAAI,GAAM,MAAO,GAAQ,KAAK,CAAE,GAAI,EAAI,GAAG,GAAI,MAAO,IAC1D,GAAI,CAAC,EAAI,GAAM,GAAQ,CAAC,IAAQ,EAAE,KAAM,EAAE,MAAQ,WAC9C,GAAW,CAAE,OAAQ,MAAO,WAAU,KAAI,MAAO,CAAE,OAAM,UAC7D,EAAU,KAAK,IACf,EAAQ,KAAK,CAAE,KAAI,MAAO,OAAK,GAAL,CAAQ,eAK1C,MAAO,GAAU,KAAK,SAAS,IAAI,GAAa,EClClD,GAAM,IAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,GAAQ,GAAO,OAAS,IAAI,MAAQ,UACxC,GAAoB,KAAM,MAMvB,GAAQ,GCPf,GAAM,IAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,MAAO,EACT,CAAE,SAAQ,cAAe,KACzB,EAAc,EAAO,WAAW,CAAE,MAAM,CAAE,KAAM,KAChD,EAAe,CAAE,KAAM,GAAO,KAAM,GAAO,MAAO,IAEtD,AADc,EAAW,QAAQ,EAAa,IACnC,EAAM,CACf,KAAM,KAAK,WAAW,kBACtB,QAAS,EAAK,EAAE,8BAA+B,CAAE,UAAW,CAAE,aAO7D,GAAQ,GCvBf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAC,EAAI,GAAQ,CAAC,EAAO,GAAK,GAAO,OAAS,IAAI,MAAQ,WACtD,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,SACnD,EAAQ,GAAI,EAAO,IAAI,MAAQ,EAAQ,GAAI,EAAO,MAAQ,EAC1D,EAAQ,GAAI,EAAO,IAAI,OAAS,EAAQ,GAAI,EAAO,OAAS,OAE7D,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,GAAO,KAAK,IAAI,CAAE,GAAI,EAAO,GAAI,KAAM,SAC3C,EAAO,OAAU,GAAO,MAAQ,IAChC,EAAO,MAAM,KAAO,KAMjB,GAAQ,GCnBf,GAAM,IAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,SAAU,EACpB,GAAU,GAAO,MAAQ,IACzB,EAAO,MAAM,MAAS,GAAO,MAAM,KAAO,KAE3C,CACD,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,SAAU,EAChB,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,SACnD,EAAQ,GAAI,EAAO,IAAI,MAAQ,EAAQ,GAAI,EAAO,MAAQ,EAAM,KAChE,EAAQ,GAAI,EAAO,IAAI,OAAS,EAAQ,GAAI,EAAO,OAAS,OAE7D,CACD,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,OAAM,SAAU,EAC1B,GAAI,IAAS,OAAU,OACvB,GAAI,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,SACnD,EAAQ,GAAI,EAAO,IAAI,MAAQ,EAAQ,GAAI,EAAO,MAAQ,EAC1D,EAAQ,GAAI,EAAO,IAAI,OAAS,EAAQ,GAAI,EAAO,OAAS,QAMzD,GAAQ,GC5Bf,GAAM,IAAQ,CAAC,CACb,KAAM,CAAC,aAAc,eACrB,QAAQ,EAAQ,CACd,GAAI,EAAO,OAAS,OAAU,MAAO,MAMlC,GAAQ,GCHf,YAA6B,EAAU,EAAI,EAAM,CAC/C,GAAI,GAAW,EAAS,OAAO,QAAQ,CAAE,OACzC,AAAI,CAAC,GACL,EAAS,KAAK,CAAC,CAAE,QACR,EAAS,IAAI,CAAE,KAAI,KAAM,WAAc,IAC1C,EAAM,CACV,KAAM,EAAS,WAAW,uBAC1B,QAAS,EAAK,EAAE,gCAAiC,CAC/C,UAAW,CAAE,YAKnB,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,MAAO,EACT,EAAO,KAAK,IAAI,CAAE,KAAI,KAAM,SAChC,GAAQ,MAAM,EAAM,CAClB,QAAS,EAAK,EAAE,iCAElB,GAAoB,KAAM,EAAI,KAE/B,CACD,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,IAAS,OAAU,OACvB,GAAI,GAAQ,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,QAAS,SACxD,GAAI,EAAM,IAAI,MAAO,CACnB,GAAI,GAAU,sCAAsC,KACpD,UAAW,4BACJ,QAAQ,KAAK,EAAS,EAAM,IAAI,OAEzC,GAAI,CACF,GAAQ,MAAM,EAAM,IAAI,MAAO,CAC7B,QAAS,EAAK,EAAE,iCAElB,GAAoB,KAAM,EAAI,EAAM,IAAI,aACjC,EAAP,CACA,KAAK,QAAQ,GAAI,KAAK,OAAO,GAAM,IAAI,OAAS,CAAC,OAOhD,GAAQ,GC1Cf,YAAmC,EAAU,EAAY,CACvD,GAAI,CACF,SAAS,UAAU,gBAAgB,EAAY,CAAE,OAAQ,KAClD,WACA,EAAP,CAEA,GAAI,GAAa,AADC,EAAS,UAAU,YACV,WACvB,EAAe,EAAW,uBAC1B,EAAoB,EAAW,iCAC/B,EAAe,EAAW,4BAC1B,CAAE,OAAM,QAAS,EAAS,UAAU,kBAAkB,GACtD,EAAQ,EAAK,EAAE,wBAAwB,YAAiB,EAC5D,GAAI,CAAC,EAAc,GAAmB,SAAS,EAAM,MAAO,CAC1D,GAAI,GAAU,+CACV,EAAU,EAAK,EAAE,EAAS,CAAE,UAAW,CAAE,QAAO,UAChD,EAAc,EAAM,OAAS,EACjC,EAAM,QAAU,EAAc,EAAW,EAAM,SAAW,UACjD,EAAM,OAAS,EAAc,CACtC,GAAI,GAAU,2CACd,EAAM,QAAU,EAAK,EAAE,EAAS,CAAE,UAAW,CAAE,WAEjD,MAAO,IAMX,GAAM,IAAQ,CAAC,CAEb,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EAEnB,GADI,GAAkB,SAAS,IAC3B,CAAC,KAAK,OAAO,IAAI,CAAE,KAAI,SAAQ,UAAa,OAEhD,GAAI,GAAQ,AADF,KAAK,YAAY,UAAU,IACrB,KAAK,KAAM,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,MAAO,WAC5D,GAAI,EAAM,IAAI,MAAO,CACnB,GAAI,GAAU,uBAAuB,sBAAyB,KAC9D,UAAW,gCACJ,QAAQ,KAAK,EAAS,EAAM,IAAI,OAEzC,GAAM,GAAY,KAAK,OAAO,YAAY,UAC1C,GAAI,CAAC,EAAU,YAAY,EAAM,IAAI,OAAU,OAC/C,GAAI,GAAY,EAAU,QAAQ,EAAM,IAAI,OACxC,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IAInD,GAAI,CAAC,EAAU,MAAM,OAAQ,CAC3B,EAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,EAAU,OAAO,CAChD,KAAM,CAAE,MAAO,SACf,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAK,EAAE,oCAElB,OAKF,EAAU,MAAM,KAAK,CAAC,EAAQ,IACxB,CAAC,EAAO,OAAS,CAAC,EAAO,MAAM,OACjC,GAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,EAAU,OAAO,CAChD,KAAM,CAAE,cAAa,MAAO,SAC5B,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAK,EAAE,0CAEX,IAEF,EAAO,MAAM,KAAK,CAAC,EAAM,IAAc,CAC5C,GAAI,CAAE,QAAO,cAAe,EAC5B,GAAI,IAAc,GAAK,CAAC,CAAC,MAAO,MAAM,SAAS,GAAQ,CACrD,GAAI,GAAU,sCACd,SAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,EAAU,OAAO,CAChD,KAAM,CAAE,cAAa,YAAW,MAAO,SACvC,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAK,EAAE,EAAS,CAAE,UAAW,CAAE,cAEnC,GAET,GAAI,EAAK,OAAO,IAAe,EAAG,MAAM,EAAW,OAAQ,CACzD,GAAI,GAAU,yCACd,SAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,EAAU,OAAO,CAChD,KAAM,CAAE,cAAa,YAAW,MAAO,YACvC,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAK,EAAE,MAEX,GAET,GAAI,GAAQ,GAA0B,KAAM,GAC5C,MAAK,GACL,GAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,EAAU,OAAO,CAChD,KAAM,CAAE,cAAa,YAAW,MAAO,cACvC,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAM,WAEV,IANc,QAU1B,CAED,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EAEnB,GADI,GAAkB,SAAS,IAC3B,CAAC,KAAK,OAAO,IAAI,CAAE,KAAI,SAAQ,UAAa,OAEhD,GAAI,GAAQ,AADF,KAAK,YAAY,UAAU,IACrB,KAAK,KAAM,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,MAAO,WAC5D,GAAI,EAAM,IAAI,MAAO,CACnB,GAAI,GAAU,wBAAwB,sBAAyB,KAC/D,UAAW,gCACJ,QAAQ,KAAK,EAAS,EAAM,IAAI,OAEzC,GAAI,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IACnD,GAAI,CAEF,EAAQ,GAAI,EAAO,IAAI,MAAQ,GAC7B,KAAM,EAAM,IAAI,MAAO,CAAE,KAAI,eAExB,EAAP,CACA,EAAQ,GAAI,EAAO,IAAI,OAAS,CAAC,MAGpC,CAED,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACf,CAAE,SAAQ,aAAY,SAAQ,WAAY,KAE9C,GADI,GAAkB,SAAS,IAC3B,CAAC,EAAO,IAAI,CAAE,KAAI,SAAQ,UAAa,OAC3C,EAAW,OAAO,CAAE,KAAI,QAAQ,CAAE,KAAM,SAAU,MAAO,KAEzD,GAAI,GAAQ,AADF,KAAK,YAAY,UAAU,IACrB,KAAK,KAAM,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,MAAO,WAC5D,GAAI,EAAM,IAAI,MAAO,CACnB,GAAI,GAAU,uCACd,UAAW,WAAW,OAAQ,iCACvB,QAAQ,KAAK,EAAS,EAAM,IAAI,OAEzC,GAAI,GAAY,EAAO,WAAW,EAAM,IAAI,OAC5C,GAAI,CAAC,EAAa,OAClB,GAAI,GAAe,EAAU,IAAI,AAAC,GACzB,EAAE,OAAQ,CAAE,KAAI,QAAQ,SAAU,KAAK,MAAM,MAKtD,EAAa,QAAQ,AAAC,GAAgB,CACpC,GAAI,CAAE,WAAU,UAAW,EACvB,EAAU,CAAE,KAAM,GAAM,KAAM,IAC9B,EAAY,EAAO,SAAS,CAAE,GAAI,EAAS,IAAM,GACrD,EAAU,QAAQ,CAAC,EAAG,IAAU,CAE9B,AAAI,IAAU,EAAU,OAAS,GACjC,EAAa,KAAK,CAAE,SAAQ,SAAU,CAAE,GAAI,EAAE,GAAI,KAAM,cAG5D,GAAI,CACF,EAAW,IAAI,EAAc,CAAE,MAAO,WAC/B,EAAP,CAEA,EAAQ,GAAI,KAAK,OAAO,GAAM,IAAI,OAAS,CAAC,MAG/C,CAED,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EAEnB,GADI,GAAkB,SAAS,IAC3B,CAAC,KAAK,OAAO,IAAI,CAAE,KAAI,SAAQ,UAAa,OAChD,GAAI,GAAM,KAAK,YAAY,UAAU,IACjC,CAAE,QAAO,SAAU,EAAI,KAAK,KAAM,CAAE,KAAI,QAAQ,CAAE,QAAS,UAC3D,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IACnD,GAAI,EAAO,CACT,EAAQ,GAAI,EAAO,MAAQ,KAC3B,GAAI,GAAU,oBAAoB,sBAAyB,KAC3D,UAAW,gCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAI,CACF,EAAQ,GAAI,EAAO,MAAQ,KAAK,OAAO,MAAM,SACtC,EAAP,CACA,EAAQ,GAAI,EAAO,MAAQ,KAC3B,EAAQ,GAAI,EAAO,OAAS,CAAC,GAC7B,QAAQ,KAAK,mBAAmB,sBAAyB,KAAO,OChMtE,GAAM,IAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,GAAkB,SAAS,GAAS,OACxC,GAAI,GAAS,KAAK,OAAO,IAAI,CAAE,KAAI,SACnC,GAAI,CAAC,EAAO,WAAa,CAAC,EAAO,WAAc,OAC/C,GAAI,GAAM,KAAK,YAAY,UAAU,IACjC,CAAE,QAAO,SAAU,EAAI,KAAK,KAAM,CAAE,KAAI,QAAQ,CAAE,QAAS,UAC3D,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IACnD,GAAI,EAAO,CACT,GAAI,GAAU,gCAAgC,eAAkB,KAChE,UAAW,gCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAI,EAAC,KAAK,WAAW,YAAY,EAAO,CAAE,OAAQ,KAClD,GAAI,CACF,EAAQ,GAAI,EAAO,MAAQ,KAAK,WAAW,UAAU,SAC9C,EAAP,CACA,EAAQ,GAAI,EAAO,OAAS,CAAC,GAC7B,QAAQ,KAAK,uBAAuB,eAAkB,KAAO,OAO5D,GAAQ,GC/Bf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,EAAQ,CACtB,GAAI,CAAC,EAAI,GAAa,CAAC,EAAO,GAAI,EAAO,UAAU,KACnD,KAAK,OAAO,IAAI,CAAE,OAAM,QAAQ,AAAC,GAAW,CAC1C,AAAI,EAAU,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,OAC9C,EAAU,KAAK,CAAE,KAAI,KAAM,EAAO,KAAM,MAAO,EAAO,eAOrD,GAAQ,GCbf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,EAAQ,CACtB,GAAI,CAAC,EAAI,GAAa,CAAC,EAAO,GAAI,EAAO,UAAU,KACnD,KAAK,OAAO,IAAI,CAAE,OAAM,QAAQ,AAAC,GAAW,CAC1C,GAAI,CAAE,WAAY,IAAW,OAC7B,GAAI,GAAW,EAAU,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,MACzD,GAAI,EAAY,MAAO,GAAS,MAAQ,EAAO,OAC/C,EAAU,KAAK,CAAE,KAAI,KAAM,EAAO,KAAM,MAAO,EAAO,aAGzD,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,OAAM,SAAU,EACtB,EAAS,KAAK,OAAO,IAAI,CAAE,KAAI,SACnC,AAAI,UAAY,IAAU,IAAU,EAAO,QACzC,GAAO,MAAQ,EAAO,WAOrB,GAAQ,GClBf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,EAAQ,CACtB,GAAI,CAAC,EAAI,GAAa,CAAC,EAAO,GAAI,EAAO,UAAU,KACnD,KAAK,OAAO,IAAI,CAAE,OAAM,QAAQ,AAAC,GAAW,CAC1C,AAAI,CAAC,EAAO,YACR,EAAU,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,OAC9C,EAAU,KAAK,CAAE,KAAI,KAAM,EAAO,KAAM,MAAO,EAAO,SAAW,WAGpE,CAGD,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACf,EAAQ,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,QAAS,SACpD,CAAE,QAAO,SAAU,EAAM,IACvB,EAAiB,GAAG,EAAU,WAAW,wBAC/C,GAAI,GAAS,EAAO,CAAE,QAAS,IAAmB,CAChD,GAAI,GAAU,2BAA2B,eAAkB,KAC3D,UAAW,gCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAM,GAAY,KAAK,OAAO,YAAY,UACtC,EAAa,KAAK,OAAO,IAAI,CAAE,KAAI,SAAQ,cAC3C,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IAC/C,EAAW,EAAO,IAAI,MAC1B,GAAI,CAAC,EAAc,MAAO,GAAQ,GAAI,GAAY,KAClD,GAAI,EAAU,cAAc,GAAQ,CAElC,GADA,EAAQ,GAAkB,KAAM,CAAE,KAAI,OAAM,QAAO,eAC/C,CAAC,EAAS,MAAO,GAAQ,GAAI,GAAY,KAC7C,EAAQ,GAAI,GAAY,CAAC,GAAc,EAAO,CAAE,KAAM,SACjD,CACL,GAAI,CAAC,EAAU,GAAe,CAAC,EAAU,QAAQ,GAAQ,IAKzD,GAJA,EAAS,MAAM,OAAO,EAAS,MAAM,KAAK,CAAC,CAAE,UAAU,IAAU,CAE/D,GADA,EAAQ,GAAkB,KAAM,CAAE,KAAI,OAAM,MAAO,EAAQ,eACvD,EAAS,MAAQ,GAAc,IAAU,KAE3C,CAAC,EAAS,MAAO,GAAQ,GAAI,GAAY,KAC7C,EAAQ,GAAI,GAAY,CAAC,GAAc,EAAO,CAC5C,KAAM,EAAgB,KAAM,CAAE,cAAa,MAAO,gBAIvD,CAED,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACf,CAAE,QAAO,SAAU,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,UACnD,EAAa,EAAU,WAAW,kBACxC,GAAI,GAAS,EAAO,CAAE,QAAS,IAAe,CAC5C,GAAI,GAAU,uBAAuB,eAAkB,KACvD,UAAW,gCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAI,CAAE,cAAe,KAAK,OAAO,IAAI,CAAE,KAAI,SACvC,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,IAGnD,GAFI,CAAC,GACL,GAAQ,GAAkB,KAAM,CAAE,KAAI,OAAM,QAAO,eAC/C,CAAC,GAAS,MAAO,GAAQ,GAAI,EAAO,OAAS,KACjD,EAAQ,GAAI,EAAO,OAAS,CAAC,GAAc,EAAO,CAAE,KAAM,QAM9D,YAAkB,EAAO,EAAU,GAAI,CACrC,GAAI,CAAC,EAAS,MAAO,GACrB,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,GAAI,GAAU,EAAG,MAAM,EAAQ,SAAW,EAAQ,QAAU,CAAC,EAAQ,SAErE,GADA,EAAQ,EAAM,KAAK,AAAC,GAAM,CAAC,EAAQ,SAAS,EAAE,OAC1C,EAAS,MAAO,GAGtB,YAA2B,EAAU,EAAU,GAAI,CACjD,GAAI,CAAE,KAAI,OAAM,QAAO,cAAe,EACtC,EAAK,MAAM,IAAgB,GAAa,CAAC,IACzC,GAAI,CAAC,EAAO,GAAc,CAAC,KAAM,EAAW,KAAK,AAAC,GAAM,YAAc,KAEtE,MAAM,IAAc,CAAC,CAAC,KAAM,OAAW,IAAI,SAAS,GAGpD,GAAW,KAAK,AAAC,GAAS,CAExB,GAAI,CAEF,MAAI,GAAG,SAAS,GACP,EAAQ,EAAK,KAAK,EAAU,CAAE,KAAI,OAAM,UAG1C,EAAQ,EAAS,UAAU,MAAM,EAAM,SACvC,EAAP,CACA,MAAO,GAAQ,KAGZ,GAfE,EAAQ,KAkBnB,YAAuB,EAAQ,GAAI,EAAU,GAAI,CAC/C,GAAI,GAAU,EAAG,OAAO,GAAS,EAAS,EAAM,SAAW,EAAM,KAC7D,EAAY,EAAG,OAAO,GAAS,GAAK,EAAM,KAC1C,EAAa,EAAQ,MAAQ,GACjC,MAAO,GAAU,OAAO,CACtB,KAAM,EAAQ,KAAM,UAAS,KAAM,OAAK,GAAc,KAM1D,GAAO,IAAQ,GC/Gf,GAAM,IAAQ,GAIC,YAAoC,EAAS,GAAI,CAC9D,GAAI,GAAS,EAAO,OACpB,EAAK,MAAM,IAAY,GAAS,CAAC,IACjC,EAAO,QAAQ,AAAC,GAAM,EAAO,eAAe,IAC5C,GAAI,GAAO,GAAM,KAAK,AAAC,GACjB,EAAE,OAAO,SAAW,EAAO,OAAiB,GACzC,CAAC,EAAE,OAAO,KAAK,AAAC,GAAM,CAAC,EAAO,SAAS,KAEhD,MAAK,IACH,GAAO,CAAE,SAAQ,MAAO,CAAC,CACvB,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,GAAc,GAAO,OAAS,IAAI,MAAQ,UAC1C,EAAa,KAAK,IAAI,CAAE,GAAI,EAAO,SAAU,KAAM,SACvD,CAAC,EAAO,SAAS,IAAe,EAAM,CACpC,KAAM,KAAK,WAAW,eACtB,QAAS,EAAK,EAAE,oCAAqC,CACnD,UAAW,CAAE,aAAY,oBAAqB,WAKtD,GAAM,KAAK,IAEN,EAAK,MCMd,GAAM,IAAa,CACjB,uBAAwB,kCACxB,wBAAyB,mCACzB,kBAAmB,6BACnB,uBAAwB,kCACxB,8BAA+B,yCAC/B,eAAgB,0BAChB,eAAgB,0BAChB,kBAAmB,8BAGf,GAAe,CACnB,sBAAuB,GACvB,qBAAsB,GACtB,yBAA0B,GAC1B,qBAAsB,IAGxB,YAAoB,CAClB,GAAI,GAAW,EAAQ,SACvB,EAAM,EAAU,CAAE,UAAW,KAC7B,EAAS,KAAO,EAChB,EAAS,WAAa,GACtB,EAAS,KAAO,GAAK,KAAK,GAC1B,EAAS,QAAU,GAAQ,KAAK,GAChC,EAAS,QAAU,GAAQ,KAAK,GAChC,EAAS,IAAM,GAAY,GAC3B,EAAS,OAAS,GAAa,GAC/B,EAAS,UAAY,GAAgB,GACrC,EAAS,WAAa,GAAiB,GACvC,EAAS,MAAQ,GAAc,GAC/B,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,MAAM,MAAM,IACrB,EAAS,QAAQ,CAAE,KAAM,UAAW,OAAQ,CAAE,MAAO,CAAC,CAAE,KAAM,YAC9D,GAAI,GAAO,EAAS,QAAQ,EAAS,OAAO,OAAO,IAC/C,EAAS,EAAS,OAAO,QAC7B,SAAK,EAAO,IAAI,MAAQ,EAAK,EAAO,MAAQ,UACrC,EAGT,EAAS,KAAO,EAChB,EAAS,WAAa,GACtB,EAAS,MAAQ,CACf,IAAI,KAAS,EAAM,CAEjB,MADA,CAAE,KAAQ,MAAiB,EAAM,CAAE,KAAM,GAAW,iBAChD,EAAK,SAAS,GAAa,IAAiB,GAAa,GACtD,GAAa,GAAM,GAAG,KCvFjC,GAAS,MAAQ,CACf,EAAS,MAAM,IAAI,yBACnB,EAAS,MAAM,IAAI,6BCPrB,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,iBAET,MAAO,CACL,MAAO,iBACP,QAAS,YAEX,YAAa,CACX,MAAO,uBACP,QAAS,0BCZjB,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,sCAET,MAAO,CACL,MAAO,6CACP,QAAS,kCAEX,YAAa,CACX,MAAO,6CACP,QAAS,mECNjB,EAAK,OAAO,CACV,GAAI,CAAE,KAAM,CAAE,SAAU,KACxB,GAAI,CAAE,KAAM,CAAE,SAAU,OAK1B,GAAO,IAAQ,ECPf,GAAS,OAAS,CAChB,SAAU,CACR,KAAM,IAAM,EAAS,OACrB,MAAO,IAAM,EAAS,OACtB,QAAS,KACT,UAAW,GACX,WAAY,GACZ,WAAY,KACZ,YAAa,IAAM,GAAK,EAAE,6CAC1B,KAAM,IAAM,GAAK,EAAE,uCAErB,MAAO,CAAC,CACN,KAAM,OACN,WAAY,CAAC,CAAE,SAAU,WACzB,MAAO,IAAM,GAAK,EAAE,yCACpB,YAAa,IAAM,GAAK,EAAE,+CAC1B,KAAM,IAAM,GAAK,EAAE,yCAClB,CACD,KAAM,QACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,WACzB,QAAS,IAAM,GAAK,EAAE,4CACtB,MAAO,IAAM,GAAK,EAAE,0CACpB,YAAa,IAAM,GAAK,EAAE,gDAC1B,KAAM,IAAM,GAAK,EAAE,0CAClB,CACD,KAAM,cACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,WACzB,QAAS,IAAM,GAAK,EAAE,kDACtB,MAAO,IAAM,GAAK,EAAE,gDACpB,YAAa,IAAM,GAAK,EAAE,sDAC1B,KAAM,IAAM,GAAK,EAAE,kDCxCvB,WAAY,GAEH,EAFT,EAES,cAAc,YACd,EAHT,EAGS,cAAc,CAAE,MAAO,QAAS,cAAe,kBAE/C,EALT,EAKS,aAAa,CAClB,sBAAuB,8BACvB,eAAgB,uBAChB,eAAgB,uBAChB,iBAAkB,2BCJtB,EAAM,OAAS,SAAS,EAAY,GAAI,CACtC,GAAI,CAAE,OAAM,QAAO,SAAQ,SAAU,KAAK,GAC1C,OAAC,GAAU,GAAQ,EAAM,MAAM,WAC/B,CAAC,GAAW,GAAS,EAAM,OAAO,WAClC,CAAC,EAAO,UAAa,GAAO,SAAW,EAAM,OAAO,QAAQ,aAC5D,CAAC,EAAO,OAAU,GAAO,MAAQ,EAAM,OAAO,QAAQ,UACtD,EAAQ,AAAC,EAAc,EAAG,MAAM,GAAS,EAAM,QAAU,CAAC,GAAzC,GACjB,OAAO,OAAO,EAAM,aAAa,QAAQ,AAAC,GAAM,CAC9C,CAAC,EAAM,SAAS,IAAM,EAAM,KAAK,KAE5B,OAAK,GAAL,CAAgB,OAAM,QAAO,SAAQ,WCf9C,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,QAET,MAAO,CACL,MAAO,QACP,QAAS,cAEX,MAAO,CACL,MAAO,iBAET,YAAa,CACX,MAAO,cACP,QAAS,IAEX,SAAU,CACR,MAAO,eAET,QAAS,CACP,MAAO,cAET,WAAY,CACV,MAAO,cAET,YAAa,CACX,MAAO,cACP,YAAa,uEACb,aAAc,+CAEhB,QAAS,CACP,MAAO,UACP,KAAM,CACJ,aAAc,iCACd,0BAA2B,2CAC3B,0BAA2B,0CAC3B,aAAc,+BACd,MAAO,aAKf,UAAW,CACT,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,iBAKjB,mBAAoB,CAClB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,2BAKjB,YAAa,CACX,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,mBAKjB,kBAAmB,CACjB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,oBAKjB,oBAAqB,CACnB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,sBAKjB,WAAY,CACV,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,kBAKjB,cAAe,CACb,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,sBCrGnB,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,0BAET,MAAO,CACL,MAAO,eACP,QAAS,sBAEX,MAAO,CACL,MAAO,sBAET,YAAa,CACX,MAAO,qBACP,QAAS,IAEX,SAAU,CACR,MAAO,kCAET,QAAS,CACP,MAAO,4BAET,WAAY,CACV,MAAO,4BAET,YAAa,CACX,MAAO,2BACP,YAAa,gFACb,aAAc,4DAEhB,QAAS,CACP,MAAO,eACP,KAAM,CACJ,aAAc,yDACd,0BAA2B,iFAC3B,0BAA2B,iFAC3B,aAAc,mDACd,MAAO,mBAKf,UAAW,CACT,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,+BAKjB,mBAAoB,CAClB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,+BAKjB,YAAa,CACX,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,mBAKjB,kBAAmB,CACjB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,+BAKjB,oBAAqB,CACnB,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,+BAKjB,WAAY,CACV,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,mBAKjB,cAAe,CACb,OAAQ,CACN,MAAO,CACL,MAAO,CACL,QAAS,oBC/FnB,EAAK,OAAO,CACV,GAAI,CAAE,KAAM,CAAE,MAAO,KACrB,GAAI,CAAE,KAAM,CAAE,MAAO,OAKvB,GAAO,GAAQ,ECNf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,GAAS,CAAE,GAAI,EAAO,GAAI,KAAM,SAChC,EAAW,CAAE,GAAI,EAAO,GAAI,KAAM,eACtC,KAAK,WAAW,IAAI,CAAE,WAAU,aAEjC,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,IAAS,cAAiB,OAC9B,GAAI,GAAc,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,MAAO,WAC5D,GAAI,EAAY,MAEd,MAAO,SAAQ,KADD,2DACe,EAAY,OAE3C,AAAI,CAAC,EAAY,IAAI,OACrB,KAAK,IAAI,CAAE,KAAI,KAAM,QAAS,MAAO,EAAY,UAElD,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,OAAM,SAAU,EAC1B,GAAI,IAAS,QAAW,OACxB,GAAI,GAAc,KAAK,IAAI,CAAE,KAAI,KAAM,eAAiB,CAAE,QAAS,QACnE,GAAI,EAAY,IAAI,OAAS,IAAU,EAAY,MAAS,MAAO,MAMhE,GAAQ,GChCf,GAAM,IAAY,qCAEZ,GAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,CAAC,CAAC,QAAS,cAAc,SAAS,GAAS,OAC/C,GAAI,CAAE,QAAO,SAAU,KAAK,IAAI,CAAE,KAAI,KAAM,SAAW,CAAE,QAAS,UAClE,GAAI,GAAS,GAAQ,CACnB,GAAI,GAAU,mDACd,UAAW,kCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAI,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,UAC/C,EAAa,KAAK,IAAI,CAAE,KAAI,KAAM,cAAgB,CAAE,QAAS,UACjE,GAAI,EAAW,MAAO,CACpB,GAAI,GAAU,mDACd,UAAW,sCACX,QAAQ,KAAK,EAAS,EAAW,OAC1B,EAAQ,GAAI,EAAO,OAAS,KAgBrC,GAdA,EAAQ,KACR,CAAC,EAAW,OAAU,GAAW,MAAQ,IACzC,EAAK,MAAM,EAAW,QAAW,GAAW,MAAQ,CAAC,EAAW,QAE5D,CADa,EAAW,MAAM,KAAK,AAAC,GAAM,GAAK,YAAc,KAC/C,EAAK,MAAM,KAC3B,EAAW,MAAM,KAAK,AAAC,GAAS,CAC9B,GAAI,CAEF,MAAO,GAAQ,KAAK,UAAU,MAAM,EAAM,SACnC,EAAP,CACA,MAAO,GAAQ,KAIjB,CAAC,EAAS,MAAO,GAAQ,GAAI,EAAO,OAAS,KACjD,EAAQ,GAAI,EAAO,OAAS,CAAC,EAAU,OAAO,CAC5C,KAAM,CAAE,KAAM,IACd,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAG,OAAO,GAAS,EAAS,EAAM,SAAW,EAAM,WAOlE,YAAkB,EAAO,CACvB,GAAI,CAAC,EAAS,MAAO,GAGrB,GAFA,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,EAAQ,EAAM,KAAK,AAAC,GAAG,CAxDzB,MAwD4B,2BAAG,OAAH,cAAS,QAAS,KACxC,EAAS,MAAO,GAKtB,GAAO,IAAQ,GCxDf,GAAM,IAAY,yCAEZ,GAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,CAAC,CAAC,QAAS,WAAW,SAAS,GAAS,OAC5C,GAAI,CAAE,QAAO,SAAU,KAAK,IAAI,CAAE,KAAI,KAAM,SAAW,CAAE,QAAS,UAClE,GAAI,GAAS,GAAQ,CACnB,GAAI,GAAU,qDACd,UAAW,kCACJ,QAAQ,KAAK,EAAS,GAE/B,GAAI,CAAC,EAAS,GAAU,CAAC,KAAK,QAAS,KAAK,OAAO,UAC/C,EAAU,KAAK,IAAI,CAAE,KAAI,KAAM,WAAa,CAAE,QAAS,UAC3D,GAAI,EAAQ,MAAO,CACjB,GAAI,GAAU,qDACd,UAAW,mCACX,QAAQ,KAAK,EAAS,EAAQ,OACvB,EAAQ,GAAI,EAAO,OAAS,KAErC,GAAI,EAAG,MAAM,GAAU,MAAO,GAAQ,GAAI,EAAO,OAAS,KAC1D,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,GAAI,GAAU,GAAQ,OAAS,IAAI,IAAI,AAAC,GAAM,EAAE,OAEhD,GAAI,CADkB,EAAM,KAAK,AAAC,GAAM,CAAC,EAAO,SAAS,IACjC,MAAO,GAAQ,GAAI,EAAO,OAAS,KAC3D,EAAQ,GAAI,EAAO,OAAS,CAAC,EAAU,OAAO,CAC5C,KAAM,CAAE,KAAM,IACd,KAAM,EAAU,WAAW,kBAC3B,QAAS,6DAOf,YAAkB,EAAO,CACvB,GAAI,CAAC,EAAS,MAAO,GAGrB,GAFA,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,EAAQ,EAAM,KAAK,AAAC,GAAG,CA7CzB,MA6C4B,2BAAG,OAAH,cAAS,QAAS,KACxC,EAAS,MAAO,GAKtB,GAAO,IAAQ,GC1Cf,GAAM,IAAe,CACnB,yBAA0B,GAC1B,wBAAyB,GACzB,4BAA6B,IAGzB,GAAgB,CACpB,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,EAAM,cAC3D,EAAS,MAAM,IAAI,yBACnB,GAAa,yBACb,EAAS,MAAM,IAAI,4BACnB,GAAa,yBAKf,EAAM,MAAQ,CACZ,IAAI,EAAM,CACR,OAAE,KAAQ,MAAiB,EAAM,CAAE,KAAM,EAAM,WAAW,iBACnD,GAAa,IAEtB,SAAU,CAAE,MAAO,IAAc,UChBnC,GAAM,IAAiB,CACrB,SAAU,CACR,KAAM,IAAM,IACZ,MAAO,IAAM,IACb,QAAS,KACT,UAAW,GACX,WAAY,GACZ,WAAY,KACZ,YAAa,IAAM,EAAK,EAAE,0CAC1B,KAAM,IAAM,EAAK,EAAE,oCAErB,MAAO,CAAC,CACN,KAAM,OACN,WAAY,CAAC,CAAE,SAAU,WACzB,MAAO,IAAM,EAAK,EAAE,sCACpB,YAAa,IAAM,EAAK,EAAE,4CAC1B,KAAM,IAAM,EAAK,EAAE,6CAClB,CACD,KAAM,QACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,WAC7C,QAAS,IAAM,EAAK,EAAE,yCACtB,MAAO,IAAM,EAAK,EAAE,uCACpB,YAAa,IAAM,EAAK,EAAE,6CAC1B,KAAM,IAAM,EAAK,EAAE,uCAGrB,CACE,KAAM,QACN,UAAW,GACX,WAAY,GACZ,WAAY,KACZ,QAAS,KACT,MAAO,IAAM,EAAK,EAAE,uCACpB,YAAa,IAAM,EAAK,EAAE,6CAC1B,KAAM,IAAM,EAAK,EAAE,uCAClB,CACD,KAAM,cACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,WACzB,QAAS,IAAM,EAAK,EAAE,+CACtB,MAAO,IAAM,EAAK,EAAE,6CACpB,YAAa,IAAM,EAAK,EAAE,mDAC1B,KAAM,IAAM,EAAK,EAAE,6CAClB,CACD,KAAM,WACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAC7C,cAAe,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAChD,QAAS,GACT,MAAO,IAAM,EAAK,EAAE,0CACpB,YAAa,IAAM,EAAK,EAAE,gDAC1B,KAAM,IAAM,EAAK,EAAE,0CAClB,CACD,KAAM,UACN,UAAW,GACX,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAC7C,cAAe,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAChD,QAAS,GACT,MAAO,IAAM,EAAK,EAAE,yCACpB,YAAa,IAAM,EAAK,EAAE,+CAC1B,KAAM,IAAM,EAAK,EAAE,yCAClB,GACD,KAAM,aACN,UAAW,GACX,WAAY,GACZ,QAAS,KACT,MAAO,IAAM,EAAK,EAAE,4CACpB,YAAa,IAAM,EAAK,EAAE,kDAC1B,KAAM,IAAM,EAAK,EAAE,4CACf,KAAM,CACR,GAAI,GAAa,CAAC,CAAE,SAAU,SAAW,SAAS,EAAQ,CACxD,GAAI,CAAC,EAAO,GAAQ,CAAC,GAAI,MACzB,KAAO,EAAG,EAAQ,EAAO,MAAM,QAAQ,CACrC,EAAO,EAAO,MAAM,GACpB,GAAI,GAAQ,GAA0B,KAAM,GAC5C,GAAI,EACF,SAAM,KAAK,gBAAkB,EACtB,KAIb,MAAO,CAAE,aAAY,cAAe,QAErC,CACD,KAAM,cACN,UAAW,GACX,WAAY,GACZ,QAAS,KACT,MAAO,IAAM,EAAK,EAAE,6CACpB,YAAa,IAAM,EAAK,EAAE,mDAC1B,KAAM,IAAM,EAAK,EAAE,4CACnB,WAAY,KACZ,cAAe,CAAC,SAAS,EAAQ,CAC/B,GAAI,CAAC,KAAK,WAAW,YAAY,EAAO,MAAO,CAAE,OAAQ,KACvD,MAAO,GAAU,OAAO,CACtB,KAAM,EAAW,WAAW,wBAC5B,QAAS,EAAK,EAAE,mDAAoD,CAClE,UAAW,CAAE,KAAM,EAAO,gBAQhC,GAAoB,CACxB,MAAO,CAAC,CACN,KAAM,UACN,UAAW,GACX,WAAY,GACZ,QAAS,IAAM,CACb,GAAI,GAAQ,IACR,EAAU,6CACd,MAAO,CAAC,CAAE,QAAO,MAAO,GAAG,EAAK,EAAE,MAAY,OAEhD,MAAO,IAAM,EAAK,EAAE,yCACpB,YAAa,IAAM,EAAK,EAAE,+CAC1B,KAAM,IAAM,EAAK,EAAE,wCACnB,cAAe,KACf,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,SAAW,SAAS,EAAQ,CACvE,GAAI,GAAU,EAAO,MACrB,EAAQ,QAAQ,CAAC,EAAK,IAAU,CAC9B,GAAI,CAAC,EAAO,EAAS,GAAO,CAAC,GAAM,GAAI,IACvC,AAAI,EAAK,OAAO,GACd,GAAQ,GACR,EAAU,qDACL,AAAI,EAAK,eAAe,EAAI,OACjC,GAAQ,GACR,EAAU,kEACL,AAAI,EAAK,eAAe,EAAI,OACjC,GAAQ,GACR,EAAU,kEAEV,GAAM,EAAQ,UAAU,CAAC,EAAG,IAAM,IAAK,GAAS,EAAE,QAAU,EAAI,OAC5D,GAAO,GACT,GAAQ,GACR,EAAU,sDAGd,CAAC,GAAS,EAAM,CACd,KAAM,CAAE,YAAa,GAAO,EAAI,EAAM,GACtC,KAAM,EAAU,WAAW,kBAC3B,QAAS,EAAK,EAAE,YAS1B,EAAM,OAAS,CACb,IAAI,EAAM,CACR,MAAO,MAAK,GAAe,KAE7B,OAAO,EAAM,EAAS,GAAI,CACxB,MAAO,QAAK,GAAe,IAAU,IAEvC,QAAQ,EAAM,CACZ,MAAI,KAAS,WAAqB,KAAK,GAAe,UAClD,IAAS,QAAkB,GAAe,MAAM,QAC7C,CACL,SAAU,KAAK,GAAe,UAC9B,MAAO,GAAe,MAAM,WAKlC,YAAwB,EAAM,CAE5B,GAAI,GAAS,AADC,GAAe,MAAM,OAAO,GAAkB,OACvC,KAAK,AAAC,GAAW,EAAO,OAAS,GACtD,OAAC,GAAU,EAAM,CACf,KAAM,EAAM,WAAW,sBACvB,QAAS,mBAAmB,uBAEvB,EC3LM,WAAkB,EAAY,GAAI,EAAO,GAAI,EAAO,CACjE,SAAG,UAAU,IAAW,GAAQ,CAAC,QAAS,cAAe,SAClD,EAAO,KAAK,EAAM,IAAI,AAAC,GACrB,CAAC,EAAM,GAAQ,EAAW,EAAM,MAM3C,YAAiB,EAAW,EAAM,EAAM,CACtC,MAAO,IAAM,EAAK,IAAI,CACpB,cAAc,kBAA0B,KAAQ,IAChD,2BAA2B,KAAQ,MCZvC,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,gBACN,MAAO,CACL,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,EAAM,cAC3D,EAAS,MAAM,IAAI,yBACnB,EAAM,MAAM,IAAI,4BAChB,EAAS,MAAM,IAAI,4BACnB,EAAM,MAAM,IAAI,+BAChB,EAAM,MAAM,IAAI,4BAElB,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,gBAAiB,UAE/B,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,gBAAiB,QAAS,CACpC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,gBAAiB,UADF,CAE3B,WAAY,CAAC,CAAE,SAAU,aAE3B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,gBAAiB,aAE/B,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,gBAAiB,cAE/B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,gBAAiB,aAE/B,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,gBAAiB,gBAE/B,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,gBAAiB,qBCtCrC,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,qBACN,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,qBAAsB,UAEpC,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,qBAAsB,QAAS,CACzC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,qBAAsB,cAAe,CAC/C,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,qBAAsB,UADP,CAE3B,WAAY,CAAC,CAAE,SAAU,cAE3B,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,qBAAsB,cAEpC,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,qBAAsB,aAEpC,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,qBAAsB,gBAEpC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,qBAAsB,qBC9B1C,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,sBACN,MAAO,CACL,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,EAAM,cAC3D,EAAS,MAAM,IAAI,yBACnB,EAAM,MAAM,IAAI,4BAChB,EAAS,MAAM,IAAI,4BACnB,EAAM,MAAM,IAAI,+BAChB,EAAM,MAAM,IAAI,4BAElB,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,sBAAuB,UAErC,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,sBAAuB,QAAS,CAC1C,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,sBAAuB,UADR,CAE3B,WAAY,CAAC,CAAE,SAAU,aAE3B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,sBAAuB,aAErC,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,sBAAuB,cAErC,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,sBAAuB,aAErC,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,sBAAuB,gBAErC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,sBAAuB,qBCtC3C,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,cACN,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,cAAe,UAE7B,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,cAAe,QAAS,CAClC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,cAAe,cAAe,CACxC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,cAAe,UADA,CAE3B,WAAY,CAAC,CAAE,SAAU,cAE3B,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,cAAe,cAE7B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,cAAe,aAE7B,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,cAAe,gBAE7B,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,cAAe,qBC9BnC,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,aACN,MAAO,CACL,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,EAAM,cAC3D,EAAS,MAAM,IAAI,yBACnB,EAAM,MAAM,IAAI,4BAChB,EAAS,MAAM,IAAI,4BACnB,EAAM,MAAM,IAAI,+BAChB,EAAM,MAAM,IAAI,4BAElB,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,aAAc,UAE5B,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,aAAc,QAAS,CACjC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,aAAc,UADC,CAE3B,WAAY,CAAC,CAAE,SAAU,cAE3B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,aAAc,aAE5B,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,aAAc,cAE5B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,aAAc,aAE5B,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,aAAc,gBAE5B,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,aAAc,qBCrClC,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,oBACN,MAAO,CACL,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,EAAM,cAC3D,EAAS,MAAM,IAAI,yBACnB,EAAM,MAAM,IAAI,4BAChB,EAAS,MAAM,IAAI,4BACnB,EAAM,MAAM,IAAI,+BAChB,EAAM,MAAM,IAAI,4BAElB,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,oBAAqB,UAEnC,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,oBAAqB,QAAS,CACxC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,oBAAqB,cAAe,CAC9C,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,oBAAqB,UADN,CAE3B,WAAY,CAAC,CAAE,SAAU,cAE3B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,oBAAqB,aAEnC,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,oBAAqB,cAEnC,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,oBAAqB,aAEnC,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,oBAAqB,gBAEnC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,oBAAqB,qBC3CzC,GAAO,IAAQ,EAAM,OAAO,CAC1B,KAAM,YACN,OAAQ,CACN,MAAO,CACL,EAAM,OAAO,OAAO,OAAQ,KACvB,EAAS,YAAa,UAE3B,EAAM,OAAO,OAAO,QAAS,KACxB,EAAS,YAAa,QAAS,CAChC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,YAAa,cAAe,CACtC,QAAS,cAAe,OAAQ,cAGpC,EAAM,OAAO,OAAO,QAAS,OACxB,EAAS,YAAa,UADE,CAE3B,WAAY,CAAC,CAAE,SAAU,cAE3B,EAAM,OAAO,OAAO,WAAY,KAC3B,EAAS,YAAa,cAE3B,EAAM,OAAO,OAAO,UAAW,KAC1B,EAAS,YAAa,aAE3B,EAAM,OAAO,OAAO,aAAc,KAC7B,EAAS,YAAa,gBAE3B,EAAM,OAAO,OAAO,cAAe,KAC9B,EAAS,YAAa,qBC1BjC,GAAO,IAAQ,CACb,GACA,GACA,GACA,GACA,GACA,GACA,ICjBF,GAAO,GAAQ,CACb,KAAM,UACN,MAAO,iBCET,EAAQ,QAAU,SAAS,EAAS,CAClC,GAAI,GAAe,KAAK,IAAI,CAAE,GAAI,EAAQ,IAAM,CAAE,QAAS,QACvD,CAAC,EAAe,GAAoB,CAAC,GAAI,IACzC,CAAC,EAAiB,GAAsB,CAAC,GAAI,IACjD,MAAC,MAAK,OAAO,WAAW,IAAY,IAAI,QAAQ,CAAC,EAAU,IAAkB,CAC3E,GAAI,CAAC,EAAe,GAAoB,CAAC,GAAI,IAC7C,AAAC,MAAK,OAAO,WAAW,IAAa,IAAI,QAAQ,AAAC,GAAU,CAC1D,GAAI,GAAa,KAAK,QAAQ,CAAE,GAAI,EAAM,IAAM,CAAE,OAAQ,KAG1D,AAFA,EAAc,EAAW,OAAO,MAAQ,EAAW,OAAO,MAC1D,EAAiB,EAAW,OAAO,MAAQ,EAAW,IAAI,OAAO,MAC7D,IAAkB,GACtB,OAAO,GAAW,OAAO,MACzB,MAAO,GAAW,IAAI,OAAO,MAC7B,EAAgB,KAAK,EAAW,QAChC,EAAmB,KAAK,EAAW,IAAI,WAEzC,EAAc,KAAK,GACnB,EAAiB,KAAK,KAExB,EAAa,OAAO,MAAQ,EAC5B,EAAa,IAAI,OAAO,MAAQ,EAChC,EAAa,OAAO,SAAW,EAC/B,EAAa,IAAI,OAAO,SAAW,EAC5B,GCtBT,EAAQ,MAAQ,CACd,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,aACrD,EAAS,MAAM,IAAI,yBACnB,EAAS,MAAM,IAAI,6BCRrB,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,QAET,MAAO,CACL,MAAO,QACP,QAAS,WAEX,SAAU,CACR,MAAO,eAET,QAAS,CACP,MAAO,gBAIb,mBAAoB,iDClBtB,GAAO,IAAQ,CACb,OAAQ,CACN,MAAO,CACL,KAAM,CACJ,MAAO,0BAET,MAAO,CACL,MAAO,iCACP,QAAS,sBAEX,SAAU,CACR,MAAO,kCAET,QAAS,CACP,MAAO,8BAIb,mBAAoB,wFCZtB,EAAK,OAAO,CACV,GAAI,CAAE,KAAM,CAAE,QAAS,KACvB,GAAI,CAAE,KAAM,CAAE,QAAS,OAKzB,GAAO,GAAQ,ECPf,EAAQ,OAAS,CACf,SAAU,CACR,KAAM,IAAM,EAAS,OACrB,MAAO,GACP,QAAS,KACT,UAAW,GACX,WAAY,GACZ,WAAY,KACZ,YAAa,IAAM,EAAK,EAAE,4CAC1B,KAAO,IAAM,EAAK,EAAE,sCAEtB,MAAO,CAAC,CACN,KAAM,OACN,WAAY,CAAC,CAAE,SAAU,WACzB,MAAO,IAAM,EAAK,EAAE,wCACpB,YAAa,IAAM,EAAK,EAAE,8CAC1B,KAAM,IAAM,EAAK,EAAE,wCAClB,CACD,KAAM,QACN,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,WAC7C,QAAS,IAAM,EAAK,EAAE,2CACtB,MAAO,IAAM,EAAK,EAAE,yCACpB,YAAa,IAAM,EAAK,EAAE,+CAC1B,KAAM,IAAM,EAAK,EAAE,yCAClB,CACD,KAAM,WACN,QAAS,GACT,UAAW,GACX,WAAY,GACZ,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAC7C,MAAO,IAAM,EAAK,EAAE,4CACpB,YAAa,IAAM,EAAK,EAAE,kDAC1B,KAAM,IAAM,EAAK,EAAE,4CAClB,CACD,KAAM,UACN,QAAS,GACT,UAAW,GACX,WAAY,CAAC,CAAE,SAAU,IAAQ,CAAE,SAAU,YAC7C,MAAO,IAAM,EAAK,EAAE,2CACpB,YAAa,IAAM,EAAK,EAAE,iDAC1B,KAAM,IAAM,EAAK,EAAE,6CC3CvB,EAAQ,KAAO,SAAS,EAAS,EAAO,CACtC,GAAI,GAAW,EAAM,UAAY,GAC7B,EAAQ,EAAM,OAAS,GAC3B,CAAC,EAAM,QAAU,EAAM,KAAK,IAC5B,GAAI,GAAkB,EAAM,IAAI,IAAM,CACpC,GAAI,CAAC,EAAI,GAAQ,CAAC,KAAK,OAAQ,mBAC/B,MAAO,CAAE,OAAQ,MAAO,SAAU,EAAQ,GAAI,KAAI,MAAO,CAAE,WAEzD,EAAc,OAAO,KAAK,GAAO,IAAI,AAAC,GAAS,CACjD,GAAI,EAAC,WAAY,SAAS,SAAS,GACnC,MAAO,CAAE,OAAQ,MAAO,GAAI,EAAQ,GAAI,OAAM,MAAO,EAAM,MAC1D,OAAO,AAAC,GAAM,GACb,EAAa,EAAgB,IAAI,CAAC,EAAI,IACxC,GAAW,EAAS,IAAI,CAAC,EAAK,IAAa,CAEzC,GAAI,GAAY,AADA,EAAG,OAAO,EAAM,KAAW,EAAI,OAAQ,GAAM,GACjC,EAAM,GAAO,EAAI,MAAQ,KACrD,MAAO,QAAK,GAAL,CAAU,MAAO,EAAU,MAAO,MAEpC,KAAK,KAAK,CAAE,GAAI,EAAG,IAAM,CAAE,YAAY,CAAE,QAAS,OACxD,OACH,MAAO,GAAgB,OAAO,EAAa,GAAY,IAAI,AAAC,GACnD,OAAK,GAAL,CAAe,qBAAsB,OC1BhD,GAAO,IAAQ,CACb,KAAM,kBACN,MAAO,gBCGT,GAAgB,MAAQ,CACtB,EAAS,MAAM,IAAI,uBAAwB,CAAE,OAAQ,aCNvD,WAAmB,GAEV,EAFT,EAES,cAAc,WACd,EAHT,EAGS,eAAe,YACf,EAJT,EAIS,cAAc,mBACd,EALT,EAKS,cAAc,CACnB,aAAc,eACd,qBAAsB,yBAGjB,EAVT,EAUS,aAAa,CAClB,eAAgB,+BAChB,wBAAyB,wCACzB,mBAAoB,qCCTxB,GAAM,IAAQ,CAAC,CACb,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,WAAU,QAAO,wBAAyB,EAChD,GAAI,EAAwB,OAC5B,GAAI,GAAY,CAAC,OAAK,GAAL,CAAa,OAAQ,MAAO,qBAAsB,MAC/D,EAAmB,KAAK,OAAO,QAAQ,CAAE,GAAI,KAAe,GAChE,SAAY,EAAU,OAAO,EAAiB,IAAI,AAAC,GAAc,EAC/D,OAAQ,MAAO,qBAAsB,GACrC,SAAU,EAAS,GAAI,GAAI,KAAK,OAAQ,YAE1C,KAAK,SAAS,IAAI,GACX,KAER,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,wBAAyB,EACnC,GAAI,EAAwB,OAC5B,GAAI,GAAY,CAAC,OAAK,GAAL,CAAa,OAAQ,MAAO,qBAAsB,MAE/D,EAAW,AADA,KAAK,OAAO,QAAQ,CAAE,MAAM,CAAE,KAAM,KAC3B,UAAU,AAAC,GAAM,EAAE,KAAO,GAC9C,EAAW,KAAK,OAAO,SAAS,CAAE,OAClC,EAAmB,KAAK,OAAO,QAAQ,IAAa,GACxD,SAAY,EAAU,OAAO,EAAiB,IAAI,AAAC,GAAc,EAC/D,OAAQ,MAAO,qBAAsB,GACrC,GAAI,KAAK,OAAO,WAAW,GAAU,GAAU,OAEjD,KAAK,SAAS,IAAI,GACX,KAER,CACD,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,OAAM,QAAO,wBAAyB,EAEhD,GADI,GACA,IAAS,QAAW,OACxB,GAAI,GAAY,CAAC,OAAK,GAAL,CAAa,OAAQ,MAAO,qBAAsB,MAE/D,EAAW,AADA,KAAK,OAAO,QAAQ,CAAE,MAAM,CAAE,KAAM,KAC3B,UAAU,AAAC,GAAM,EAAE,KAAO,GAC9C,EAAW,KAAK,OAAO,SAAS,CAAE,OAClC,EAAmB,KAAK,OAAO,QAAQ,IAAa,GACxD,SAAY,EAAU,OAAO,EAAiB,IAAI,AAAC,GAAc,EAC/D,OAAQ,MAAO,qBAAsB,GACrC,GAAI,KAAK,OAAO,WAAW,GAAU,GAAU,GAAI,OAAM,YAE3D,KAAK,SAAS,IAAI,GACX,KAER,CACD,MAAO,GAAgB,KACvB,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,SAAU,EAChB,EAAW,KAAK,OAAO,QAAQ,CAAE,OACrC,GAAI,CAAC,EAAY,OACjB,GAAI,GAAW,KAAK,QAAQ,CAAE,GAAI,EAAS,GAAG,KAAM,IAAI,OAAO,SAC/D,GAAI,CAAC,EAAS,OAAU,OACxB,GAAI,GAAY,EAAS,IAAI,CAAC,EAAK,IAAU,CAC3C,GAAI,GAAY,mBAAO,WAAY,IAAI,IAAU,GAC7C,EAAW,SAAW,GAAW,EAAS,MAAQ,KACtD,MAAO,CACL,OAAQ,MAAO,qBAAsB,GAAM,SAAU,EACrD,GAAI,KAAK,OAAQ,MAAO,OAAK,GAAL,CAAU,QAAO,MAAO,OAGpD,KAAK,SAAS,IAAI,MAMf,GAAQ,GCtEf,GAAM,IAAQ,CAAC,CACb,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,MAAO,EACT,CAAE,SAAQ,aAAY,UAAW,KAErC,GAAI,CAAC,AADS,EAAO,IAAI,CAAE,OACd,KAAK,AAAC,GAAM,EAAE,OAAS,SAAY,OAChD,GAAI,GAAW,EAAO,SAAS,CAAE,OAE7B,EAAS,CAAE,GAAI,AADL,EAAO,SAAS,GACH,GAAI,KAAM,SACrC,EAAW,IAAI,CAAE,SAAQ,SAAU,CAAE,KAAI,KAAM,UAC/C,EAAW,IAAI,CAAE,SAAQ,SAAU,CAAE,KAAI,KAAM,aAEhD,CACD,MAAO,GAAgB,KACvB,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAE,MAAO,EACT,CAAE,SAAQ,cAAe,KAEzB,EAAS,CAAE,GAAI,AADL,EAAO,SAAS,CAAE,OACL,GAAI,KAAM,SACrC,EAAW,IAAI,CAAE,SAAQ,SAAU,CAAE,KAAI,KAAM,aAEhD,CACD,MAAO,EAAQ,KACf,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,IAAS,QAAW,OACxB,GAAI,CAAE,UAAW,KACb,EAAS,GAAO,WAAW,CAAE,QAAS,IAAI,IAAI,AAAC,GAC1C,EAAO,KAAM,GAAO,WAAW,IAAa,IAAI,IAAI,AAAC,GAAU,CACpE,GAAI,GAAO,KAAK,IAAI,CAAE,GAAI,EAAM,GAAI,KAAM,SACtC,EAAQ,KAAK,IAAI,CAAE,GAAI,EAAM,GAAI,KAAM,UAC3C,MAAO,CAAC,EAAM,OAGd,CAAC,EAAO,GAAU,CAAC,KAAK,QAAQ,GAAK,KAAK,OAAO,IACrD,EAAM,EAAO,MAAQ,EAAM,EAAO,IAAI,MAAQ,KAM3C,GAAQ,GC1Cf,GAAM,IAAQ,CAAC,CACb,MAAO,EAAQ,KACf,KAAM,YACN,QAAQ,EAAQ,CACd,GAAI,CAAC,EAAI,GAAQ,CAAC,EAAO,GAAI,SACzB,CAAC,EAAO,GAAU,CAAC,KAAK,QAAQ,GAAK,KAAK,OAAO,IACjD,CAAE,SAAU,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,UAClD,EAAM,EAAO,OAAS,GAAmB,KAE1C,CACD,MAAO,EAAQ,KACf,KAAM,aACN,QAAQ,EAAQ,CACd,GAAI,CAAE,KAAI,QAAS,EACnB,GAAI,IAAS,QAAW,OACxB,GAAI,GAAY,EAAa,WAAW,mBACpC,CAAE,SAAU,KAAK,IAAI,CAAE,KAAI,QAAQ,CAAE,QAAS,CAAC,WACnD,GAAI,GAAS,EAAO,CAAE,OAAQ,CAAC,KAAe,CAC5C,GAAI,GAAU,oDAAoD,KAC9D,UAAW,gCACR,QAAQ,KAAK,EAAS,GAE/B,GAAI,GAAQ,KAAK,IAAI,CAAE,KAAI,SACvB,CAAC,EAAO,GAAU,CAAC,KAAK,QAAQ,GAAK,KAAK,OAAO,IAErD,EAAQ,AADS,CAAC,GAAS,CAAC,EAAM,QAAU,CAAC,OAAO,KAAK,EAAM,IAAI,OAC9C,GAAmB,GAAS,GAAmB,GACpE,EAAM,EAAO,OAAS,KAI1B,YAA4B,EAAO,CACjC,GAAI,GAAS,GAAS,GAClB,EAAY,EAAa,WAAW,mBACxC,SAAK,MAAM,IAAY,GAAS,CAAC,IACjC,CAAC,GAAS,EAAQ,CAAE,QAAS,CAAC,MAAiB,EAAO,KAAK,EAAU,OAAO,CAC1E,KAAM,EAAW,QAAS,EAAK,EAAE,sCAE5B,EAGT,YAA4B,EAAO,CACjC,GAAI,CAAC,GAAS,CAAC,EAAM,OAAU,MAAO,MACtC,EAAK,MAAM,SAAY,QAAS,CAAC,SACjC,GAAI,GAAY,EAAa,WAAW,mBACxC,cAAS,OAAO,OAAO,AAAC,GAAM,EAAE,OAAS,GAClC,OAAO,OAAS,OAAS,KAGlC,YAAkB,EAAQ,EAAU,GAAI,CACtC,GAAI,CAAC,GAAU,CAAC,EAAO,OAAU,MAAO,GACxC,EAAK,MAAM,IAAY,GAAS,CAAC,IACjC,GAAI,CAAE,UAAS,UAAW,EAC1B,MAAI,GAAkB,EAAO,KAAK,AAAC,GAAM,EAAQ,SAAS,EAAE,OACxD,EAAiB,EAAO,KAAK,AAAC,GAAM,CAAC,EAAO,SAAS,EAAE,OACpD,GAKT,GAAO,IAAQ,GCxDf,EAAa,SAAW,SAAS,EAAY,GAAI,CAC/C,GAAI,CAAE,OAAM,QAAO,SAAU,EAC7B,EAAQ,AAAC,EAAc,EAAG,MAAM,GAAS,EAAM,QAAU,CAAC,GAAzC,GACjB,CAAC,EAAM,SAAS,EAAM,YAAY,QAAU,EAAM,CAChD,KAAM,EAAa,WAAW,wBAC9B,QAAS;AAAA,uDAGX,GAAI,GAAgB,OAAO,OAAO,EAAM,aACxC,EAAQ,EAAM,OAAO,AAAC,GAAM,CAAC,EAAc,SAAS,IACpD,OAAO,OAAO,EAAa,aAAa,QAAQ,AAAC,GAAM,CACrD,CAAC,EAAM,SAAS,IAAM,EAAM,KAAK,KAEnC,EAAO,EAAa,YAAc,EAClC,EAAQ,AAAC,EAAa,EAAM,QAAX,GACjB,GAAI,GAAQ,uBACR,EAAU,EAAS,MAAM,IAAI,EAAO,CAAE,OAAQ,EAAM,cACpD,EAAU,EAAS,MAAM,IAAI,EAAO,CAAE,OAAQ,EAAa,cAC3D,EAAQ,EAAM,QAAQ,GAC1B,SAAQ,IAAO,GAAM,GAAS,GAC9B,EAAQ,EAAM,OACZ,GACA,GACA,IAEK,OAAK,GAAL,CAAgB,OAAM,QAAO,WC9BtC,YAAW,CAMT,aAAc,CACZ,KAAK,KAAO,EAAK,SACjB,KAAK,SAAW,EAAS,CAAE,KAAM,KAAK,OACtC,GAAK,QAAQ,QAAQ,AAAC,GAAM,KAAK,SAAS,QAAQ,UAG7C,WAAU,EAAM,CAAE,MAAO,IAAI,IAAK,GAAG,KAZ9C,KAES,EAFT,EAES,UAAU,IAEV,EAJT,EAIS,QAAQ,GCNjB,EAAK,MAAQ,SAAS,EAAQ,GAAI,CAChC,GAAI,GAAU,EAAK,QAAQ,OAAO,AAAC,GAC1B,EAAQ,EAAE,MAAM,SAAS,GAAS,CAAC,EAAE,MAAM,QAEpD,MAAO,GAAQ,OAAS,EAAU,MCApC,EAAK,QAAU,SAAS,EAAY,GAAI,CACtC,EAAK,MAAM,IAAe,GAAY,CAAC,IACvC,EAAU,QAAQ,AAAC,GAAM,CACvB,GAAI,CAAE,OAAM,QAAO,YAAW,cAAe,KAAK,GAQlD,AAPA,EAAQ,SAAW,GAAI,EAAQ,GAC/B,EAAK,MAAM,IAAW,GAAQ,CAAC,IAC/B,EAAO,eAAe,EAAM,sBAC5B,GAAa,EAAO,SAAS,EAAW,2BACxC,GAAc,EAAO,SAAS,EAAY,4BAC1C,EAAM,QAAQ,AAAC,GAAM,EAAO,eAAe,EAAG,wBAC9C,EAAK,QAAQ,KAAK,OAAK,GAAL,CAAQ,WACtB,EAAC,EAAM,SAAS,EAAM,YAAY,QACtC,EAAK,QAAQ,KAAK,EAAa,SAAS,OCd5C,EAAK,UAAY,SAAS,EAAU,EAAS,GAAI,EAAU,GAAI,CAN/D,MAOE,GAAI,CAAE,KAAI,QAAS,EACf,EAAgB,GAChB,EAAO,EAAS,IAAI,CAAE,KAAI,KAAM,SAChC,EAAkB,KAAK,QAAQ,KAAK,AAAC,GAAM,EAAE,OAAS,KAApC,cAA2C,UACjE,GAAI,EACF,MAAO,GAAgB,KAAK,EAAU,CAAE,KAAI,QAAQ,GAYtD,GAVA,OAAO,KAAK,EAAS,SAAS,QAAQ,AAAC,GAAa,CAClD,GAAI,IAAa,EAAM,OACvB,GAAI,GAAe,EAAS,OAAO,SAAS,CAAE,GAAI,IAKlD,AAJI,CAAC,GAED,AADmB,EAAS,IAAI,CAAE,GAAI,EAAa,GAAI,KAAM,WACxC,GAAS,MAE9B,CADW,GAAS,OAAO,SAAS,OAAQ,GAAS,QAAQ,KAEjE,EAAc,KAAK,CAAE,GAAI,EAAU,KAAM,YAEvC,CAAC,EAAc,OAAU,MAAO,MACpC,GAAI,GAAU,EAAS,WAAW,QAAQ,CAAE,KAAI,SAChD,GAAI,CAAC,EAAW,MAAO,GACvB,GAAI,GAAY,EAAc,OAAO,AAAC,GAC7B,CAAC,EAAQ,KAAK,AAAC,GAAM,EAAE,KAAO,EAAE,IAAM,EAAE,OAAS,EAAE,OAE5D,MAAO,GAAU,OAAS,EAAY,MC1BxC,EAAK,UAAY,SAAS,EAAO,GAAI,CACnC,AAAI,CAAC,GACL,GAAK,QAAU,EAAK,QAAQ,OAAO,AAAC,GAAM,EAAE,OAAS,KCAvD,EAAK,WAAa,SAAS,EAAU,EAAS,GAAI,EAAU,GAAI,CANhE,MAOE,GAAI,CAAE,KAAI,QAAS,EACnB,EAAO,QACP,GAAI,GAAO,EAAS,IAAI,CAAE,KAAI,KAAM,SAChC,EAAmB,KAAK,QAAQ,KAAK,AAAC,GAAM,EAAE,OAAS,KAApC,cAA2C,WAClE,GAAI,EACF,MAAO,GAAiB,KAAK,EAAU,CAAE,KAAI,QAAQ,GAEvD,GAAI,GAAa,EAAS,OAAO,IAAI,CAAE,KAAI,SAAQ,YAAc,GACjE,EAAK,MAAM,IAAgB,GAAa,CAAC,IACzC,GAAI,GAAW,EAAW,KAAK,AAAC,GAAM,YAAc,IACpD,MAAK,GACE,EAAS,UAAU,IAAI,EAAS,SAAU,CAAE,OAAQ,aADnC,CAAC,EAAS,UAAU,IAAI,cCLlD,EAAK,QAAQ,IACb,EAAK,QAAQ,GACb,EAAK,QAAQ,IACb,EAAK,QAAQ",
  "names": []
}
