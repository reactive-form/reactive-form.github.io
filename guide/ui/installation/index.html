<!doctype html> <html> <head> <title>Reactive Form - 模型驱动、可扩展的表单引擎</title> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name=renderer content=webkit> <meta http-equiv=X-UA-Compatible content="IE=Edge,chrome=1"> <meta name=apple-mobile-web-app-capable content=yes> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <meta name=apple-mobile-web-app-title content=ReactiveForm> <meta name=mobile-web-app-capable content=ReactiveForm> <meta name=application-name content=ReactiveForm> <meta content="telephone=no" name=format-detection> <meta name=msapplication-tap-highlight content=no> <meta name=author content=""> <meta name=keywords content=""> <meta name=description content=""> <link rel="shortcut icon" href="/favicon.ico"> <script src="/assets/javascripts/luda-degradation.min-de40bf23.js"></script> <script src="/assets/javascripts/turbo.es2017-umd.min-6c3e5b73.js" data-turbo-track=reload></script> <link href="/assets/stylesheets/luda-default.min-d9508530.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/rouge-ebba3ab6.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/site-b4ec337b.css" rel=stylesheet data-turbo-track=reload /> <script src="/assets/javascripts/luda.min-10857b5a.js" data-turbo-track=reload></script> </head> <body id=""> <div class=grid-edge> <aside class="nav-aside col-12 col-3-m bc-light sd-low"> <a href="/" class=nav-logo> <picture class=d-block> <source srcset="/assets/images/logo-f19b9c85.svg" media="(min-width: 768px)"> <img src="/assets/images/logo_full-dcdab38b.svg" alt="rcfm logo" width=""/> </picture> </a> <button class="nav-open btn btn-ico btn-text-dark" data-toggle-for=aside-menu> <i class="ico ico-menu"></i> </button> <div class="nav-menu pb-large" data-toggle-target=aside-menu> <button class="nav-close btn btn-ico btn-text-dark" data-toggleable> <i class="ico ico-cross"></i> </button> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">开始</p> <a href="/guide/general/situations" title="适用场景" class="btn btn-text-dark btn-small mt-tiny rounded ">适用场景</a> <a href="/guide/general/platforms" title="兼容性" class="btn btn-text-dark btn-small mt-tiny rounded ">兼容性</a> <a href="/guide/general/installation" title="安装方式" class="btn btn-text-dark btn-small mt-tiny rounded ">安装方式</a> <a href="/guide/general/get_started" title="入门示例" class="btn btn-text-dark btn-small mt-tiny rounded ">入门示例</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">模型</p> <a href="/guide/model/introduction" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/model/reactive" title=Reactive class="btn btn-text-dark btn-small mt-tiny rounded ">Reactive</a> <a href="/guide/model/reactive_customization" title="构建引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">构建引擎</a> <a href="/guide/model/form" title="内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">内置引擎</a> <a href="/guide/model/form_customization" title="扩展内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">扩展内置引擎</a> <a href="/guide/model/i18n" title="国际化" class="btn btn-text-dark btn-small mt-tiny rounded ">国际化</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">组件</p> <a href="/guide/ui/introduction" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/ui/subscription" title="订阅成员状态" class="btn btn-text-dark btn-small mt-tiny rounded ">订阅成员状态</a> <a href="/guide/ui/installation" title="注册成员组件" class="btn btn-text-dark btn-small mt-tiny rounded btn-active">注册成员组件</a> <a href="/guide/ui/form" title="内置引擎组件" class="btn btn-text-dark btn-small mt-tiny rounded ">内置引擎组件</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">其它</p> <a href="/guide/others/faq" title=FAQ class="btn btn-text-dark btn-small mt-tiny rounded ">FAQ</a> <a href="/guide/others/summary" title="写在最后" class="btn btn-text-dark btn-small mt-tiny rounded ">写在最后</a> </div> </div> </aside> <div class=col-auto> <article class="docs article p-medium p-large-m "> <h1 id="注册成员组件">注册成员组件</h1> <p>当我们在内置引擎中注册了新的成员类型，需要配套注册一个成员组件， 以保证该类型下的成员可以被正确绘制。 <a href="/api/ui"><code>UI</code></a> 模块提供了统一的组件管理能力，按照约定命名空间注册的成员组件， 可在其它各种内置组件中被识别和调用。</p> <p>我们以内置引擎的表单绘制组件为例，通过下面的示例具体说明。</p> <iframe height=600 style="width: 100%;" scrolling=no title="gui/installation/1" src="https://codepen.io/rcfm/embed/GRyoYyd?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/GRyoYyd"> gui/installation/1</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <p>在上面的例子中，我们在内置引擎中注册了 <code>MyCustomField</code> 输入项类型，并使用 <a href="/api/ui#.install()"><code>UI.install()</code></a> 方法在约定命名空间 <code>React.Section.MyCustomField</code> 下注册了对应的输入项组件。 这样，当内置引擎的 <code>React.View.Form</code> 组件需要绘制 <code>MyCustomField</code> 类型输入项时， 就可以按照命名约定查找到正确的组件，并调用其绘制出成员的状态。</p> <p>多数情况下，对于自定义注册的成员类型，只需注册一个绘制成员的组件就可以。下面的例子中， 我们使用了相同的 <code>MyCustomField</code> 成员组件在表单配置组件中绘制。</p> <iframe height=600 style="width: 100%;" scrolling=no title="ui/installation/2" src="https://codepen.io/rcfm/embed/zYpreaB?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/zYpreaB"> ui/installation/2</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <p>可以看到，我们虽然没有额外注册预览或配置 <code>MyCustomField</code> 输入项的组件， 但该类型输入项在配置模式下依然可以正常工作，这是因为内置引擎默认提供了成员的预览组件和配置组件，可以将注册的成员组件包装、复用。 当然，内置引擎的提供的组件是可以被替换的，下面我们就来了解一下如何替换内置引擎组件。</p> <h2 id="替换成员组件">替换成员组件</h2> <p>替换内置引擎组件需要使用的仍然是 <a href="/api/ui#.install()"><code>UI.install()</code></a> 方法， 替换的原理很简单，就是对指定命名空间下已注册的组件进行替换，与注册组件相比， 只需新传递一个 <code>force</code> 参数，其值为 <code>true</code>。</p> <p>在下面的例子中，我们来对 <code>MyCustomField</code> 输入项的 <code>label</code> 属性配置组件进行替换。</p> <iframe height=600 style="width: 100%;" scrolling=no title="ui/installation/3" src="https://codepen.io/rcfm/embed/jOYWdoO?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/jOYWdoO"> ui/installation/3</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <p>实际上，内置引擎提供的各种组件都可以按照约定的命名空间被替换， 在后续章节中我们将陆续介绍这些组件的作用，读者们可以按需替换，以实现必要的定制。</p> <h2 id="小结">小结</h2> <ul> <li>内置引擎中注册的成员类型，需要使用 <a href="/api/ui#.install()"><code>UI.install()</code></a> 方法，在约定命名空间下配套注册成员组件。</li> <li><a href="/api/ui#.install()"><code>UI.install()</code></a> 在传入 <code>force: true</code> 时，可替换指定命名空间下的组件。</li> </ul> </article> <footer class="footer py-medium px-medium py-large-m sd-low"> <p class="p7 ta-center c-secondary"> Reactive Form 基于 <a href="https://creativecommons.org/licenses/by-nd/3.0/cn/legalcode">CC BY-ND</a> 协议发布 </br> Copyright © 2022 吉林省吉林祥云信息技术有限公司 </p> </footer> </div> </div> </body> </html>