<!doctype html> <html> <head> <title>Reactive Form - 模型驱动、可扩展的表单引擎</title> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name=renderer content=webkit> <meta http-equiv=X-UA-Compatible content="IE=Edge,chrome=1"> <meta name=apple-mobile-web-app-capable content=yes> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <meta name=apple-mobile-web-app-title content=ReactiveForm> <meta name=mobile-web-app-capable content=ReactiveForm> <meta name=application-name content=ReactiveForm> <meta content="telephone=no" name=format-detection> <meta name=msapplication-tap-highlight content=no> <meta name=author content=""> <meta name=keywords content=""> <meta name=description content=""> <link rel="shortcut icon" href="/favicon.ico"> <script src="/assets/javascripts/luda-degradation.min-de40bf23.js"></script> <script src="/assets/javascripts/turbo.es2017-umd.min-6c3e5b73.js" data-turbo-track=reload></script> <link href="/assets/stylesheets/luda-default.min-d9508530.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/rouge-ebba3ab6.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/site-6dd0c0c3.css" rel=stylesheet data-turbo-track=reload /> <script src="/assets/javascripts/luda.min-10857b5a.js" data-turbo-track=reload></script> </head> <body id=""> <div class=grid-edge> <aside class="nav-aside col-12 col-3-m bc-light sd-low"> <a href="/" class=nav-logo> <picture class=d-block> <source srcset="/assets/images/logo-f19b9c85.svg" media="(min-width: 768px)"> <img src="/assets/images/logo_full-dcdab38b.svg" alt="rcfm logo" width=""/> </picture> </a> <button class="nav-open btn btn-ico btn-text-dark" data-toggle-for=aside-menu> <i class="ico ico-menu"></i> </button> <div class="nav-menu pb-large" data-toggle-target=aside-menu> <button class="nav-close btn btn-ico btn-text-dark" data-toggleable> <i class="ico ico-cross"></i> </button> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">开始</p> <a href="/guide/general/situations/" title="适用场景" class="btn btn-text-dark btn-small mt-tiny rounded ">适用场景</a> <a href="/guide/general/platforms/" title="兼容性" class="btn btn-text-dark btn-small mt-tiny rounded ">兼容性</a> <a href="/guide/general/installation/" title="安装方式" class="btn btn-text-dark btn-small mt-tiny rounded ">安装方式</a> <a href="/guide/general/get_started/" title="入门示例" class="btn btn-text-dark btn-small mt-tiny rounded ">入门示例</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">模型</p> <a href="/guide/model/introduction/" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/model/reactive/" title=Reactive class="btn btn-text-dark btn-small mt-tiny rounded ">Reactive</a> <a href="/guide/model/reactive_customization/" title="构建引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">构建引擎</a> <a href="/guide/model/form/" title="内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">内置引擎</a> <a href="/guide/model/form_customization/" title="扩展内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">扩展内置引擎</a> <a href="/guide/model/i18n/" title="国际化" class="btn btn-text-dark btn-small mt-tiny rounded ">国际化</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">组件</p> <a href="/guide/ui/introduction/" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/ui/subscription/" title="订阅成员状态" class="btn btn-text-dark btn-small mt-tiny rounded ">订阅成员状态</a> <a href="/guide/ui/installation/" title="注册成员组件" class="btn btn-text-dark btn-small mt-tiny rounded ">注册成员组件</a> <a href="/guide/ui/form/" title="内置引擎组件" class="btn btn-text-dark btn-small mt-tiny rounded btn-active">内置引擎组件</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">其它</p> <a href="/guide/others/faq/" title=FAQ class="btn btn-text-dark btn-small mt-tiny rounded ">FAQ</a> <a href="/guide/others/summary/" title="写在最后" class="btn btn-text-dark btn-small mt-tiny rounded ">写在最后</a> </div> </div> </aside> <div class=col-auto> <article class="docs article p-medium p-large-m "> <h1 id="内置引擎组件">内置引擎组件</h1> <p>内置 Form 引擎的配套组件实现了其各类型成员的绘制、可视化配置以及预览功能， 还提供了一套表单绘制组件和配置组件。本章中我们将逐一介绍这些组件的作用和用法。</p> <h2 id="成员组件">成员组件</h2> <h3 id=member-renderer>Member Renderer</h3> <p>Member Renderer 的作用是提供成员组件的统一绘制入口，该组件会根据需要绘制的成员的类型， 动态调用对应命名空间下的的成员组件，而无需开发人员手动编写成员类型与组件的匹配条件。 在内置引擎中，无论是已集成的成员组件还是自定义注册的成员组件， Member Renderer 对命名空间的约定都是一致的，均为: <code>&lt;React/Vue&gt;.Section.&lt;MemberType&gt;</code>。 下面，我们通过具体示例来了解该组件的用法。</p> <div class="tab docs-tab "> <nav class="tab-indicators btns-x mb-tiny"> <button class="btn btn-small btn-hollow-dark rounded-l"> React </button> <button class="btn btn-small btn-hollow-dark rounded-r"> Vue </button> </nav> <div class=tab-panes> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/1" src="https://codepen.io/rcfm/embed/yLpJPqO?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/yLpJPqO"> ui/form/1</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/1_vue" src="https://codepen.io/rcfm/embed/qBYJQjK?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/qBYJQjK"> ui/form/1_vue</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> </div> </div> <h3 id=member-previewer>Member Previewer</h3> <p>Member Previewer 的作用是绘制一个只读状态的成员组件，通常用于绘制配置状态下的成员。 默认情况下，该组件默认会直接包装 Member Renderer， 但可通过向 <code>&lt;React/Vue&gt;.Section.&lt;MemberType&gt;.Previewer</code> 命名空间下注册自定义组件， 实现定制化的预览效果。具体用法如下。</p> <div class="tab docs-tab "> <nav class="tab-indicators btns-x mb-tiny"> <button class="btn btn-small btn-hollow-dark rounded-l"> React </button> <button class="btn btn-small btn-hollow-dark rounded-r"> Vue </button> </nav> <div class=tab-panes> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/2" src="https://codepen.io/rcfm/embed/ExoyEpX?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/ExoyEpX"> ui/form/2</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/2_vue" src="https://codepen.io/rcfm/embed/RwyeqjO?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/RwyeqjO"> ui/form/2_vue</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> </div> </div> <h3 id=member-prop-editor>Member Prop Editor</h3> <p>Member Prop Editor 的作用是提供成员属性可视化配置组件的统一入口，在内置引擎中， 无论是已集成的成员组件还是自定义注册的成员组件，Member Prop Editor 都可以调用一套已默认提供用来配置成员属性的组件。 与此同时，还支持注册自定义属性配置组件，查找的命名空间顺序如下:</p> <div class=highlight><pre class="code shell"><code>&lt;React/Vue&gt;.Section.&lt;MemberType&gt;.PropEditor
&lt;React/Vue&gt;.Section.&lt;MemberType&gt;.PropEditor.&lt;Property&gt;
&lt;React/Vue&gt;.Section.Member.PropEditor.&lt;Property&gt;
</code></pre></div> <p>如有定制化需求，可按照如上的命名空间顺序分别注册应用于特定类型成员的属性配置组件、 特定类型成员特定属性的配置组件，以及所有类型成员特定属性的配置组件。 在下面的代码片段中，我们展示了该组件的默认行为，并以定制应用于所有类型成员的 <code>label</code> 属性配置组件做例。</p> <div class="tab docs-tab "> <nav class="tab-indicators btns-x mb-tiny"> <button class="btn btn-small btn-hollow-dark rounded-l"> React </button> <button class="btn btn-small btn-hollow-dark rounded-r"> Vue </button> </nav> <div class=tab-panes> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/3" src="https://codepen.io/rcfm/embed/KKZMRov?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/KKZMRov"> ui/form/3</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/3_vue" src="https://codepen.io/rcfm/embed/dyegwwM?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/dyegwwM"> ui/form/3_vue</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> </div> </div> <p>在 <a href="/guide/model/form_customization/">扩展内置引擎模型</a> 的教程中， 我们提到过 <a href="/api/form/#providers"><code>Form.providers()</code></a> 方法和 <a href="/api/form/#validators"><code>Form.validators()</code></a> 方法在配套的组件中也起到了一定的作用。 Member Prop Editor 在内部便调用了这两个方法， 在绘制成员可引用范围列表时，调用了 <code>Form.validators()</code> 方法来查找可被引用的成员属性范围； 在绘制成员 <code>validation</code> 属性配置组件和 DSL 条件配置组件时， 调用了 <code>Form.validators()</code> 方法来查找成员的可用校验方法范围， 并向该方法的 <code>options</code> 对象参数中分别传递了 <code>scope: 'validation'</code> 和 <code>scope: 'condition'</code> 来区分两种场景。 简单来说就是，Member Prop Editor 遵循 <code>Form.providers()</code> 方法和 <code>Form.validators()</code> 的返回值， 来绘制相关的 UI 组件。</p> <h3 id=member-editor>Member Editor</h3> <p>Member Editor 组件是基于 Member Prop Editor 的一个高级封装， 组件内部会调用 <code>reactive#schema.for()</code> 方法查找成员的 <code>schema</code> 定义， 并将定义中声明的属性分别使用 Member Prop Edior 绘制出配置组件。具体用法如下。</p> <div class="tab docs-tab "> <nav class="tab-indicators btns-x mb-tiny"> <button class="btn btn-small btn-hollow-dark rounded-l"> React </button> <button class="btn btn-small btn-hollow-dark rounded-r"> Vue </button> </nav> <div class=tab-panes> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/4" src="https://codepen.io/rcfm/embed/yLpJEeq?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/yLpJEeq"> ui/form/4</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> <div class=tab-pane> <iframe height=600 style="width: 100%;" scrolling=no title="ui/form/4_vue" src="https://codepen.io/rcfm/embed/XWqxoQv?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/XWqxoQv"> ui/form/4_vue</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> </div> </div> </div> <p>与上文提到过的其它组件类似，如果对某类型成员的 Member Editor 组件有定制化需求， 可通过向 <code>&lt;React/Vue&gt;.Section.&lt;MemberType&gt;.Editor</code> 命名空间中注册组件实现， 用法此处不再赘述。</p> <h2 id="表单组件">表单组件</h2> <p>Form Renderer 可以将内置引擎创建的 Reactive 实例，直接绘制成一个可填写的表单。 与 Form Renderer 相对，Form Builder 可以将内置引擎创建的 Reactive 实例，直接绘制成一个可配置的表单。 具体用法，我们在 <a href="/guide/general/get_started/">入门示例</a> 中已介绍过， 读者可以结合本章内容进行回顾，体会表单组件与成员组件的关系。</p> <h2 id="小结">小结</h2> <ul> <li>内置 Form 引擎的配套组件实现了其各类型成员及表单的绘制、可视化配置和预览功能。</li> <li>Member Renderer 的作用是提供成员组件的统一绘制入口。</li> <li>Member Previewer 的作用是绘制只读状态的成员组件，该组件默认直接包装 Member Renderer。</li> <li>Member Prop Editor 的作用是提供成员属性可视化配置组件的统一入口。</li> <li>Member Editor 的作用是提供成员可视化配置组件的统一入口，是基于 Member Prop Editor 的一个高级封装。</li> </ul> </article> <footer class="footer py-medium px-medium py-large-m sd-low"> <p class="p7 ta-center c-secondary"> Reactive Form 基于 <a href="https://creativecommons.org/licenses/by-nd/3.0/cn/legalcode">CC BY-ND</a> 协议发布 </br> Copyright © 2022 吉林省吉林祥云信息技术有限公司 </p> </footer> </div> </div> </body> </html>