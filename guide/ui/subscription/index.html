<!doctype html> <html> <head> <title>Reactive Form - 模型驱动、可扩展的表单引擎</title> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"> <meta name=renderer content=webkit> <meta http-equiv=X-UA-Compatible content="IE=Edge,chrome=1"> <meta name=apple-mobile-web-app-capable content=yes> <meta name=apple-mobile-web-app-status-bar-style content=black-translucent> <meta name=apple-mobile-web-app-title content=ReactiveForm> <meta name=mobile-web-app-capable content=ReactiveForm> <meta name=application-name content=ReactiveForm> <meta content="telephone=no" name=format-detection> <meta name=msapplication-tap-highlight content=no> <meta name=author content=""> <meta name=keywords content=""> <meta name=description content=""> <link rel="shortcut icon" href="/favicon.ico"> <script src="/assets/javascripts/luda-degradation.min-de40bf23.js"></script> <script src="/assets/javascripts/turbo.es2017-umd.min-6c3e5b73.js" data-turbo-track=reload></script> <link href="/assets/stylesheets/luda-default.min-d9508530.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/rouge-ebba3ab6.css" rel=stylesheet data-turbo-track=reload /> <link href="/assets/stylesheets/site-6dd0c0c3.css" rel=stylesheet data-turbo-track=reload /> <script src="/assets/javascripts/luda.min-10857b5a.js" data-turbo-track=reload></script> </head> <body id=""> <div class=grid-edge> <aside class="nav-aside col-12 col-3-m bc-light sd-low"> <a href="/" class=nav-logo> <picture class=d-block> <source srcset="/assets/images/logo-f19b9c85.svg" media="(min-width: 768px)"> <img src="/assets/images/logo_full-dcdab38b.svg" alt="rcfm logo" width=""/> </picture> </a> <button class="nav-open btn btn-ico btn-text-dark" data-toggle-for=aside-menu> <i class="ico ico-menu"></i> </button> <div class="nav-menu pb-large" data-toggle-target=aside-menu> <button class="nav-close btn btn-ico btn-text-dark" data-toggleable> <i class="ico ico-cross"></i> </button> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">开始</p> <a href="/guide/general/situations/" title="适用场景" class="btn btn-text-dark btn-small mt-tiny rounded ">适用场景</a> <a href="/guide/general/platforms/" title="兼容性" class="btn btn-text-dark btn-small mt-tiny rounded ">兼容性</a> <a href="/guide/general/installation/" title="安装方式" class="btn btn-text-dark btn-small mt-tiny rounded ">安装方式</a> <a href="/guide/general/get_started/" title="入门示例" class="btn btn-text-dark btn-small mt-tiny rounded ">入门示例</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">模型</p> <a href="/guide/model/introduction/" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/model/reactive/" title=Reactive class="btn btn-text-dark btn-small mt-tiny rounded ">Reactive</a> <a href="/guide/model/reactive_customization/" title="构建引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">构建引擎</a> <a href="/guide/model/form/" title="内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">内置引擎</a> <a href="/guide/model/form_customization/" title="扩展内置引擎" class="btn btn-text-dark btn-small mt-tiny rounded ">扩展内置引擎</a> <a href="/guide/model/i18n/" title="国际化" class="btn btn-text-dark btn-small mt-tiny rounded ">国际化</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">组件</p> <a href="/guide/ui/introduction/" title="概述" class="btn btn-text-dark btn-small mt-tiny rounded ">概述</a> <a href="/guide/ui/subscription/" title="订阅成员状态" class="btn btn-text-dark btn-small mt-tiny rounded btn-active">订阅成员状态</a> <a href="/guide/ui/installation/" title="注册成员组件" class="btn btn-text-dark btn-small mt-tiny rounded ">注册成员组件</a> <a href="/guide/ui/form/" title="内置引擎组件" class="btn btn-text-dark btn-small mt-tiny rounded ">内置引擎组件</a> </div> <div class="nav-items mx-medium"> <p class="nav-items-title px-small mb-tiny fw-bold c-dark">其它</p> <a href="/guide/others/faq/" title=FAQ class="btn btn-text-dark btn-small mt-tiny rounded ">FAQ</a> <a href="/guide/others/summary/" title="写在最后" class="btn btn-text-dark btn-small mt-tiny rounded ">写在最后</a> </div> </div> </aside> <div class=col-auto> <article class="docs article p-medium p-large-m "> <h1 id="订阅成员状态">订阅成员状态</h1> <p><a href="/api/reactive/#subscribe"><code>reactive#subscribe()</code></a> 方法提供了订阅成员状态变更的能力， 当被订阅的成员的状态发生变更，回调函数会被触发。我们可以基于订阅/发布模式在视图上实时反映成员的当前状态，具体请看下面的示例。</p> <iframe height=600 style="width: 100%;" scrolling=no title="ui/subscription/1" src="https://codepen.io/rcfm/embed/mdpVbJp?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/mdpVbJp"> ui/subscription/1</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <p>除了模型层提供的订阅方法外，为了方便不同背景的开发人员， Reactive Form 还提供了特定技术栈下订阅成员状态变更的方式。 提供了基于 <a href="https://reactjs.org/docs/hooks-intro.html">React Hooks</a> 的实现， 以及基于 <a href="https://v3.vuejs.org/guide/composition-api-introduction.html">Vue Composition API</a> 的实现。</p> <h2 id="在-react-中订阅成员状态">在 React 中订阅成员状态</h2> <p><a href="/api/react/#usereactive"><code>UI.React.hooks.useReactive()</code></a> 是 Reactive Form 提供的可直接在 React 组件中使用的， 用来订阅成员状态变更的 React Hook。其实现的基础是 <a href="/api/context/#subscribe"><code>reactive#subscribe()</code></a> 方法，在其上封装了伴随 React 组件生命周期自动订阅/解除订阅的处理过程。具体用法如下。</p> <iframe height=600 style="width: 100%;" scrolling=no title="ui/subscription/2" src="https://codepen.io/rcfm/embed/rNpxBYe?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/rNpxBYe"> ui/subscription/2</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <h2 id="在-vue-中订阅成员状态">在 Vue 中订阅成员状态</h2> <p><a href="/api/vue/#usereactive"><code>UI.Vue.composables.useReactive()</code></a> 是 Reactive Form 提供的可直接在 Vue 组件中使用的， 用来订阅成员状态变更的 Composition API。其实现的基础是 <a href="/api/context/#subscribe"><code>reactive#subscribe()</code></a> 方法，在其上封装了伴随 Vue 组件生命周期自动订阅/解除订阅的处理过程。 订阅的成员状态保存在一个 <a href="https://vuejs.org/api/reactivity-advanced.html#shallowref"><code>shallowRef</code></a> 中。 具体用法如下。</p> <iframe height=600 style="width: 100%;" scrolling=no title="ui/subscription/2_vue" src="https://codepen.io/rcfm/embed/VwxXzax?default-tab=js%2Cresult&amp;editable=true" frameborder=no loading=lazy allowtransparency=true allowfullscreen=true> See the Pen <a href="https://codepen.io/rcfm/pen/VwxXzax"> ui/subscription/2_vue</a> by rcfm (<a href="https://codepen.io/rcfm">@rcfm</a>) on <a href="https://codepen.io">CodePen</a>. </iframe> <h2 id="小结">小结</h2> <ul> <li><a href="/api/context/#subscribe"><code>reactive#subscribe()</code></a> 方法提供了订阅成员状态变更的能力。</li> <li><a href="/api/ui_hooks/#usereactive"><code>UI.React.hooks.useReactive()</code></a> 可直接在 React 组件中订阅成员状态变更。</li> <li><a href="/api/ui_hooks/#usereactive"><code>UI.Vue.composables.useReactive()</code></a> 可直接在 Vue 组件中订阅成员状态变更。</li> </ul> </article> <footer class="footer py-medium px-medium py-large-m sd-low"> <p class="p7 ta-center c-secondary"> Reactive Form 基于 <a href="https://creativecommons.org/licenses/by-nd/3.0/cn/legalcode">CC BY-ND</a> 协议发布 </br> Copyright © 2023 吉林省吉林祥云信息技术有限公司 </p> </footer> </div> </div> </body> </html>